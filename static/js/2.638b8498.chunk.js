/*! For license information please see 2.638b8498.chunk.js.LICENSE.txt */
(this["webpackJsonpbuttplug-type"]=this["webpackJsonpbuttplug-type"]||[]).push([[2],[function(e,t,r){e.exports=r(132)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";e.exports=r(127)},function(e,t,r){var n=r(30);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(72),i=r(73),a=r(134);e.exports=function(e){return function(){var t,r=n(e);if(i()){var o=n(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return a(this,t)}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n=r(1),i=r(2),a=r(4),o=r(5),s=r(145),u=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return c(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugUnknownException=t.ButtplugPingException=t.ButtplugMessageException=t.ButtplugDeviceException=t.ButtplugInitException=t.ButtplugException=void 0;var f=l(r(8)),d=function(e){a(r,e);var t=o(r);function r(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.SYSTEM_MESSAGE_ID,s=arguments.length>3?arguments[3]:void 0;return n(this,r),(a=t.call(this,e)).errorClass=f.ErrorClass.ERROR_UNKNOWN,a.errorClass=i,a.innerError=s,a.messageId=o,a}return i(r,[{key:"ErrorClass",get:function(){return this.errorClass}},{key:"InnerException",get:function(){return this.innerError}},{key:"Id",get:function(){return this.messageId}},{key:"ErrorMessage",get:function(){return new f.Error(this.message,this.ErrorClass,this.Id)}}],[{key:"LogAndError",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.SYSTEM_MESSAGE_ID;return t.Error(r),new e(r,n)}},{key:"FromError",value:function(e){switch(e.ErrorCode){case f.ErrorClass.ERROR_DEVICE:return new h(e.ErrorMessage,e.Id);case f.ErrorClass.ERROR_INIT:return new p(e.ErrorMessage,e.Id);case f.ErrorClass.ERROR_UNKNOWN:return new g(e.ErrorMessage,e.Id);case f.ErrorClass.ERROR_PING:return new m(e.ErrorMessage,e.Id);case f.ErrorClass.ERROR_MSG:return new v(e.ErrorMessage,e.Id);default:throw new Error("Message type ".concat(e.ErrorCode," not handled"))}}}]),r}(s(Error));t.ButtplugException=d;var p=function(e){a(r,e);var t=o(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.SYSTEM_MESSAGE_ID;return n(this,r),t.call(this,e,f.ErrorClass.ERROR_INIT,i)}return r}(d);t.ButtplugInitException=p;var h=function(e){a(r,e);var t=o(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.SYSTEM_MESSAGE_ID;return n(this,r),t.call(this,e,f.ErrorClass.ERROR_DEVICE,i)}return r}(d);t.ButtplugDeviceException=h;var v=function(e){a(r,e);var t=o(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.SYSTEM_MESSAGE_ID;return n(this,r),t.call(this,e,f.ErrorClass.ERROR_MSG,i)}return r}(d);t.ButtplugMessageException=v;var m=function(e){a(r,e);var t=o(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.SYSTEM_MESSAGE_ID;return n(this,r),t.call(this,e,f.ErrorClass.ERROR_PING,i)}return r}(d);t.ButtplugPingException=m;var g=function(e){a(r,e);var t=o(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.SYSTEM_MESSAGE_ID;return n(this,r),t.call(this,e,f.ErrorClass.ERROR_UNKNOWN,i)}return r}(d);t.ButtplugUnknownException=g},function(e,t,r){"use strict";var n=r(9),i=r(4),a=r(5),o=r(1),s=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageAttributes=t.LinearCmd=t.VectorSubcommand=t.RotateCmd=t.RotateSubcommand=t.VibrateCmd=t.SpeedSubcommand=t.GenericMessageSubcommand=t.VorzeA10CycloneCmd=t.LovenseCmd=t.StopAllDevices=t.StopDeviceCmd=t.SingleMotorVibrateCmd=t.KiirooCmd=t.FleshlightLaunchFW12Cmd=t.ServerInfo=t.RequestServerInfo=t.Log=t.RequestLog=t.ScanningFinished=t.StopScanning=t.StartScanning=t.RequestDeviceList=t.DeviceRemoved=t.DeviceAdded=t.DeviceAddedVersion0=t.DeviceList=t.DeviceInfoWithSpecifications=t.DeviceListVersion0=t.DeviceInfo=t.Error=t.ErrorClass=t.Test=t.Ping=t.Ok=t.ButtplugSystemMessage=t.ButtplugDeviceMessage=t.ButtplugMessage=t.MESSAGE_SPEC_VERSION=t.MAX_ID=t.DEFAULT_MESSAGE_ID=t.SYSTEM_MESSAGE_ID=void 0;var u=r(75),c=r(7);r(148),t.SYSTEM_MESSAGE_ID=0,t.DEFAULT_MESSAGE_ID=1,t.MAX_ID=4294967295,t.MESSAGE_SPEC_VERSION=1;var l=function(){function e(t){o(this,e),this.Id=t}return s(e,[{key:"DowngradeMessage",value:function(){throw new c.ButtplugMessageException("Message version downgrade required, but not defined for this message type.",this.Id)}},{key:"getType",value:function(){return this.Type}},{key:"toJSON",value:function(){return JSON.stringify(this.toProtocolFormat())}},{key:"toProtocolFormat",value:function(){var e={};return e[this.Type.name]=u.classToPlain(this),e}},{key:"Type",get:function(){return this.constructor}}]),e}();t.ButtplugMessage=l;var f=function(e){i(r,e);var t=a(r);function r(e,n){var i;return o(this,r),(i=t.call(this,n)).DeviceIndex=e,i.Id=n,i}return r}(l);t.ButtplugDeviceMessage=f;var d=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.SYSTEM_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return n}(l);t.ButtplugSystemMessage=d;var p=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(d);t.Ok=p;var h=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.Ping=h;var v,m=function(e){i(n,e);var r=a(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MESSAGE_ID;return o(this,n),(i=r.call(this,a)).TestString=e,i.Id=a,i}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.Test=m,function(e){e[e.ERROR_UNKNOWN=0]="ERROR_UNKNOWN",e[e.ERROR_INIT=1]="ERROR_INIT",e[e.ERROR_PING=2]="ERROR_PING",e[e.ERROR_MSG=3]="ERROR_MSG",e[e.ERROR_DEVICE=4]="ERROR_DEVICE"}(v=t.ErrorClass||(t.ErrorClass={}));var g=function(e){i(n,e);var r=a(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ERROR_UNKNOWN,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,n),(i=r.call(this,s)).ErrorMessage=e,i.ErrorCode=a,i.Id=s,i}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(d);t.Error=g;var y=function e(t,r,n){o(this,e),this.DeviceIndex=t,this.DeviceName=r,this.DeviceMessages=n};t.DeviceInfo=y;var b=function(e){i(r,e);var t=a(r);function r(e,n){var i;return o(this,r),(i=t.call(this)).Devices=e,i.Id=n,i}return s(r,[{key:"Type",get:function(){return w.constructor}},{key:"SchemaVersion",get:function(){return 0}}]),r}(d);t.DeviceListVersion0=b;t.DeviceInfoWithSpecifications=function e(t,r,n){o(this,e),this.DeviceIndex=t,this.DeviceName=r,this.DeviceMessages=n};var w=function(e){i(r,e);var t=a(r);function r(e,n){var i;return o(this,r),(i=t.call(this)).Devices=e,i.Id=n,i}return s(r,[{key:"DowngradeMessage",value:function(){var e,t=[],r=n(this.Devices);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(new y(i.DeviceIndex,i.DeviceName,Object.keys(i.DeviceMessages)))}}catch(a){r.e(a)}finally{r.f()}return new b(t,this.Id)}},{key:"SchemaVersion",get:function(){return 1}}]),r}(d);t.DeviceList=w;var _=function(e){i(r,e);var t=a(r);function r(e,n,i){var a;return o(this,r),(a=t.call(this)).DeviceIndex=e,a.DeviceName=n,a.DeviceMessages=i,a}return s(r,[{key:"Type",get:function(){return x.constructor}},{key:"SchemaVersion",get:function(){return 0}}]),r}(d);t.DeviceAddedVersion0=_;var x=function(e){i(r,e);var t=a(r);function r(e,n,i){var a;return o(this,r),(a=t.call(this)).DeviceIndex=e,a.DeviceName=n,a.DeviceMessages=i,a}return s(r,[{key:"DowngradeMessage",value:function(){return new _(this.DeviceIndex,this.DeviceName,Object.keys(this.DeviceMessages))}},{key:"SchemaVersion",get:function(){return 1}}]),r}(d);t.DeviceAdded=x;var S=function(e){i(r,e);var t=a(r);function r(e){var n;return o(this,r),(n=t.call(this)).DeviceIndex=e,n}return s(r,[{key:"SchemaVersion",get:function(){return 0}}]),r}(d);t.DeviceRemoved=S;var E=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.RequestDeviceList=E;var P=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.StartScanning=P;var C=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.StopScanning=C;var k=function(e){i(r,e);var t=a(r);function r(){return o(this,r),t.call(this)}return s(r,[{key:"SchemaVersion",get:function(){return 0}}]),r}(d);t.ScanningFinished=k;var M=function(e){i(n,e);var r=a(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MESSAGE_ID;return o(this,n),(i=r.call(this,a)).LogLevel=e,i.Id=a,i}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.RequestLog=M;var D=function(e){i(r,e);var t=a(r);function r(e,n){var i;return o(this,r),(i=t.call(this)).LogLevel=e,i.LogMessage=n,i}return s(r,[{key:"SchemaVersion",get:function(){return 0}}]),r}(d);t.Log=D;var T=function(e){i(n,e);var r=a(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,n),(i=r.call(this,s)).ClientName=e,i.MessageVersion=a,i.Id=s,i}return s(n,[{key:"SchemaVersion",get:function(){return 1}}]),n}(l);t.RequestServerInfo=T;var O=function(e){i(n,e);var r=a(n);function n(e,i,a,s,u,c){var l,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t.DEFAULT_MESSAGE_ID;return o(this,n),(l=r.call(this)).MajorVersion=e,l.MinorVersion=i,l.BuildVersion=a,l.MessageVersion=s,l.MaxPingTime=u,l.ServerName=c,l.Id=f,l}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(d);t.ServerInfo=O;var I=function(e){i(n,e);var r=a(n);function n(e,i){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_MESSAGE_ID;return o(this,n),(a=r.call(this,s,u)).Speed=e,a.Position=i,a.DeviceIndex=s,a.Id=u,a}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(f);t.FleshlightLaunchFW12Cmd=I;var L=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,a,s)).DeviceIndex=a,e.Id=s,e.Command="0",e.Command=String(i),e}return s(n,[{key:"Position",set:function(e){this.Command=e>=0&&e<=4?String(Math.round(e)):"0"},get:function(){var e=Number(this.Command)?Number(this.Command):0;return e<0||e>4?0:Math.round(e)}},{key:"SchemaVersion",get:function(){return 0}}]),n}(f);t.KiirooCmd=L;var R=function(e){i(n,e);var r=a(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,n),(i=r.call(this,a,s)).Speed=e,i.DeviceIndex=a,i.Id=s,i}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(f);t.SingleMotorVibrateCmd=R;var A=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i,a)).DeviceIndex=i,e.Id=a,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(f);t.StopDeviceCmd=A;var F=function(e){i(n,e);var r=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_MESSAGE_ID;return o(this,n),(e=r.call(this,i)).Id=i,e}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(l);t.StopAllDevices=F;var N=function(e){i(n,e);var r=a(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,n),(i=r.call(this,a,s)).Command=e,i.DeviceIndex=a,i.Id=s,i}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(f);t.LovenseCmd=N;var j=function(e){i(n,e);var r=a(n);function n(e,i){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_MESSAGE_ID;return o(this,n),(a=r.call(this,s,u)).Speed=e,a.Clockwise=i,a.DeviceIndex=s,a.Id=u,a}return s(n,[{key:"SchemaVersion",get:function(){return 0}}]),n}(f);t.VorzeA10CycloneCmd=j;var V=function e(t){o(this,e),this.Index=t};t.GenericMessageSubcommand=V;var B=function(e){i(r,e);var t=a(r);function r(e,n){var i;return o(this,r),(i=t.call(this,e)).Speed=n,i}return r}(V);t.SpeedSubcommand=B;var $=function(e){i(u,e);var r=a(u);function u(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,u),(n=r.call(this,i,a)).Speeds=e,n.DeviceIndex=i,n.Id=a,n}return s(u,[{key:"SchemaVersion",get:function(){return 1}}],[{key:"Create",value:function(e,r){var i,a=new Array,o=0,s=n(r);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(new B(o,c)),++o}}catch(l){s.e(l)}finally{s.f()}return new u(a,e,t.DEFAULT_MESSAGE_ID)}}]),u}(f);t.VibrateCmd=$;var z=function(e){i(r,e);var t=a(r);function r(e,n,i){var a;return o(this,r),(a=t.call(this,e)).Speed=n,a.Clockwise=i,a}return s(r,null,[{key:"Create",value:function(e,t){var r,i=new Array,a=0,o=n(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(new B(a,s)),++a}}catch(u){o.e(u)}finally{o.f()}return new $(i,e)}}]),r}(V);t.RotateSubcommand=z;var U=function(e){i(u,e);var r=a(u);function u(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,u),(n=r.call(this,i,a)).Rotations=e,n.DeviceIndex=i,n.Id=a,n}return s(u,[{key:"SchemaVersion",get:function(){return 1}}],[{key:"Create",value:function(e,t){var r,i=new Array,a=0,o=n(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(new z(a,s[0],s[1])),++a}}catch(c){o.e(c)}finally{o.f()}return new u(i,e)}}]),u}(f);t.RotateCmd=U;var H=function(e){i(r,e);var t=a(r);function r(e,n,i){var a;return o(this,r),(a=t.call(this,e)).Position=n,a.Duration=i,a}return r}(V);t.VectorSubcommand=H;var W=function(e){i(u,e);var r=a(u);function u(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_MESSAGE_ID;return o(this,u),(n=r.call(this,i,a)).Vectors=e,n.DeviceIndex=i,n.Id=a,n}return s(u,[{key:"SchemaVersion",get:function(){return 1}}],[{key:"Create",value:function(e,t){var r,i=new Array,a=0,o=n(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(new H(a,s[0],s[1])),++a}}catch(c){o.e(c)}finally{o.f()}return new u(i,e)}}]),u}(f);t.LinearCmd=W;t.MessageAttributes=function e(t){o(this,e),this.FeatureCount=t}},function(e,t,r){var n=r(29);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=n(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(26);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugDeviceProtocol=void 0;var l=r(13),f=r(14),d=r(7),p=function(e){s(r,e);var t=u(r);function r(e,a){var s;return i(this,r),(s=t.call(this)).MsgFuncs=new Map,s._logger=f.ButtplugLogger.Logger,s.ParseMessage=function(e){return c(o(s),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.MsgFuncs.has(e.Type)){t.next=2;break}throw new d.ButtplugMessageException("".concat(this._name," cannot handle message of type ").concat(e.Type.name),e.Id);case 2:return t.abrupt("return",this.MsgFuncs.get(e.Type)(e));case 3:case"end":return t.stop()}}),t,this)})))},s._name=e,s._device=a,s}return a(r,[{key:"Initialize",value:function(){return c(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))}},{key:"Name",get:function(){return this._name}},{key:"AllowedMessageTypes",get:function(){return Array.from(this.MsgFuncs.keys())}}]),r}(l.EventEmitter);t.ButtplugDeviceProtocol=p},function(e,t,r){"use strict";(function(e){var n=r(136),i=r(137),a=r(138);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(c(e,a+d)!==c(t,d)){f=!1;break}if(f)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function w(e,t,r,n){return z(B(t,e.length-r),e,r,n)}function _(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return _(e,t,r,n)}function S(e,t,r,n){return z($(t),e,r,n)}function E(e,t,r,n){return z(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],o=l[f];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=V(e[a]);return i}function T(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function A(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,a){return a||A(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,a){return a||A(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=u.isBuffer(e)?e:B(new u(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function $(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(77))},function(e,t,r){"use strict";var n,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==a&&e.removeListener("error",a),r([].slice.call(arguments))}var a;"error"!==t&&(a=function(r){e.removeListener(t,i),n(r)},e.once("error",a)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,a,o,s;if(c(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"===typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)a(u,this,t);else{var c=u.length,l=m(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,a,o;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(4),i=r(5),a=r(1),o=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugLogger=t.LogMessage=t.ButtplugLogLevel=void 0;var s,u=r(13);!function(e){e[e.Off=0]="Off",e[e.Fatal=1]="Fatal",e[e.Error=2]="Error",e[e.Warn=3]="Warn",e[e.Info=4]="Info",e[e.Debug=5]="Debug",e[e.Trace=6]="Trace"}(s=t.ButtplugLogLevel||(t.ButtplugLogLevel={}));var c=function(){function e(t,r){a(this,e);var n=new Date,i=n.getHours(),o=n.getMinutes(),s=n.getSeconds();this.timestamp="".concat(i,":").concat(o,":").concat(s),this.logMessage=t,this.logLevel=r}return o(e,[{key:"Message",get:function(){return this.logMessage}},{key:"LogLevel",get:function(){return this.logLevel}},{key:"Timestamp",get:function(){return this.timestamp}},{key:"FormattedMessage",get:function(){return"".concat(s[this.logLevel]," : ").concat(this.timestamp," : ").concat(this.logMessage)}}]),e}();t.LogMessage=c;var l=function(e){n(r,e);var t=i(r);function r(){var e;return a(this,r),(e=t.call(this)).maximumConsoleLogLevel=s.Off,e.maximumEventLogLevel=s.Off,e}return o(r,[{key:"Fatal",value:function(e){this.AddLogMessage(e,s.Fatal)}},{key:"Error",value:function(e){this.AddLogMessage(e,s.Error)}},{key:"Warn",value:function(e){this.AddLogMessage(e,s.Warn)}},{key:"Info",value:function(e){this.AddLogMessage(e,s.Info)}},{key:"Debug",value:function(e){this.AddLogMessage(e,s.Debug)}},{key:"Trace",value:function(e){this.AddLogMessage(e,s.Trace)}},{key:"AddLogMessage",value:function(e,t){if(!(t>this.maximumEventLogLevel&&t>this.maximumConsoleLogLevel)){var r=new c(e,t);t<=this.maximumConsoleLogLevel&&console.log(r.FormattedMessage),t<=this.maximumEventLogLevel&&this.emit("log",r)}}},{key:"MaximumConsoleLogLevel",get:function(){return this.maximumConsoleLogLevel},set:function(e){this.maximumConsoleLogLevel=e}},{key:"MaximumEventLogLevel",get:function(){return this.maximumEventLogLevel},set:function(e){this.maximumEventLogLevel=e}}],[{key:"Logger",get:function(){return void 0===r.sLogger&&(r.sLogger=new r),this.sLogger}}]),r}(u.EventEmitter);t.ButtplugLogger=l,l.sLogger=void 0},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GetEndpoint=t.Endpoints=void 0,function(e){e.Tx="tx",e.Rx="rx",e.Command="command",e.Firmware="firmware",e.TxMode="txmode",e.TxVibrate="txvibrate",e.TxShock="txshock",e.TxVendorControl="txvendorcontrol",e.RxTouch="rxtouch",e.RxAccel="rxaccel",e.Whitelist="whitelist"}(n=t.Endpoints||(t.Endpoints={}));var i,a=(i=n,Object.assign(function(e){var t={};return Object.keys(e).forEach((function(r){return t[e[r]]=r})),t}(i),i));t.GetEndpoint=function(e){try{return a[e]}catch(t){return null}}},function(e,t,r){var n=r(186),i=r(187),a=r(29),o=r(188);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(133),t),i(r(74),t),i(r(185),t),i(r(35),t),i(r(189),t),i(r(212),t),i(r(36),t),i(r(213),t),i(r(8),t),i(r(20),t),i(r(14),t),i(r(7),t),i(r(214),t),i(r(215),t),i(r(216),t),i(r(22),t),i(r(21),t),i(r(11),t),i(r(25),t),i(r(24),t),i(r(15),t),i(r(217),t),i(r(37),t),i(r(38),t),i(r(91),t),i(r(92),t),i(r(89),t),i(r(218),t),i(r(94),t),i(r(219),t),i(r(95),t),i(r(39),t),i(r(96),t),i(r(97),t),i(r(220),t)},function(e,t,r){"use strict";function n(e,t,r,n){var i=n?" !== ":" === ",a=n?" || ":" && ",o=n?"!":"",s=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+a+"typeof "+t+i+'"object"'+a+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+a+s+"("+t+" % 1)"+a+t+i+t+(r?a+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?a+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t,r){switch(e.length){case 1:return n(e[0],t,r,!0);default:var i="",o=a(e);for(var s in o.array&&o.object&&(i=o.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)i+=(i?" && ":"")+n(s,t,r,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var a=t[n];(i[a]||"array"===e&&"array"===a)&&(r[r.length]=a)}if(r.length)return r}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:a,getProperty:u,escapeQuotes:c,equal:r(33),ucs2length:r(152),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:l,getPathExpr:function(e,t,r,n){return p(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var n=l(r?"/"+h(t):u(t));return p(e,n)},getData:function(e,t,r){var n,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!f.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(!(o=e.match(d)))throw new Error("Invalid JSON-pointer: "+e);if(n=+o[1],"#"==(i=o[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(a="data"+(t-n||""),!i)return a}for(var s=a,c=i.split("/"),l=0;l<c.length;l++){var p=c[l];p&&(a+=u(v(p)),s+=" && "+a)}return s},unescapeFragment:function(e){return v(decodeURIComponent(e))},unescapeJsonPointer:v,escapeFragment:function(e){return encodeURIComponent(h(e))},escapeJsonPointer:h};var i=a(["string","number","integer","boolean","null"]);function a(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var o=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+c(e)+"'"}var f=/^\/(?:[^~]|~0|~1)*$/,d=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function h(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function v(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},,function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GetSchemaVersion=t.FromJSON=t.CheckMessage=void 0;var s=r(75),u=o(r(149)),c=a(r(8)),l=r(7),f=a(r(183)),d=new u.default;d.addMetaSchema(r(184));var p=d.compile(f);t.CheckMessage=function(e){if(!p([e.toProtocolFormat()])){var t=p.errors.map((function(e){return e.message})).join("; ");throw new l.ButtplugMessageException(t)}},t.FromJSON=function(e){var t=JSON.parse(e);if(!p(t)){var r=p.errors.map((function(e){return e.message})).join("; ");throw new l.ButtplugMessageException(r)}for(var n=[],i=0,a=Array.from(t);i<a.length;i++){var o=a[i],u=s.plainToClass(c[Object.getOwnPropertyNames(o)[0]],o[Object.getOwnPropertyNames(o)[0]]);n.push(u)}return n},t.GetSchemaVersion=function(){return parseInt(f.version,10)}},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugDeviceImpl=void 0;var l=r(14),f=r(13),d=r(24),p=r(25),h=function(t){s(f,t);var r=u(f);function f(t,a){var s;return i(this,f),(s=r.call(this))._logger=l.ButtplugLogger.Logger,s.WriteValue=function(e,t){return c(o(s),void 0,void 0,n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.WriteValueInternal(e,t||new d.ButtplugDeviceWriteOptions);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})))},s.ReadValue=function(e){return c(o(s),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ReadValueInternal(e||new p.ButtplugDeviceReadOptions);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},s.WriteString=function(t,r){return c(o(s),void 0,void 0,n.mark((function i(){return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.WriteValue(e.from(t),r);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),i,this)})))},s.ReadString=function(e){return c(o(s),void 0,void 0,n.mark((function t(){var r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ReadValue(e);case 2:return r=t.sent,t.abrupt("return",r.toString("utf-8"));case 4:case"end":return t.stop()}}),t,this)})))},s.SubscribeToUpdates=function(e){return c(o(s),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SubscribeToUpdatesInternal(e||new p.ButtplugDeviceReadOptions);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},s._name=t,s._address=a,s}return a(f,[{key:"UpdateReceived",value:function(e,t){this.emit("updateReceived",[e,t])}},{key:"Name",get:function(){return this._name}},{key:"Address",get:function(){return this._address}}]),f}(f.EventEmitter);t.ButtplugDeviceImpl=h}).call(this,r(12).Buffer)},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugDevice=void 0;var l=function(e){s(r,e);var t=u(r);function r(e,a){var s;return i(this,r),(s=t.call(this)).ParseMessage=function(e){return c(o(s),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._protocol.ParseMessage(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},s._protocol=e,s._device=a,s._device.addListener("deviceremoved",(function(){s.emit("deviceremoved",o(s))})),s}return a(r,[{key:"Disconnect",value:function(){return this._device.Disconnect()}},{key:"Initialize",value:function(){return c(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._protocol.Initialize();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"Connected",get:function(){return this._device.Connected}},{key:"MessageSpecifications",get:function(){return this._protocol.MessageSpecifications}},{key:"Name",get:function(){return this._protocol.Name}},{key:"Id",get:function(){return this._device.Address}}]),r}(r(13).EventEmitter);t.ButtplugDevice=l},function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugDeviceWriteOptions=void 0;var i=r(15);t.ButtplugDeviceWriteOptions=function e(t){n(this,e),this.Endpoint=i.Endpoints.Tx,this.WriteWithResponse=!1,Object.assign(this,t)}},function(e,t,r){"use strict";var n=r(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugDeviceReadOptions=void 0;var i=r(15);t.ButtplugDeviceReadOptions=function e(t){n(this,e),this.Endpoint=i.Endpoints.Rx,this.Timeout=-1,this.ReadLength=-1,Object.assign(this,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(40);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},,,function(e,t,r){var n=r(71);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76),i=function(){function e(){}return e.prototype.classToPlain=function(e,t){return new n.TransformOperationExecutor(n.TransformationType.CLASS_TO_PLAIN,t||{}).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(e,t,r){return new n.TransformOperationExecutor(n.TransformationType.CLASS_TO_PLAIN,r||{}).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.plainToClass=function(e,t,r){return new n.TransformOperationExecutor(n.TransformationType.PLAIN_TO_CLASS,r||{}).transform(void 0,t,e,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(e,t,r){return new n.TransformOperationExecutor(n.TransformationType.PLAIN_TO_CLASS,r||{}).transform(e,t,void 0,void 0,void 0,void 0)},e.prototype.classToClass=function(e,t){return new n.TransformOperationExecutor(n.TransformationType.CLASS_TO_CLASS,t||{}).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(e,t,r){return new n.TransformOperationExecutor(n.TransformationType.CLASS_TO_CLASS,r||{}).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(e,t){return JSON.stringify(this.classToPlain(e,t))},e.prototype.deserialize=function(e,t,r){var n=JSON.parse(t);return this.plainToClass(e,n,r)},e.prototype.deserializeArray=function(e,t,r){var n=JSON.parse(t);return this.plainToClass(e,n,r)},e}();t.ClassTransformer=i},function(e,t,r){"use strict";var n=r(151),i=r(33),a=r(18),o=r(80),s=r(153);function u(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return u.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof o)return h(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,a,s,l=c.call(this,t,r);return l&&(i=l.schema,t=l.root,s=l.baseId),i instanceof o?a=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(a=h(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),a}function c(e,t){var r=n.parse(t),i=m(r),a=v(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==a){var s=y(i),u=this._refs[s];if("string"==typeof u)return l.call(this,e,u,r);if(u instanceof o)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[s])instanceof o))return;if(u.validate||this._compile(u),s==y(t))return{schema:u,root:e,baseId:a};e=u}if(!e.schema)return;a=v(this._getId(e.schema))}return d.call(this,r,a,e.schema,e)}function l(e,t,r){var n=c.call(this,e,t);if(n){var i=n.schema,a=n.baseId;e=n.root;var o=this._getId(i);return o&&(a=b(a,o)),d.call(this,r,a,i,e)}}e.exports=u,u.normalizeId=y,u.fullPath=v,u.url=b,u.ids=function(e){var t=y(this._getId(e)),r={"":t},o={"":v(t,!1)},u={},c=this;return s(e,{allKeys:!0},(function(e,t,s,l,f,d,p){if(""!==t){var h=c._getId(e),v=r[l],m=o[l]+"/"+f;if(void 0!==p&&(m+="/"+("number"==typeof p?p:a.escapeFragment(p))),"string"==typeof h){h=v=y(v?n.resolve(v,h):h);var g=c._refs[h];if("string"==typeof g&&(g=c._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=y(m))if("#"==h[0]){if(u[h]&&!i(e,u[h]))throw new Error('id "'+h+'" resolves to more than one schema');u[h]=e}else c._refs[h]=m}r[t]=v,o[t]=m}})),u},u.inlineRef=h,u.schema=c;var f=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var s=i[o];if(s){if(void 0===(r=r[s=a.unescapeFragment(s)]))break;var u;if(!f[s]&&((u=this._getId(r))&&(t=b(t,u)),r.$ref)){var l=b(t,r.$ref),d=c.call(this,n,l);d&&(r=d.schema,n=d.root,t=d.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var p=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function h(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(r=t[n])&&!e(r))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(r=t[i])&&!e(r))return!1}return!0}(e):t?function e(t){var r,n=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(r=t[i])&&(n+=e(r)),n==1/0)return 1/0}else for(var a in t){if("$ref"==a)return 1/0;if(p[a])n++;else if("object"==typeof(r=t[a])&&(n+=e(r)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function v(e,t){return!1!==t&&(e=y(e)),m(n.parse(e))}function m(e){return n.serialize(e).split("#")[0]+"#"}var g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function b(e,t){return t=y(t),n.resolve(e,t)}},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;0!==i--;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}},function(e,t,r){"use strict";var n=r(32);function i(e,t,r){this.message=r||i.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:a((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:a(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,r){"use strict";var n=r(1),i=r(4),a=r(5),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugClientConnectorException=void 0;var c=r(7),l=u(r(8)),f=function(e){i(r,e);var t=a(r);function r(e){return n(this,r),t.call(this,e,l.ErrorClass.ERROR_UNKNOWN)}return r}(c.ButtplugException);t.ButtplugClientConnectorException=f},function(e,t,r){"use strict";var n=r(16),i=r(9),a=r(1),o=r(2),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugMessageSorter=void 0;var l=c(r(8)),f=r(7),d=function(){function e(t){a(this,e),this._useCounter=t,this._counter=1,this._waitingMsgs=new Map}return o(e,[{key:"PrepareOutgoingMessage",value:function(e){var t,r;this._useCounter&&(e.Id=this._counter,this._counter+=1);var n=new Promise((function(e,n){t=e,r=n}));return this._waitingMsgs.set(e.Id,[t,r]),n}},{key:"ParseIncomingMessages",value:function(e){var t,r=[],a=i(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.Id!==l.SYSTEM_MESSAGE_ID&&this._waitingMsgs.has(o.Id)){var s=this._waitingMsgs.get(o.Id),u=n(s,2),c=u[0],d=u[1];if(o.Type===l.Error){d(f.ButtplugException.FromError(o));continue}c(o)}else r.push(o)}}catch(p){a.e(p)}finally{a.f()}return r}}]),e}();t.ButtplugMessageSorter=d},function(e,t,r){"use strict";var n=r(0),i=r(16),a=r(9),o=r(1),s=r(2),u=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return c(t,e),t},f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceConfigurationManager=void 0;var d=r(7),p=r(38),h=r(91),v=r(92),m=r(195),g=r(196),y=r(197),b=r(198),w=r(199),_=r(200),x=r(201),S=r(202),E=r(203),P=l(r(204)),C=r(205),k=r(206),M=r(207),D=function(){function e(t){o(this,e),this._configObject={},this._configs=new Map,this._protocols=new Map,this._configObject=t,this._protocols.set("lovense",m.Lovense),this._protocols.set("wevibe",g.WeVibe),this._protocols.set("vorze-sa",y.VorzeA10Cyclone),this._protocols.set("magic-motion",b.MagicMotion),this._protocols.set("maxpro",x.Maxpro),this._protocols.set("kiiroo-v2",S.FleshlightLaunch),this._protocols.set("kiiroo-v21",k.KiirooGen21),this._protocols.set("kiiroo-v2-vibrator",E.KiirooGen2Vibe),this._protocols.set("youou",C.Youou),this._protocols.set("youcups",_.Youcups),this._protocols.set("libo",w.LiBo),this._protocols.set("motorbunny",M.Motorbunny),this.ParseConfig()}return s(e,[{key:"LoadUserConfiguration",value:function(){}},{key:"GetAllConfigsOfType",value:function(e){var t,r=[],n=a(this._configs.entries());try{for(n.s();!(t=n.n()).done;){var o=i(t.value,2),s=(o[0],o[1]);s instanceof e&&r.push(s)}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"Find",value:function(e){var t,r=a(this._configs.entries());try{for(r.s();!(t=r.n()).done;){var n=i(t.value,2),o=n[0],s=n[1];if(s.Matches(e))return[s,this._protocols.get(o)]}}catch(u){r.e(u)}finally{r.f()}}},{key:"ParseConfig",value:function(){this._configs=new Map;for(var e=this._configObject.protocols,t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if(this._protocols.has(n)){var i=e[n];if(null!=i)for(var a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];switch(s){case"btle":this._configs.set(n,p.BluetoothLEProtocolConfiguration.ConstructFromObject(i[s]));break;case"serial":this._configs.set(n,new h.SerialProtocolConfiguration(i[s]));break;case"hid":this._configs.set(n,new v.HIDProtocolConfiguration(i[s]))}}}}}}],[{key:"LoadFromInternalConfig",value:function(){e._manager=new e(P)}},{key:"LoadFromJsonExternalConfig",value:function(t){var r=JSON.parse(t);e._manager=new e(r)}},{key:"LoadFromWebConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://buttplug-device-config.buttplug.io";return f(this,void 0,void 0,n.mark((function r(){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(t);case 2:return i=r.sent,r.t0=e,r.next=6,i.text();case 6:r.t1=r.sent,r.t0.LoadFromJsonExternalConfig.call(r.t0,r.t1);case 8:case"end":return r.stop()}}),r)})))}},{key:"Manager",get:function(){if(null===e._manager)throw new d.ButtplugDeviceException("Device configuration manager not yet initialized!");return e._manager}}]),e}();t.DeviceConfigurationManager=D,D._manager=null},function(e,t,r){"use strict";var n=r(9),i=r(1),a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.BluetoothLEProtocolConfiguration=void 0;var o=r(15),s=r(7),u=function(){function e(t,r){i(this,e),this._names=[],this._services=new Map,this._names=t,this._services=r||new Map}return a(e,[{key:"Matches",value:function(t){if(!(t instanceof e))return!1;var r=t;if(1!==r.Names.length)throw new s.ButtplugDeviceException("Device checks should only happen against 1 name.");var i,a=n(this.Names);try{var o=function(){var e=i.value;if(-1!==r.Names.indexOf(e))return{v:!0};if(!e.endsWith("*"))return"continue";var t=e.substr(0,e.length-1);return-1!==r.Names.findIndex((function(e){return e.startsWith(t)}))?{v:!0}:void 0};for(a.s();!(i=a.n()).done;){var u=o();if("continue"!==u&&"object"===typeof u)return u.v}}catch(p){a.e(p)}finally{a.f()}var c,l=Array.from(this._services.keys()),f=n(r.Services.keys());try{for(f.s();!(c=f.n()).done;){var d=c.value;if(0!==l.indexOf(d))return!0}}catch(p){f.e(p)}finally{f.f()}return!1}},{key:"Merge",value:function(e){}},{key:"Names",get:function(){return this._names}},{key:"Services",get:function(){return this._services}}],[{key:"ConstructFromObject",value:function(t){if(-1===Object.getOwnPropertyNames(t).indexOf("names"))throw new s.ButtplugDeviceException("Need a names property to load bluetooth device from.");if(-1===Object.getOwnPropertyNames(t).indexOf("services"))throw new s.ButtplugDeviceException("Need a services property to load bluetooth device from.");for(var r=t.names,n=new Map,i=0,a=Object.keys(t.services);i<a.length;i++){var u=a[i],c=new Map;if(-1!==Object.getOwnPropertyNames(t.services).indexOf(u)&&null!==t.services[u])for(var l=0,f=Object.keys(t.services[u]);l<f.length;l++){var d=f[l],p=o.GetEndpoint(d);if(null==p)throw new s.ButtplugDeviceException("Device with names ".concat(r," lists invalid endpoint ").concat(d,"."));c.set(p,t.services[u][d])}n.set(u,c)}return new e(r,n)}}]),e}();t.BluetoothLEProtocolConfiguration=u},function(e,t,r){"use strict";(function(e,n){var i=r(0),a=r(1),o=r(2),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TestDeviceImpl=void 0;var l=function(t){s(l,t);var r=u(l);function l(e){var t;return a(this,l),(t=r.call(this,e,e))._connected=!0,t._lastValueWritten=[],t._valueToRead=new Map,t}return o(l,[{key:"SetValueToRead",value:function(e,t){this._valueToRead.set(e,t)}},{key:"Connect",value:function(){return c(this,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))}},{key:"Disconnect",value:function(){this._connected=!1,this.emit("deviceremoved",this)}},{key:"ReadValueInternal",value:function(t){return c(this,void 0,void 0,i.mark((function r(){var n;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this._valueToRead.has(t.Endpoint)){r.next=2;break}return r.abrupt("return",Promise.resolve(e.from([])));case 2:return n=this._valueToRead.get(t.Endpoint),this._valueToRead.delete(t.Endpoint),r.abrupt("return",Promise.resolve(n));case 5:case"end":return r.stop()}}),r,this)})))}},{key:"WriteValueInternal",value:function(e,t){return c(this,void 0,void 0,i.mark((function r(){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._lastValueWritten.push([t.Endpoint,e]),r.abrupt("return",Promise.resolve());case 2:case"end":return r.stop()}}),r,this)})))}},{key:"SubscribeToUpdatesInternal",value:function(e){return c(this,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))}},{key:"ScheduleUpdateOnNextTick",value:function(e,t){var r=this;n.nextTick((function(){return r.emit("updateReceived",[e,t])}))}},{key:"Connected",get:function(){return this._connected}},{key:"LastValueWritten",get:function(){return this._lastValueWritten.shift()}}]),l}(r(21).ButtplugDeviceImpl);t.TestDeviceImpl=l}).call(this,r(12).Buffer,r(79))},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,u=o(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))i.call(r,l)&&(u[l]=r[l]);if(n){s=n(r);for(var f=0;f<s.length;f++)a.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(9),i=r(0),a=r(1),o=r(2),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugClientDevice=void 0;var p=f(r(8)),h=r(7),v=function(e){s(r,e);var t=u(r);function r(e,n,i,o){var s;a(this,r),(s=t.call(this))._index=e,s._name=n,s._sendClosure=o,s.allowedMsgs=new Map;for(var u=0,c=Object.keys(i);u<c.length;u++){var l=c[u];s.allowedMsgs.set(l,i[l])}return s}return o(r,[{key:"CheckAllowedMessageType",value:function(e){if(-1===this.AllowedMessages.indexOf(e))throw new h.ButtplugDeviceException("Message ".concat(e," does not exist on device ").concat(this._name))}},{key:"MessageAttributes",value:function(e){return this.CheckAllowedMessageType(e),this.allowedMsgs.get(e)}},{key:"SendMessageAsync",value:function(e){return d(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendClosure(this,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"SendVibrateCmd",value:function(e){return d(this,void 0,void 0,i.mark((function t(){var r,n;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CheckAllowedMessageType(p.VibrateCmd.name),"number"!==typeof e){t.next=6;break}n=this.MessageAttributes(p.VibrateCmd.name).FeatureCount,r=p.VibrateCmd.Create(this._index,new Array(n).fill(e)),t.next=12;break;case 6:if(!Array.isArray(e)){t.next=11;break}r=p.VibrateCmd.Create(this._index,e),this.CheckGenericSubcommandList(p.SpeedSubcommand.name,r.Speeds,this.MessageAttributes(p.VibrateCmd.name).FeatureCount),t.next=12;break;case 11:throw new h.ButtplugDeviceException("SendVibrateCmd can only take numbers or arrays of numbers.");case 12:return t.next=14,this.SendMessageAsync(r);case 14:case"end":return t.stop()}}),t,this)})))}},{key:"SendRotateCmd",value:function(e,t){return d(this,void 0,void 0,i.mark((function r(){var n,a;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.CheckAllowedMessageType(p.RotateCmd.name),"number"!==typeof e){r.next=6;break}a=this.MessageAttributes(p.RotateCmd.name).FeatureCount,n=p.RotateCmd.Create(this._index,new Array(a).fill([e,t])),r.next=12;break;case 6:if(!Array.isArray(e)){r.next=11;break}n=p.RotateCmd.Create(this._index,e),this.CheckGenericSubcommandList(p.SpeedSubcommand.name,n.Rotations,this.MessageAttributes(p.RotateCmd.name).FeatureCount),r.next=12;break;case 11:throw new h.ButtplugDeviceException("SendRotateCmd can only take a number and boolean, or an array of number/boolean tuples");case 12:return r.next=14,this.SendMessageAsync(n);case 14:case"end":return r.stop()}}),r,this)})))}},{key:"SendLinearCmd",value:function(e,t){return d(this,void 0,void 0,i.mark((function r(){var n,a;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.CheckAllowedMessageType(p.LinearCmd.name),"number"!==typeof e){r.next=6;break}a=this.MessageAttributes(p.LinearCmd.name).FeatureCount,n=p.LinearCmd.Create(this._index,new Array(a).fill([e,t])),r.next=12;break;case 6:if(!Array.isArray(e)){r.next=11;break}n=p.LinearCmd.Create(this._index,e),this.CheckGenericSubcommandList(p.SpeedSubcommand.name,n.Vectors,this.MessageAttributes(p.LinearCmd.name).FeatureCount),r.next=12;break;case 11:throw new h.ButtplugDeviceException("SendLinearCmd can only take a number and number, or an array of number/number tuples");case 12:return r.next=14,this.SendMessageAsync(n);case 14:case"end":return r.stop()}}),r,this)})))}},{key:"SendFleshlightLaunchFW12Cmd",value:function(e,t){return d(this,void 0,void 0,i.mark((function r(){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.CheckAllowedMessageType(p.FleshlightLaunchFW12Cmd.name),r.next=3,this.SendMessageAsync(new p.FleshlightLaunchFW12Cmd(e,t,this._index));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"SendLovenseCmd",value:function(e){return d(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.CheckAllowedMessageType(p.LovenseCmd.name),t.next=3,this.SendMessageAsync(new p.LovenseCmd(e,this._index));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"SendVorzeA10CycloneCmd",value:function(e,t){return d(this,void 0,void 0,i.mark((function r(){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.CheckAllowedMessageType(p.VorzeA10CycloneCmd.name),r.next=3,this.SendMessageAsync(new p.VorzeA10CycloneCmd(e,t,this._index));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"SendStopDeviceCmd",value:function(){return d(this,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.CheckAllowedMessageType(p.StopDeviceCmd.name),e.next=3,this.SendMessageAsync(new p.StopDeviceCmd(this._index));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"SendKiirooCmd",value:function(e){return d(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.CheckAllowedMessageType(p.KiirooCmd.name),t.next=3,this.SendMessageAsync(new p.KiirooCmd(e,this._index));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"EmitDisconnected",value:function(){this.emit("deviceremoved")}},{key:"CheckGenericSubcommandList",value:function(e,t,r){if(0===t.length||t.length>r){if(1===r)throw new h.ButtplugDeviceException("".concat(e," requires 1 subcommand for this device, ").concat(t.length," present."));throw new h.ButtplugDeviceException("".concat(e," requires between 1 and ").concat(r," subcommands for this device, ").concat(t.length," present."))}var i,a=n(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.Index>=r)throw new h.ButtplugDeviceException("Index ".concat(o.Index," is out of bounds for ").concat(e," for this device."))}}catch(s){a.e(s)}finally{a.f()}}},{key:"Name",get:function(){return this._name}},{key:"Index",get:function(){return this._index}},{key:"AllowedMessages",get:function(){return Array.from(this.allowedMsgs.keys())}},{key:"AllowedMessagesObject",get:function(){var e={};return this.allowedMsgs.forEach((function(t,r){e[r]=t})),e}}],[{key:"fromMsg",value:function(e,t){return new r(e.DeviceIndex,e.DeviceName,e.DeviceMessages,t)}}]),r}(r(13).EventEmitter);t.ButtplugClientDevice=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31),i=r(31);t.ClassTransformer=i.ClassTransformer,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(140));var a=new n.ClassTransformer;t.classToPlain=function(e,t){return a.classToPlain(e,t)},t.classToPlainFromExist=function(e,t,r){return a.classToPlainFromExist(e,t,r)},t.plainToClass=function(e,t,r){return a.plainToClass(e,t,r)},t.plainToClassFromExist=function(e,t,r){return a.plainToClassFromExist(e,t,r)},t.classToClass=function(e,t){return a.classToClass(e,t)},t.classToClassFromExist=function(e,t,r){return a.classToClassFromExist(e,t,r)},t.serialize=function(e,t){return a.serialize(e,t)},t.deserialize=function(e,t,r){return a.deserialize(e,t,r)},t.deserializeArray=function(e,t,r){return a.deserializeArray(e,t,r)},function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(t.TransformationType||(t.TransformationType={}))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(78);!function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(n=t.TransformationType||(t.TransformationType={}));var a=function(){function t(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}return t.prototype.transform=function(t,r,a,s,u,c){var l=this;if(void 0===c&&(c=0),Array.isArray(r)||r instanceof Set){var f=s&&this.transformationType===n.PLAIN_TO_CLASS?function(e){var t=new e;if(!(t instanceof Set)&&!("push"in t))return[];return t}(s):[];return r.forEach((function(e,r){var i=t?t[r]:void 0;if(l.options.enableCircularCheck&&l.isCircular(e))l.transformationType===n.CLASS_TO_CLASS&&(f instanceof Set?f.add(e):f.push(e));else{var o=void 0;if("function"!==typeof a&&a&&a.options&&a.options.discriminator&&a.options.discriminator.property&&a.options.discriminator.subTypes){if(l.transformationType===n.PLAIN_TO_CLASS){o=a.options.discriminator.subTypes.find((function(t){return t.name===e[a.options.discriminator.property]}));var s={newObject:f,object:e,property:void 0},u=a.typeFunction(s);o=void 0===o?u:o.value,a.options.keepDiscriminatorProperty||delete e[a.options.discriminator.property]}l.transformationType===n.CLASS_TO_CLASS&&(o=e.constructor),l.transformationType===n.CLASS_TO_PLAIN&&(e[a.options.discriminator.property]=a.options.discriminator.subTypes.find((function(t){return t.value===e.constructor})).name)}else o=a;var d=l.transform(i,e,o,void 0,e instanceof Map,c+1);f instanceof Set?f.add(d):f.push(d)}})),f}if(a!==String||u){if(a!==Number||u){if(a!==Boolean||u){if((a===Date||r instanceof Date)&&!u)return r instanceof Date?new Date(r.valueOf()):null===r||void 0===r?r:new Date(r);if(o()&&(a===e||r instanceof e)&&!u)return null===r||void 0===r?r:e.from(r);if("object"===typeof r&&null!==r){a||r.constructor===Object||(a=r.constructor),!a&&t&&(a=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(r);var d=this.getKeys(a,r),p=t||{};t||this.transformationType!==n.PLAIN_TO_CLASS&&this.transformationType!==n.CLASS_TO_CLASS||(p=u?new Map:a?new a:{});for(var h=function(e){var o=e,s=e,l=e;if(!v.options.ignoreDecorators&&a)if(v.transformationType===n.PLAIN_TO_CLASS)(f=i.defaultMetadataStorage.findExposeMetadataByCustomName(a,e))&&(l=f.propertyName,s=f.propertyName);else if(v.transformationType===n.CLASS_TO_PLAIN||v.transformationType===n.CLASS_TO_CLASS){var f;(f=i.defaultMetadataStorage.findExposeMetadata(a,e))&&f.options&&f.options.name&&(s=f.options.name)}var d=void 0;d=r instanceof Map?r.get(o):r[o]instanceof Function?r[o]():r[o];var h=void 0,m=d instanceof Map;if(a&&u)h=a;else if(a){var g=i.defaultMetadataStorage.findTypeMetadata(a,l);if(g){var y={newObject:p,object:r,property:l},b=g.typeFunction?g.typeFunction(y):g.reflectedType;g.options&&g.options.discriminator&&g.options.discriminator.property&&g.options.discriminator.subTypes?r[o]instanceof Array?h=g:(v.transformationType===n.PLAIN_TO_CLASS&&(h=void 0===(h=g.options.discriminator.subTypes.find((function(e){if(d&&g.options.discriminator.property in d)return e.name===d[g.options.discriminator.property]})))?b:h.value,g.options.keepDiscriminatorProperty||d&&g.options.discriminator.property in d&&delete d[g.options.discriminator.property]),v.transformationType===n.CLASS_TO_CLASS&&(h=d.constructor),v.transformationType===n.CLASS_TO_PLAIN&&(d[g.options.discriminator.property]=g.options.discriminator.subTypes.find((function(e){return e.value===d.constructor})).name)):h=b,m=m||g.reflectedType===Map}else if(v.options.targetMaps)v.options.targetMaps.filter((function(e){return e.target===a&&!!e.properties[l]})).forEach((function(e){return h=e.properties[l]}));else if(v.options.enableImplicitConversion&&v.transformationType===n.PLAIN_TO_CLASS){var w=Reflect.getMetadata("design:type",a.prototype,l);w&&(h=w)}}var _=Array.isArray(r[o])?v.getReflectedType(a,l):void 0,x=t?t[o]:void 0;if(p.constructor.prototype){var S=Object.getOwnPropertyDescriptor(p.constructor.prototype,s);if((v.transformationType===n.PLAIN_TO_CLASS||v.transformationType===n.CLASS_TO_CLASS)&&(S&&!S.set||p[s]instanceof Function))return"continue"}if(v.options.enableCircularCheck&&v.isCircular(d)){if(v.transformationType===n.CLASS_TO_CLASS){P=d;P=v.applyCustomTransformations(P,a,e,r,v.transformationType),p instanceof Map?p.set(s,P):p[s]=P}}else{var E=v.transformationType===n.PLAIN_TO_CLASS?s:e,P=void 0;v.transformationType===n.CLASS_TO_PLAIN?(P=r[E],P=v.applyCustomTransformations(P,a,E,r,v.transformationType),P=r[E]===P?d:P,P=v.transform(x,P,h,_,m,c+1)):(P=v.transform(x,d,h,_,m,c+1),P=v.applyCustomTransformations(P,a,E,r,v.transformationType)),p instanceof Map?p.set(s,P):p[s]=P}},v=this,m=0,g=d;m<g.length;m++){h(g[m])}return this.options.enableCircularCheck&&this.recursionStack.delete(r),p}return r}return null===r||void 0===r?r:Boolean(r)}return null===r||void 0===r?r:Number(r)}return null===r||void 0===r?r:String(r)},t.prototype.applyCustomTransformations=function(e,t,r,n,a){var o=this,s=i.defaultMetadataStorage.findTransformMetadatas(t,r,this.transformationType);return void 0!==this.options.version&&(s=s.filter((function(e){return!e.options||o.checkVersion(e.options.since,e.options.until)}))),(s=this.options.groups&&this.options.groups.length?s.filter((function(e){return!e.options||o.checkGroups(e.options.groups)})):s.filter((function(e){return!e.options||!e.options.groups||!e.options.groups.length}))).forEach((function(t){e=t.transformFn(e,n,a)})),e},t.prototype.isCircular=function(e){return this.recursionStack.has(e)},t.prototype.getReflectedType=function(e,t){if(e){var r=i.defaultMetadataStorage.findTypeMetadata(e,t);return r?r.reflectedType:void 0}},t.prototype.getKeys=function(e,t){var r=this,a=i.defaultMetadataStorage.getStrategy(e);"none"===a&&(a=this.options.strategy||"exposeAll");var o=[];if("exposeAll"===a&&(o=t instanceof Map?Array.from(t.keys()):Object.keys(t)),!this.options.ignoreDecorators&&e){var s=i.defaultMetadataStorage.getExposedProperties(e,this.transformationType);this.transformationType===n.PLAIN_TO_CLASS&&(s=s.map((function(t){var r=i.defaultMetadataStorage.findExposeMetadata(e,t);return r&&r.options&&r.options.name?r.options.name:t}))),o=this.options.excludeExtraneousValues?s:o.concat(s);var u=i.defaultMetadataStorage.getExcludedProperties(e,this.transformationType);u.length>0&&(o=o.filter((function(e){return-1===u.indexOf(e)}))),void 0!==this.options.version&&(o=o.filter((function(t){var n=i.defaultMetadataStorage.findExposeMetadata(e,t);return!n||!n.options||r.checkVersion(n.options.since,n.options.until)}))),o=this.options.groups&&this.options.groups.length?o.filter((function(t){var n=i.defaultMetadataStorage.findExposeMetadata(e,t);return!n||!n.options||r.checkGroups(n.options.groups)})):o.filter((function(t){var r=i.defaultMetadataStorage.findExposeMetadata(e,t);return!r||!r.options||!r.options.groups||!r.options.groups.length}))}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(o=o.filter((function(e){return r.options.excludePrefixes.every((function(t){return e.substr(0,t.length)!==t}))}))),o=o.filter((function(e,t,r){return r.indexOf(e)===t}))},t.prototype.checkVersion=function(e,t){var r=!0;return r&&e&&(r=this.options.version>=e),r&&t&&(r=this.options.version<t),r},t.prototype.checkGroups=function(e){return!e||this.options.groups.some((function(t){return-1!==e.indexOf(t)}))},t}();function o(){try{return!0}catch(e){}return!1}t.TransformOperationExecutor=a,t.testForBuffer=o}).call(this,r(12).Buffer)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(139);t.defaultMetadataStorage=new n.MetadataStorage},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e){n.copy(e,this)}},function(e,t,r){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r,n="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},a={key:n,value:e[n]};return r(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<u.length;r++){var c=u[r],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return a.splice(s,1),"{"+o+"}"}}(e)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n="",i=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){var c=e.level,l=e.dataLevel,f=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",h=!e.opts.allErrors,v="data"+(l||""),m="valid"+c;if(!1===e.schema){e.isTop?h=!0:n+=" var "+m+" = false; ",(Y=Y||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";var g=n;n=Y.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+m+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;c=e.level=0,l=e.dataLevel=0,v="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{c=e.level,v="data"+((l=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}m="valid"+c,h=!e.opts.allErrors;var w="",_="",x=e.schema.type,S=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(S?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],S=!0)),S&&1==x.length&&(x=x[0],S=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,x);var P=e.RULES.types[x];if(E||S||!0===P||P&&!J(P)){d=e.schemaPath+".type",p=e.errSchemaPath+"/type",d=e.schemaPath+".type",p=e.errSchemaPath+"/type";var C=S?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[C](x,v,e.opts.strictNumbers,!0)+") { ",E){var k="dataType"+c,M="coerced"+c;n+=" var "+k+" = typeof "+v+"; var "+M+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+k+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+k+" = typeof "+v+"; if ("+e.util.checkDataType(e.schema.type,v,e.opts.strictNumbers)+") "+M+" = "+v+"; } "),n+=" if ("+M+" !== undefined) ; ";var D=E;if(D)for(var T,O=-1,I=D.length-1;O<I;)"string"==(T=D[O+=1])?n+=" else if ("+k+" == 'number' || "+k+" == 'boolean') "+M+" = '' + "+v+"; else if ("+v+" === null) "+M+" = ''; ":"number"==T||"integer"==T?(n+=" else if ("+k+" == 'boolean' || "+v+" === null || ("+k+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==T&&(n+=" && !("+v+" % 1)"),n+=")) "+M+" = +"+v+"; "):"boolean"==T?n+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+M+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+M+" = true; ":"null"==T?n+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+M+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(n+=" else if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+v+" == null) "+M+" = ["+v+"]; ");n+=" else {   ",(Y=Y||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=S?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=S?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";g=n;n=Y.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+M+" !== undefined) {  ";var L=l?"data"+(l-1||""):"parentData";n+=" "+v+" = "+M+"; ",l||(n+="if ("+L+" !== undefined)"),n+=" "+L+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+M+"; } "}else{(Y=Y||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=S?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=S?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";g=n;n=Y.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!a)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",h&&(n+=" } if (errors === ",n+=y?"0":"errs_"+c,n+=") { ",_+="}");else{var R=e.RULES;if(R)for(var A=-1,F=R.length-1;A<F;)if(J(P=R[A+=1])){if(P.type&&(n+=" if ("+e.util.checkDataType(P.type,v,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==P.type&&e.schema.properties){f=e.schema.properties;var N=Object.keys(f);if(N)for(var j,V=-1,B=N.length-1;V<B;){if(void 0!==(U=f[j=N[V+=1]]).default){var $=v+e.util.getProperty(j);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+$;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+$+" === null || "+$+" === '' "),n+=" ) "+$+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(U.default)+" ":n+=" "+JSON.stringify(U.default)+" ",n+="; "}}}else if("array"==P.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){O=-1;for(var U,H=z.length-1;O<H;)if(void 0!==(U=z[O+=1]).default){$=v+"["+O+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+$;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+$+" === null || "+$+" === '' "),n+=" ) "+$+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(U.default)+" ":n+=" "+JSON.stringify(U.default)+" ",n+="; "}}}var W=P.rules;if(W)for(var q,Q=-1,K=W.length-1;Q<K;)if(X(q=W[Q+=1])){var G=q.code(e,q.keyword,P.type);G&&(n+=" "+G+" ",h&&(w+="}"))}if(h&&(n+=" "+w+" ",w=""),P.type&&(n+=" } ",x&&x===P.type&&!E)){n+=" else { ";var Y;d=e.schemaPath+".type",p=e.errSchemaPath+"/type";(Y=Y||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=S?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=S?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";g=n;n=Y.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}h&&(n+=" if (errors === ",n+=y?"0":"errs_"+c,n+=") { ",_+="}")}}function J(e){for(var t=e.rules,r=0;r<t.length;r++)if(X(t[r]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return h&&(n+=" "+_+" "),y?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+m+" = errors === errs_"+c+";",n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s;var p="maximum"==t,h=p?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[h],m=e.opts.$data&&v&&v.$data,g=p?"<":">",y=p?">":"<",b=void 0;if(!d&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!m&&void 0!==v&&"number"!=typeof v&&"boolean"!=typeof v)throw new Error(h+" must be number or boolean");if(m){var w=e.util.getData(v.$data,o,e.dataPathArr),_="exclusive"+a,x="exclType"+a,S="exclIsNumber"+a,E="' + "+(k="op"+a)+" + '";i+=" var schemaExcl"+a+" = "+w+"; ",i+=" var "+_+"; var "+x+" = typeof "+(w="schemaExcl"+a)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var P;b=h;(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+h+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var C=i;i=P.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+_+" = "+n+" === undefined || "+w+" "+g+"= "+n+") ? "+f+" "+y+"= "+w+" : "+f+" "+y+" "+n+" ) : ( ("+_+" = "+w+" === true) ? "+f+" "+y+"= "+n+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { var op"+a+" = "+_+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=h,c=e.errSchemaPath+"/"+h,n=w,d=m)}else{E=g;if((S="number"==typeof v)&&d){var k="'"+E+"'";i+=" if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+v+" "+g+"= "+n+" ? "+f+" "+y+"= "+v+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { "}else{S&&void 0===s?(_=!0,b=h,c=e.errSchemaPath+"/"+h,n=v,y+="="):(S&&(n=Math[p?"min":"max"](v,s)),v===(!S||n)?(_=!0,b=h,c=e.errSchemaPath+"/"+h,y+="="):(_=!1,E+="="));k="'"+E+"'";i+=" if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+" "+y+" "+n+" || "+f+" !== "+f+") { "}}b=b||t,(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+k+", limit: "+n+", exclusive: "+_+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+E+" ",i+=d?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";C=i;return i=P.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=d?"' + "+n+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+p+" "+n+") { ";var h=t,v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=d?"' + "+n+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=v.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=d?"' + "+n+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugBrowserWebsocketConnector=void 0;var l=r(13),f=r(20),d=function(e){s(r,e);var t=u(r);function r(e){var a;return i(this,r),(a=t.call(this))._url=e,a.Connect=function(){return c(o(a),void 0,void 0,n.mark((function e(){var t,r,i,a,o,s=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new WebSocket(this._url),a=new Promise((function(e,t){r=e,i=t})),o=function(e){return i()},t.addEventListener("open",(function(e){return c(s,void 0,void 0,n.mark((function e(){var a=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._ws=t,e.prev=1,e.next=4,this.Initialize();case 4:this._ws.addEventListener("message",(function(e){a.ParseIncomingMessage(e)})),this._ws.removeEventListener("close",o),this._ws.addEventListener("close",this.Disconnect),r(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),i();case 14:case"end":return e.stop()}}),e,this,[[1,10]])})))})),t.addEventListener("close",o),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})))},a.Disconnect=function(){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Connected){e.next=2;break}return e.abrupt("return");case 2:this._ws.close(),this._ws=void 0,this.emit("disconnect");case 5:case"end":return e.stop()}}),e,this)})))},a.Initialize=function(){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))},a}return a(r,[{key:"SendMessage",value:function(e){if(!this.Connected)throw new Error("ButtplugBrowserWebsocketConnector not connected");this._ws.send("["+e.toJSON()+"]")}},{key:"ParseIncomingMessage",value:function(e){var t=this;if(console.log("Calling parent parse incoming"),"string"===typeof e.data){var r=f.FromJSON(e.data);this.emit("message",r)}else if(e.data instanceof Blob){var n=new FileReader;n.addEventListener("load",(function(e){t.OnReaderLoad(e)})),n.readAsText(e.data)}}},{key:"OnReaderLoad",value:function(e){var t=f.FromJSON(e.target.result);this.emit("message",t)}},{key:"Connected",get:function(){return void 0!==this._ws}}]),r}(l.EventEmitter);t.ButtplugBrowserWebsocketConnector=d},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugServer=void 0;var p=f(r(8)),h=r(20),v=r(190),m=r(13),g=r(14),y=r(8),b=r(7),w=function(e){s(r,e);var t=u(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Buttplug JS Internal Server",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(this,r),(e=t.call(this))._serverName=a,e._maxPingTime=s,e._clientSchemaVersion=-1,e._clientName=void 0,e._pingTimedOut=!1,e._receivedRequestServerInfo=!1,e._logger=g.ButtplugLogger.Logger,e._outgoingLogLevel=g.ButtplugLogLevel.Off,e._connected=!1,e.AddDeviceManager=function(t){e._deviceManager.AddDeviceManager(t)},e.ClearDeviceManagers=function(){e._deviceManager.ClearDeviceManagers()},e.Disconnect=function(){e._connected=!1},e.CheckConnection=function(){if(!e._connected)throw new Error("Server not connected to client.")},e.SendMessage=function(t){return d(o(e),void 0,void 0,n.mark((function e(){var r,i,a,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof y.RequestServerInfo||this.CheckConnection(),r=t.Id,this._logger.Trace("Server: Got Message: ".concat(t)),0!==r){e.next=5;break}throw b.ButtplugException.LogAndError(b.ButtplugMessageException,this._logger,"Message Id 0 is reserved for outgoing system messages. Use another Id.",r);case 5:if(!this._pingTimedOut){e.next=7;break}throw b.ButtplugException.LogAndError(b.ButtplugPingException,this._logger,"Ping timed out.",r);case 7:if(this._receivedRequestServerInfo||t.Type===p.RequestServerInfo){e.next=9;break}throw b.ButtplugException.LogAndError(b.ButtplugInitException,this._logger,"RequestServerInfo must be first message received by server.",r);case 9:e.t0=t.Type,e.next=e.t0===p.RequestLog?12:e.t0===p.Ping?18:e.t0===p.RequestServerInfo?19:e.t0===p.Test?28:31;break;case 12:return i=t,this._logger.Debug("Server: RequestLog received for level ".concat(i.LogLevel)),i.LogLevel===g.ButtplugLogLevel[g.ButtplugLogLevel.Off]?this._logger.removeListener("log",this.OnLogMessage):this._outgoingLogLevel===g.ButtplugLogLevel.Off&&this._logger.addListener("log",this.OnLogMessage),this._logger.MaximumEventLogLevel=g.ButtplugLogLevel[i.LogLevel],this._outgoingLogLevel=g.ButtplugLogLevel[i.LogLevel],e.abrupt("return",new p.Ok(i.Id));case 18:return e.abrupt("return",new p.Ok(t.Id));case 19:if(this._logger.Debug("Server: RequestServerInfo received."),a=t,!(this._clientSchemaVersion>1)){e.next=23;break}throw b.ButtplugException.LogAndError(b.ButtplugInitException,this._logger,"Client schema (".concat(this._clientSchemaVersion,") newer than ")+"server schema (1). Please upgrade server.",r);case 23:return this._receivedRequestServerInfo=!0,this._clientSchemaVersion=a.MessageVersion,this._clientName=a.ClientName,this._connected=!0,e.abrupt("return",new p.ServerInfo(0,0,0,h.GetSchemaVersion(),this._maxPingTime,this._serverName,r));case 28:return this._logger.Debug("Server: Test received."),o=t,e.abrupt("return",new p.Test(o.TestString,t.Id));case 31:return e.next=33,this._deviceManager.SendMessage(t);case 33:return e.abrupt("return",e.sent);case 34:case"end":return e.stop()}}),e,this)})))},e.Shutdown=function(){return d(o(e),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Disconnect(),e.next=3,this._deviceManager.Shutdown();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))},e.OnLogMessage=function(t){t.LogLevel>e._outgoingLogLevel||e.SendOutgoingMessage(new p.Log(g.ButtplugLogLevel[t.LogLevel],t.Message))},e.SendOutgoingMessage=function(t){if(e._connected){if(-1===e._clientSchemaVersion)throw b.ButtplugException.LogAndError(b.ButtplugMessageException,e._logger,"Cannot discern client schema version. Was RequestServerInfo message sent?");for(;t.SchemaVersion!==e._clientSchemaVersion&&t.SchemaVersion>0;)t=t.DowngradeMessage();e.emit("message",t)}},e._logger.Info("Server: Starting Buttplug Server: ".concat(e._serverName)),e._deviceManager=new v.DeviceManager((function(t){return e.SendOutgoingMessage(t)})),e}return a(r,[{key:"DeviceManagers",get:function(){return this._deviceManager.DeviceManagers}}]),r}(m.EventEmitter);t.ButtplugServer=w},function(e,t,r){var n=r(192),i=r(193),a=r(29),o=r(194);e.exports=function(e){return n(e)||i(e)||a(e)||o()}},function(e,t,r){"use strict";var n=r(1),i=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SerialProtocolConfiguration=void 0;var a=function(){function e(t){n(this,e)}return i(e,[{key:"Matches",value:function(e){return!1}},{key:"Merge",value:function(e){}}]),e}();t.SerialProtocolConfiguration=a},function(e,t,r){"use strict";var n=r(1),i=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.HIDProtocolConfiguration=void 0;var a=function(){function e(t){n(this,e)}return i(e,[{key:"Matches",value:function(e){return!1}},{key:"Merge",value:function(e){}}]),e}();t.HIDProtocolConfiguration=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInt=void 0,t.getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))}},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardedDevice=void 0;var l=function(e){s(r,e);var t=u(r);function r(e,a){var s;return i(this,r),(s=t.call(this,e,a)).Connect=function(){return c(o(s),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))},s.Disconnect=function(){s.OnDisconnect()},s.OnDisconnect=function(){s._logger.Debug("ForwardedDevice: ".concat(s.constructor.name," disconnecting")),s.emit("deviceremoved")},s.WriteValueInternal=function(e,t){return c(o(s),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},s.ReadValueInternal=function(e){return c(o(s),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},s.SubscribeToUpdatesInternal=function(e){return c(o(s),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},s.Unsubscribe=function(e){return c(o(s),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},s}return a(r,[{key:"Connected",get:function(){return!0}}]),r}(r(21).ButtplugDeviceImpl);t.ForwardedDevice=l},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardedDeviceProtocol=void 0;var l=r(7),f=function(e){s(r,e);var t=u(r);function r(e,a,s,u){var f;return i(this,r),(f=t.call(this,"".concat(e.Name),e))._actualDeviceIndex=a,f._messageSpecs=s,f._clientSendClosure=u,f.Initialize=function(){return c(o(f),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))},f.ParseMessage=function(e){return c(o(f),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.MessageSpecifications.hasOwnProperty(e.Type.name)){t.next=2;break}throw new l.ButtplugMessageException("".concat(this._name," cannot handle message of type ").concat(e.Type.name),e.Id);case 2:return e.DeviceIndex=this._actualDeviceIndex,t.next=5,this._clientSendClosure(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))},f}return a(r,[{key:"MessageSpecifications",get:function(){return this._messageSpecs}}]),r}(r(11).ButtplugDeviceProtocol);t.ForwardedDeviceProtocol=f},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TestDeviceProtocol=void 0;var p=r(17),h=f(r(17)),v=r(11),m=r(39),g=r(7),y=function(e){s(r,e);var t=u(r);function r(e,a,s,u,c){var l;if(i(this,r),(l=t.call(this,"Test Device - ".concat(e),a))._linearSpeed=0,l._linearPosition=0,l._vibrateSpeed=0,l._rotateSpeed=0,l._rotateClockwise=!1,l._shouldVibrate=!1,l._shouldRotate=!1,l._shouldLinear=!1,l.HandleStopDeviceCmd=function(e){return d(o(l),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.MsgFuncs.has(h.VibrateCmd)?this.emit("vibrate",0):this.MsgFuncs.has(h.LinearCmd)&&this.emit("linear",{position:this._linearPosition,speed:this._linearSpeed}),t.abrupt("return",Promise.resolve(new h.Ok(e.Id)));case 2:case"end":return t.stop()}}),t,this)})))},l.HandleSingleMotorVibrateCmd=function(e){return d(o(l),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._vibrateSpeed=e.Speed,this.emit("vibrate",e.Speed),t.abrupt("return",Promise.resolve(new h.Ok(e.Id)));case 3:case"end":return t.stop()}}),t,this)})))},l.HandleVibrateCmd=function(e){return d(o(l),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(e.Speeds[0].Speed,e.DeviceIndex,e.Id)));case 1:case"end":return t.stop()}}),t,this)})))},l.HandleRotateCmd=function(e){return d(o(l),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._rotateSpeed=e.Rotations[0].Speed,this._rotateClockwise=e.Rotations[0].Clockwise,this.emit("vibrate",{speed:this._rotateSpeed,clockwise:this._rotateClockwise}),t.abrupt("return",Promise.resolve(new h.Ok(e.Id)));case 4:case"end":return t.stop()}}),t,this)})))},l.HandleFleshlightLaunchFW12Cmd=function(e){return d(o(l),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._linearPosition=e.Position,this._linearSpeed=e.Speed,this.emit("linear",{position:this._linearPosition,speed:this._linearSpeed}),t.abrupt("return",Promise.resolve(new h.Ok(e.Id)));case 4:case"end":return t.stop()}}),t,this)})))},l.HandleLinearCmd=function(e){return d(o(l),void 0,void 0,n.mark((function t(){var r,i,a,o,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Vectors.length){t.next=2;break}return t.abrupt("return",new h.Error("LinearCmd requires 1 vector for this device.",h.ErrorClass.ERROR_DEVICE,e.Id));case 2:return 90,r=e.Vectors[0],i=100*r.Position,a=Math.abs(i-this._linearPosition),o=Math.floor(25e3*Math.pow(90*r.Duration/a,-1.05)),o=Math.min(Math.max(o,0),95),s=Math.floor(i/99*90+4.5),t.next=11,this.HandleFleshlightLaunchFW12Cmd(new h.FleshlightLaunchFW12Cmd(o,s,e.DeviceIndex,e.Id));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)})))},l._shouldVibrate=s,l._shouldLinear=u,l._shouldRotate=c,l.MsgFuncs.set(h.StopDeviceCmd,l.HandleStopDeviceCmd),!(a instanceof m.TestDeviceImpl))throw new g.ButtplugDeviceException("TestDeviceProtocol can only be constructed with a TestDeviceImpl");return l._shouldVibrate&&(l.MsgFuncs.set(h.SingleMotorVibrateCmd,l.HandleSingleMotorVibrateCmd),l.MsgFuncs.set(h.VibrateCmd,l.HandleVibrateCmd)),l._shouldLinear&&(l.MsgFuncs.set(h.FleshlightLaunchFW12Cmd,l.HandleFleshlightLaunchFW12Cmd),l.MsgFuncs.set(h.LinearCmd,l.HandleLinearCmd)),l._shouldRotate&&l.MsgFuncs.set(h.RotateCmd,l.HandleRotateCmd),l}return a(r,[{key:"MessageSpecifications",get:function(){return this.MsgFuncs.has(h.VibrateCmd)?{VibrateCmd:{FeatureCount:2},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}:this.MsgFuncs.has(h.LinearCmd)?{LinearCmd:{FeatureCount:1},FleshlightLaunchFW12Cmd:{},StopDeviceCmd:{}}:this.MsgFuncs.has(h.RotateCmd)?{RotateCmd:{FeatureCount:1},StopDeviceCmd:{}}:{}}}]),r}(v.ButtplugDeviceProtocol);t.TestDeviceProtocol=y},function(e,t,r){"use strict";var n=r(1),i=r(2),a=r(4),o=r(5);Object.defineProperty(t,"__esModule",{value:!0}),t.TestDeviceSubtypeManager=void 0;var s=r(13),u=r(96),c=r(17),l=r(22),f=r(39),d=function(e){a(r,e);var t=o(r);function r(){var e;n(this,r),(e=t.call(this))._logger=c.ButtplugLogger.Logger,e._isScanning=!1;var i=new f.TestDeviceImpl("Test Vibration Device");e._testVibrationProtocol=new u.TestDeviceProtocol(i.Name,i,!0,!1,!1),e._testVibrationDevice=new l.ButtplugDevice(e._testVibrationProtocol,i);var a=new f.TestDeviceImpl("Test Linear Device");e._testLinearProtocol=new u.TestDeviceProtocol(a.Name,a,!1,!0,!1),e._testLinearDevice=new l.ButtplugDevice(e._testLinearProtocol,a);var o=new f.TestDeviceImpl("Test Rotation Device");return e._testRotationProtocol=new u.TestDeviceProtocol(o.Name,o,!1,!1,!0),e._testRotationDevice=new l.ButtplugDevice(e._testRotationProtocol,o),e}return i(r,[{key:"SetLogger",value:function(e){this._logger=e}},{key:"ConnectVibrationDevice",value:function(){this._logger.Debug("TestDeviceManager: Connecting Vibration Device"),this.emit("deviceadded",this._testVibrationDevice)}},{key:"ConnectLinearDevice",value:function(){this._logger.Debug("TestDeviceManager: Connecting Linear Device"),this.emit("deviceadded",this._testLinearDevice)}},{key:"ConnectRotationDevice",value:function(){this._logger.Debug("TestDeviceManager: Connecting Rotation Device"),this.emit("deviceadded",this._testRotationDevice)}},{key:"StartScanning",value:function(){var e=this;this._logger.Debug("TestDeviceManager: Starting Scan"),this._isScanning=!0,setTimeout((function(){e.ConnectVibrationDevice(),e.ConnectLinearDevice(),e.ConnectRotationDevice()}),50),setTimeout((function(){return e.StopScanning()}),100)}},{key:"StopScanning",value:function(){this._logger.Debug("TestDeviceManager: Stopping Scan"),this._isScanning=!1,this.emit("scanningfinished")}},{key:"VibrationDevice",get:function(){return this._testVibrationDevice}},{key:"LinearDevice",get:function(){return this._testLinearDevice}},{key:"RotationDevice",get:function(){return this._testRotationDevice}},{key:"VibrationProtocol",get:function(){return this._testVibrationProtocol}},{key:"LinearProtocol",get:function(){return this._testLinearProtocol}},{key:"RotationProtocol",get:function(){return this._testRotationProtocol}},{key:"IsScanning",get:function(){return this._isScanning}}]),r}(s.EventEmitter);t.TestDeviceSubtypeManager=d},function(e,t,r){"use strict";r.d(t,"a",(function(){return Le})),r.d(t,"b",(function(){return Ne}));var n=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2),o=function(e,t,r){var n,i,a,o,u=-1;if(r=+r,(e=+e)===(t=+t)&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),0===(o=s(e,t,r))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++u<i;)a[u]=(e+u)*o;else for(o=-o,e=Math.ceil(e*o),t=Math.floor(t*o),a=new Array(i=Math.ceil(t-e+1));++u<i;)a[u]=(e+u)/o;return n&&a.reverse(),a};function s(e,t,r){var o=(t-e)/Math.max(0,r),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=n?10:u>=i?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=n?10:u>=i?5:u>=a?2:1)}var u=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},c=function(e){var t=e,r=e;function n(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;r(e[a],t)<0?n=a+1:i=a}return n}return 1===e.length&&(t=function(t,r){return e(t)-r},r=function(e){return function(t,r){return u(e(t),r)}}(e)),{left:n,center:function(e,r,i,a){null==i&&(i=0),null==a&&(a=e.length);var o=n(e,r,i,a-1);return o>i&&t(e[o-1],r)>-t(e[o],r)?o-1:o},right:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;r(e[a],t)>0?i=a:n=a+1}return n}}};r(0),r(26);var l=c(u),f=l.right,d=(l.left,c((function(e){return null===e?NaN:+e})).center,f),p=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function h(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function v(){}var m="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),_=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),x=new RegExp("^rgba\\("+[m,m,m,g]+"\\)$"),S=new RegExp("^rgba\\("+[y,y,y,g]+"\\)$"),E=new RegExp("^hsl\\("+[g,y,y]+"\\)$"),P=new RegExp("^hsla\\("+[g,y,y,g]+"\\)$"),C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function k(){return this.rgb().formatHex()}function M(){return this.rgb().formatRgb()}function D(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=b.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?T(t):3===r?new R(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?O(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?O(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=w.exec(e))?new R(t[1],t[2],t[3],1):(t=_.exec(e))?new R(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=x.exec(e))?O(t[1],t[2],t[3],t[4]):(t=S.exec(e))?O(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=E.exec(e))?j(t[1],t[2]/100,t[3]/100,1):(t=P.exec(e))?j(t[1],t[2]/100,t[3]/100,t[4]):C.hasOwnProperty(e)?T(C[e]):"transparent"===e?new R(NaN,NaN,NaN,0):null}function T(e){return new R(e>>16&255,e>>8&255,255&e,1)}function O(e,t,r,n){return n<=0&&(e=t=r=NaN),new R(e,t,r,n)}function I(e){return e instanceof v||(e=D(e)),e?new R((e=e.rgb()).r,e.g,e.b,e.opacity):new R}function L(e,t,r,n){return 1===arguments.length?I(e):new R(e,t,r,null==n?1:n)}function R(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function A(){return"#"+N(this.r)+N(this.g)+N(this.b)}function F(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function N(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function j(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new B(e,t,r,n)}function V(e){if(e instanceof B)return new B(e.h,e.s,e.l,e.opacity);if(e instanceof v||(e=D(e)),!e)return new B;if(e instanceof B)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new B(o,s,u,e.opacity)}function B(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function $(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function z(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}p(v,D,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:k,formatHex:k,formatHsl:function(){return V(this).formatHsl()},formatRgb:M,toString:M}),p(R,L,h(v,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new R(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new R(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:F,toString:F})),p(B,(function(e,t,r,n){return 1===arguments.length?V(e):new B(e,t,r,null==n?1:n)}),h(v,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new B(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new B(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new R($(e>=240?e-240:e+120,i,n),$(e,i,n),$(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var U=function(e){return function(){return e}};function H(e,t){return function(r){return e+r*t}}function W(e){return 1===(e=+e)?q:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):U(isNaN(t)?r:t)}}function q(e,t){var r=t-e;return r?H(e,r):U(isNaN(e)?t:e)}var Q=function e(t){var r=W(t);function n(e,t){var n=r((e=L(e)).r,(t=L(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=q(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function K(e){return function(t){var r,n,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=L(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}K((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return z((r-n/t)*t,o,i,a,s)}})),K((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return z((r-n/t)*t,i,a,o,s)}}));var G=function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}};function Y(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function J(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=ie(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}var X=function(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}},Z=function(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}},ee=function(e,t){var r,n={},i={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=ie(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}},te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(te.source,"g");var ne=function(e,t){var r,n,i,a=te.lastIndex=re.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(r=te.exec(e))&&(n=re.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:Z(r,n)})),a=re.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var r,n=0;n<t;++n)s[(r=u[n]).i]=r.x(e);return s.join("")})},ie=function(e,t){var r,n=typeof t;return null==t||"boolean"===n?U(t):("number"===n?Z:"string"===n?(r=D(t))?(t=r,Q):ne:t instanceof D?Q:t instanceof Date?X:Y(t)?G:Array.isArray(t)?J:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ee:Z)(e,t)},ae=function(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}},oe=function(e){return+e},se=[0,1];function ue(e){return e}function ce(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function le(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=ce(i,n),a=r(o,a)):(n=ce(n,i),a=r(a,o)),function(e){return a(n(e))}}function fe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ce(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=d(e,t,1,n)-1;return a[r](i[r](t))}}function de(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pe(){var e,t,r,n,i,a,o=se,s=se,u=ie,c=ue;function l(){var e=Math.min(o.length,s.length);return c!==ue&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?fe:le,i=a=null,f}function f(t){return isNaN(t=+t)?r:(i||(i=n(o.map(e),s,u)))(e(c(t)))}return f.invert=function(r){return c(t((a||(a=n(s,o.map(e),Z)))(r)))},f.domain=function(e){return arguments.length?(o=Array.from(e,oe),l()):o.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=ae,l()},f.clamp=function(e){return arguments.length?(c=!!e||ue,l()):c!==ue},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(r=e,f):r},function(r,n){return e=r,t=n,l()}}function he(){return pe()(ue,ue)}function ve(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function me(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ye(e){if(!(t=ge.exec(e)))throw new Error("invalid format: "+e);var t;return new be({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function be(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}ye.prototype=be.prototype,be.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function we(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var _e,xe,Se,Ee,Pe=function(e){return(e=we(Math.abs(e)))?e[1]:NaN},Ce=function(e,t){var r=we(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")},ke={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ce(100*e,t)},r:Ce,s:function(e,t){var r=we(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(_e=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+we(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Me=function(e){return e},De=Array.prototype.map,Te=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];xe=function(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Me:(t=De.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Me:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(De.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=ye(e)).fill,r=e.align,f=e.sign,d=e.symbol,p=e.zero,h=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):ke[y]||(void 0===m&&(m=12),g=!0,y="g"),(p||"0"===t&&"="===r)&&(p=!0,t="0",r="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?a:/[%p]/.test(y)?u:"",_=ke[y],x=/[defgprs%]/.test(y);function S(e){var i,a,u,d=b,S=w;if("c"===y)S=_(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:_(Math.abs(e),m),g&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:c:"-"===f||"("===f?"":f)+d,S=("s"===y?Te[8+_e/3]:"")+S+(E&&"("===f?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(u=e.charCodeAt(i))||u>57){S=(46===u?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}v&&!p&&(e=n(e,1/0));var P=d.length+e.length+S.length,C=P<h?new Array(h-P+1).join(t):"";switch(v&&p&&(e=n(C+e,C.length?h-S.length:1/0),C=""),r){case"<":e=d+e+S+C;break;case"=":e=d+C+e+S;break;case"^":e=C.slice(0,P=C.length>>1)+d+e+S+C.slice(P);break;default:e=C+d+e+S}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var r=f(((e=ye(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Pe(t)/3))),i=Math.pow(10,-n),a=Te[8+n/3];return function(e){return r(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),Se=xe.format,Ee=xe.formatPrefix;var Oe=function(e,t,r,o){var s,u=function(e,t,r){var o=Math.abs(t-e)/Math.max(0,r),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=n?s*=10:u>=i?s*=5:u>=a&&(s*=2),t<e?-s:s}(e,t,r);switch((o=ye(null==o?",f":o)).type){case"s":var c=Math.max(Math.abs(e),Math.abs(t));return null!=o.precision||isNaN(s=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pe(t)/3)))-Pe(Math.abs(e)))}(u,c))||(o.precision=s),Ee(o,c);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(s=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pe(t)-Pe(e))+1}(u,Math.max(Math.abs(e),Math.abs(t))))||(o.precision=s-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(s=function(e){return Math.max(0,-Pe(Math.abs(e)))}(u))||(o.precision=s-2*("%"===o.type))}return Se(o)};function Ie(e){var t=e.domain;return e.ticks=function(e){var r=t();return o(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Oe(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,u=a.length-1,c=a[o],l=a[u],f=10;for(l<c&&(i=c,c=l,l=i,i=o,o=u,u=i);f-- >0;){if((i=s(c,l,r))===n)return a[o]=c,a[u]=l,t(a);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}n=i}return e},e}function Le(){var e=he();return e.copy=function(){return de(e,Le())},ve.apply(e,arguments),Ie(e)}var Re=r(10);function Ae(){var e,t,r,n,i,a=0,o=1,s=ue,u=!1;function c(t){return isNaN(t=+t)?i:s(0===r?.5:(t=(n(t)-e)*r,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var r,n,i,a;return arguments.length?(r=t,i=(n=Object(Re.a)(r,2))[0],a=n[1],s=e(i,a),c):[s(0),s(1)]}}return c.domain=function(i){var s,u;return arguments.length?(s=i,u=Object(Re.a)(s,2),a=u[0],o=u[1],e=n(a=+a),t=n(o=+o),r=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=l(ie),c.rangeRound=l(ae),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(o),r=e===t?0:1/(t-e),c}}function Fe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ne(){var e=Ie(Ae()(ue));return e.copy=function(){return Fe(e,Ne())},me.apply(e,arguments)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=function(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r};function i(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}i(n("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),i(n("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i(n("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var a=i(n("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=r(128)},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(70),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}function _(){}function x(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var S=x.prototype=new _;S.constructor=x,n(S,w.prototype),S.isPureReactComponent=!0;var E={current:null},P=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)P.call(t,n)&&!C.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===i[n]&&(i[n]=u[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:E.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var D=/\/+/g,T=[];function O(e,t,r,n){if(T.length){var i=T.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function L(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case o:u=!0}}if(u)return n(i,t,""===r?"."+R(t,0):r),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+R(s=t[c],c);u+=e(s,l,n,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=m&&t[m]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=r+R(s,c++),n,i);else if("object"===s)throw n=""+t,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return u}(e,"",t,r)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function A(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,n,r,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+r)),n.push(e))}function N(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(D,"$&/")+"/"),L(e,F,t=O(t,a,n,i)),I(t)}var j={current:null};function V(){var e=j.current;if(null===e)throw Error(g(321));return e}var B={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return N(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;L(e,A,t=O(null,null,t,r)),I(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=x,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(g(267,e));var i=n({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)P.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return V().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,r){return V().useReducer(e,t,r)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.13.1"},function(e,t,r){"use strict";var n=r(3),i=r(70),a=r(129);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function s(e,t,r,n,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,d={onError:function(e){u=!0,c=e}};function p(e,t,r,n,i,a,o,l,f){u=!1,c=null,s.apply(d,arguments)}var h=null,v=null,m=null;function g(e,t,r){var n=e.type||"unknown-event";e.currentTarget=m(r),function(e,t,r,n,i,a,s,d,h){if(p.apply(this,arguments),u){if(!u)throw Error(o(198));var v=c;u=!1,c=null,l||(l=!0,f=v)}}(n,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],r=y.indexOf(e);if(!(-1<r))throw Error(o(96,e));if(!x[r]){if(!t.extractEvents)throw Error(o(97,e));for(var n in x[r]=t,r=t.eventTypes){var i=void 0,a=r[n],s=t,u=n;if(S.hasOwnProperty(u))throw Error(o(99,u));S[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&_(c[i],s,u);i=!0}else a.registrationName?(_(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,n,e))}}}}function _(e,t,r){if(E[e])throw Error(o(100,e));E[e]=t,P[e]=t.eventTypes[r].dependencies}var x=[],S={},E={},P={};function C(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!b.hasOwnProperty(t)||b[t]!==n){if(b[t])throw Error(o(102,t));b[t]=n,r=!0}}r&&w()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),M=null,D=null,T=null;function O(e){if(e=v(e)){if("function"!==typeof M)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),M(e.stateNode,e.type,t))}}function I(e){D?T?T.push(e):T=[e]:D=e}function L(){if(D){var e=D,t=T;if(T=D=null,O(e),t)for(e=0;e<t.length;e++)O(t[e])}}function R(e,t){return e(t)}function A(e,t,r,n,i){return e(t,r,n,i)}function F(){}var N=R,j=!1,V=!1;function B(){null===D&&null===T||(F(),L())}function $(e,t,r){if(V)return e(t,r);V=!0;try{return N(e,t,r)}finally{V=!1,B()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,H={},W={};function q(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Q[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Q[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Q[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Q[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Q[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Q[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Q[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Q[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Q[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,G);Q[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,G);Q[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,G);Q[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Q[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),Q.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Q[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,r,n){var i=Q.hasOwnProperty(t)?Q[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!U.call(W,e)||!U.call(H,e)&&(z.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,re=Z?Symbol.for("react.fragment"):60107,ne=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,pe=Z?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case pe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,a=me(e.type);r=null,n&&(r=me(n.type)),n=a,a="",i?a=" (at "+i.fileName.replace(X,"")+":"+i.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=be(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function xe(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Se(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ye(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Pe(e,t){Ee(e,t);var r=ye(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,r):t.hasOwnProperty("defaultValue")&&ke(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ke(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Me(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function De(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ye(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ye(r)}}function Ie(e,t){var r=ye(t.value),n=ye(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Ae="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Ve=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Ae||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function $e(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ze={animationend:$e("Animation","AnimationEnd"),animationiteration:$e("Animation","AnimationIteration"),animationstart:$e("Animation","AnimationStart"),transitionend:$e("Transition","TransitionEnd")},Ue={},He={};function We(e){if(Ue[e])return Ue[e];if(!ze[e])return e;var t,r=ze[e];for(t in r)if(r.hasOwnProperty(t)&&t in He)return Ue[e]=r[t];return e}k&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var qe=We("animationend"),Qe=We("animationiteration"),Ke=We("animationstart"),Ge=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Xe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(o(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return tt(i),e;if(a===n)return tt(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)g(e,t[n],r[n]);else t&&g(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=nt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function dt(e,t,r,n){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function pt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Cr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=ut(e.nativeEvent);n=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===r&&(o|=64);for(var s=null,u=0;u<x.length;u++){var c=x[u];c&&(c=c.extractEvents(n,t,a,i,o))&&(s=nt(s,c))}st(s)}}function ht(e,t,r){if(!r.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ct(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&Qt(e,t)}r.set(e,null)}}var vt,mt,gt,yt=!1,bt=[],wt=null,_t=null,xt=null,St=new Map,Et=new Map,Pt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Mt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Dt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Tt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e=Mt(t,r,n,i,a),null!==t&&(null!==(t=kr(t))&&mt(t)),e):(e.eventSystemFlags|=n,e)}function Ot(e){var t=Cr(e.target);if(null!==t){var r=Ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Xt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=kr(t);return null!==r&&mt(r),e.blockedOn=t,!1}return!0}function Lt(e,t,r){It(e)&&r.delete(t)}function Rt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=kr(e.blockedOn))&&vt(e);break}var t=Xt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&It(wt)&&(wt=null),null!==_t&&It(_t)&&(_t=null),null!==xt&&It(xt)&&(xt=null),St.forEach(Lt),Et.forEach(Lt)}function At(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Rt)))}function Ft(e){function t(t){return At(t,e)}if(0<bt.length){At(bt[0],e);for(var r=1;r<bt.length;r++){var n=bt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==wt&&At(wt,e),null!==_t&&At(_t,e),null!==xt&&At(xt,e),St.forEach(t),Et.forEach(t),r=0;r<Pt.length;r++)(n=Pt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Pt.length&&null===(r=Pt[0]).blockedOn;)Ot(r),null===r.blockedOn&&Pt.shift()}var Nt={},jt=new Map,Vt=new Map,Bt=["abort","abort",qe,"animationEnd",Qe,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ge,"transitionEnd","waiting","waiting"];function $t(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[n],eventPriority:t},Vt.set(n,t),jt.set(n,a),Nt[i]=a}}$t("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),$t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),$t(Bt,2);for(var zt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ut=0;Ut<zt.length;Ut++)Vt.set(zt[Ut],0);var Ht=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,qt=!0;function Qt(e,t){Kt(t,e,!1)}function Kt(e,t,r){var n=Vt.get(t);switch(void 0===n?2:n){case 0:n=Gt.bind(null,t,1,e);break;case 1:n=Yt.bind(null,t,1,e);break;default:n=Jt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Gt(e,t,r,n){j||F();var i=Jt,a=j;j=!0;try{A(i,e,t,r,n)}finally{(j=a)||B()}}function Yt(e,t,r,n){Wt(Ht,Jt.bind(null,e,t,r,n))}function Jt(e,t,r,n){if(qt)if(0<bt.length&&-1<Ct.indexOf(e))e=Mt(null,e,t,r,n),bt.push(e);else{var i=Xt(e,t,r,n);if(null===i)Dt(e,n);else if(-1<Ct.indexOf(e))e=Mt(i,e,t,r,n),bt.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return wt=Tt(wt,e,t,r,n,i),!0;case"dragenter":return _t=Tt(_t,e,t,r,n,i),!0;case"mouseover":return xt=Tt(xt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Tt(St.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Tt(Et.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){Dt(e,n),e=dt(e,n,null,t);try{$(pt,e)}finally{ft(e)}}}}function Xt(e,t,r,n){if(null!==(r=Cr(r=ut(n)))){var i=Ze(r);if(null===i)r=null;else{var a=i.tag;if(13===a){if(null!==(r=et(i)))return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=dt(e,n,r,t);try{$(pt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Zt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function ar(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=Re;function sr(e,t){var r=Xe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=P[t];for(var n=0;n<t.length;n++)ht(t[n],e,r)}function ur(){}function cr(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var r,n=lr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lr(n)}}function dr(){for(var e=window,t=cr();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=cr((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=null,vr=null;function mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0;function wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function _r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Sr="__reactInternalInstance$"+xr,Er="__reactEventHandlers$"+xr,Pr="__reactContainere$"+xr;function Cr(e){var t=e[Sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pr]||r[Sr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=_r(e);null!==e;){if(r=e[Sr])return r;e=_r(e)}return t}r=(e=r).parentNode}return null}function kr(e){return!(e=e[Sr]||e[Pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Dr(e){return e[Er]||null}function Tr(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Or(e,t){var r=e.stateNode;if(!r)return null;var n=h(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}function Ir(e,t,r){(t=Or(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Lr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Tr(t);for(t=r.length;0<t--;)Ir(r[t],"captured",e);for(t=0;t<r.length;t++)Ir(r[t],"bubbled",e)}}function Rr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Or(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Ar(e){e&&e.dispatchConfig.registrationName&&Rr(e._targetInst,null,e)}function Fr(e){it(e,Lr)}var Nr=null,jr=null,Vr=null;function Br(){if(Vr)return Vr;var e,t,r=jr,n=r.length,i="value"in Nr?Nr.value:Nr.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return Vr=i.slice(e,1<t?1-t:void 0)}function $r(){return!0}function zr(){return!1}function Ur(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?$r:zr,this.isPropagationStopped=zr,this}function Hr(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Wr(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qr(e){e.eventPool=[],e.getPooled=Hr,e.release=Wr}i(Ur.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){this.isPersistent=$r},isPersistent:zr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zr,this._dispatchInstances=this._dispatchListeners=null}}),Ur.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ur.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;return i(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,qr(r),r},qr(Ur);var Qr=Ur.extend({data:null}),Kr=Ur.extend({data:null}),Gr=[9,13,27,32],Yr=k&&"CompositionEvent"in window,Jr=null;k&&"documentMode"in document&&(Jr=document.documentMode);var Xr=k&&"TextEvent"in window&&!Jr,Zr=k&&(!Yr||Jr&&8<Jr&&11>=Jr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==Gr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function an(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var on=!1;var sn={eventTypes:tn,extractEvents:function(e,t,r,n){var i;if(Yr)e:{switch(e){case"compositionstart":var a=tn.compositionStart;break e;case"compositionend":a=tn.compositionEnd;break e;case"compositionupdate":a=tn.compositionUpdate;break e}a=void 0}else on?nn(e,r)&&(a=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(a=tn.compositionStart);return a?(Zr&&"ko"!==r.locale&&(on||a!==tn.compositionStart?a===tn.compositionEnd&&on&&(i=Br()):(jr="value"in(Nr=n)?Nr.value:Nr.textContent,on=!0)),a=Qr.getPooled(a,t,r,n),i?a.data=i:null!==(i=an(r))&&(a.data=i),Fr(a),i=a):i=null,(e=Xr?function(e,t){switch(e){case"compositionend":return an(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(on)return"compositionend"===e||!Yr&&nn(e,t)?(e=Br(),Vr=jr=Nr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Kr.getPooled(tn.beforeInput,t,r,n)).data=e,Fr(t)):t=null,null===i?t:null===t?i:[i,t]}},un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!un[e.type]:"textarea"===t}var ln={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fn(e,t,r){return(e=Ur.getPooled(ln.change,e,t,r)).type="change",I(r),Fr(e),e}var dn=null,pn=null;function hn(e){st(e)}function vn(e){if(_e(Mr(e)))return e}function mn(e,t){if("change"===e)return t}var gn=!1;function yn(){dn&&(dn.detachEvent("onpropertychange",bn),pn=dn=null)}function bn(e){if("value"===e.propertyName&&vn(pn))if(e=fn(pn,e,ut(e)),j)st(e);else{j=!0;try{R(hn,e)}finally{j=!1,B()}}}function wn(e,t,r){"focus"===e?(yn(),pn=r,(dn=t).attachEvent("onpropertychange",bn)):"blur"===e&&yn()}function _n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vn(pn)}function xn(e,t){if("click"===e)return vn(t)}function Sn(e,t){if("input"===e||"change"===e)return vn(t)}k&&(gn=ct("input")&&(!document.documentMode||9<document.documentMode));var En={eventTypes:ln,_isInputEventSupported:gn,extractEvents:function(e,t,r,n){var i=t?Mr(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=mn;else if(cn(i))if(gn)o=Sn;else{o=_n;var s=wn}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=xn);if(o&&(o=o(e,t)))return fn(o,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ke(i,"number",i.value)}},Pn=Ur.extend({view:null,detail:null}),Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Mn(){return kn}var Dn=0,Tn=0,On=!1,In=!1,Ln=Pn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dn;return Dn=e.screenX,On?"mousemove"===e.type?e.screenX-t:0:(On=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Tn;return Tn=e.screenY,In?"mousemove"===e.type?e.screenY-t:0:(In=!0,0)}}),Rn=Ln.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),An={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fn={eventTypes:An,extractEvents:function(e,t,r,n,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!o&&!a)return null;(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=r.relatedTarget||r.toElement)?Cr(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ln,u=An.mouseLeave,c=An.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rn,u=An.pointerLeave,c=An.pointerEnter,l="pointer");if(e=null==o?a:Mr(o),a=null==t?a:Mr(t),(u=s.getPooled(u,o,r,n)).type=l+"leave",u.target=e,u.relatedTarget=a,(r=s.getPooled(c,t,r,n)).type=l+"enter",r.target=a,r.relatedTarget=e,l=t,(n=o)&&l)e:{for(c=l,o=0,e=s=n;e;e=Tr(e))o++;for(e=0,t=c;t;t=Tr(t))e++;for(;0<o-e;)s=Tr(s),o--;for(;0<e-o;)c=Tr(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Tr(s),c=Tr(c)}s=null}else s=null;for(c=s,s=[];n&&n!==c&&(null===(o=n.alternate)||o!==c);)s.push(n),n=Tr(n);for(n=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)n.push(l),l=Tr(l);for(l=0;l<s.length;l++)Rr(s[l],"bubbled",u);for(l=n.length;0<l--;)Rr(n[l],"captured",r);return 0===(64&i)?[u]:[u,r]}};var Nn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},jn=Object.prototype.hasOwnProperty;function Vn(e,t){if(Nn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!jn.call(t,r[n])||!Nn(e[r[n]],t[r[n]]))return!1;return!0}var Bn=k&&"documentMode"in document&&11>=document.documentMode,$n={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Un=null,Hn=null,Wn=!1;function qn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==zn||zn!==cr(r)?null:("selectionStart"in(r=zn)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Hn&&Vn(Hn,r)?null:(Hn=r,(e=Ur.getPooled($n.select,Un,e,t)).type="select",e.target=zn,Fr(e),e))}var Qn={eventTypes:$n,extractEvents:function(e,t,r,n,i,a){if(!(a=!(i=a||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Xe(i),a=P.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Mr(t):window,e){case"focus":(cn(i)||"true"===i.contentEditable)&&(zn=i,Un=t,Hn=null);break;case"blur":Hn=Un=zn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,qn(r,n);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return qn(r,n)}return null}},Kn=Ur.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Gn=Ur.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=Pn.extend({relatedTarget:null});function Jn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Pn.extend({key:function(e){if(e.key){var t=Xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?Jn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Ln.extend({dataTransfer:null}),ri=Pn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mn}),ni=Ur.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Ln.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Nt,extractEvents:function(e,t,r,n){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Jn(r))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ri;break;case qe:case Qe:case Ke:e=Kn;break;case Ge:e=ni;break;case"scroll":e=Pn;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rn;break;default:e=Ur}return Fr(t=e.getPooled(i,t,r,n)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),h=Dr,v=kr,m=Mr,C({SimpleEventPlugin:ai,EnterLeaveEventPlugin:Fn,ChangeEventPlugin:En,SelectEventPlugin:Qn,BeforeInputEventPlugin:sn});var oi=[],si=-1;function ui(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function ci(e,t){si++,oi[si]=e.current,e.current=t}var li={},fi={current:li},di={current:!1},pi=li;function hi(e,t){var r=e.type.contextTypes;if(!r)return li;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){ui(di),ui(fi)}function gi(e,t,r){if(fi.current!==li)throw Error(o(168));ci(fi,t),ci(di,r)}function yi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},r,{},n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,pi=fi.current,ci(fi,e),ci(di,di.current),!0}function wi(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=yi(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,ui(di),ui(fi),ci(fi,e)):ui(di),ci(di,r)}var _i=a.unstable_runWithPriority,xi=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ei=a.unstable_requestPaint,Pi=a.unstable_now,Ci=a.unstable_getCurrentPriorityLevel,ki=a.unstable_ImmediatePriority,Mi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Ti=a.unstable_LowPriority,Oi=a.unstable_IdlePriority,Ii={},Li=a.unstable_shouldYield,Ri=void 0!==Ei?Ei:function(){},Ai=null,Fi=null,Ni=!1,ji=Pi(),Vi=1e4>ji?Pi:function(){return Pi()-ji};function Bi(){switch(Ci()){case ki:return 99;case Mi:return 98;case Di:return 97;case Ti:return 96;case Oi:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return ki;case 98:return Mi;case 97:return Di;case 96:return Ti;case 95:return Oi;default:throw Error(o(332))}}function zi(e,t){return e=$i(e),_i(e,t)}function Ui(e,t,r){return e=$i(e),xi(e,t,r)}function Hi(e){return null===Ai?(Ai=[e],Fi=xi(ki,qi)):Ai.push(e),Ii}function Wi(){if(null!==Fi){var e=Fi;Fi=null,Si(e)}qi()}function qi(){if(!Ni&&null!==Ai){Ni=!0;var e=0;try{var t=Ai;zi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ai=null}catch(r){throw null!==Ai&&(Ai=Ai.slice(e+1)),xi(ki,Wi),r}finally{Ni=!1}}}function Qi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Ki(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Gi={current:null},Yi=null,Ji=null,Xi=null;function Zi(){Xi=Ji=Yi=null}function ea(e){var t=Gi.current;ui(Gi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ra(e,t){Yi=e,Xi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(To=!0),e.firstContext=null)}function na(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Yi)throw Error(o(308));Ji=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ua(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ca(e,t){var r=e.alternate;null!==r&&oa(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function la(e,t,r,n){var a=e.updateQueue;ia=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=a.baseState,l=0,f=null,d=null,p=null;if(null!==u)for(var h=u;;){if((s=h.expirationTime)<n){var v={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=v,f=c):p=p.next=v,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),au(s,h.suspenseConfig);e:{var m=e,g=h;switch(s=t,v=r,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(v,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,c,s):m)||void 0===s)break e;c=i({},c,s);break e;case 2:ia=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[h]:s.push(h))}if(null===(h=h.next)||h===u){if(null===(s=a.shared.pending))break;h=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===p?f=c:p.next=d,a.baseState=f,a.baseQueue=p,ou(l),e.expirationTime=l,e.memoizedState=c}}function fa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!==typeof n)throw Error(o(191,n));n.call(i)}}}var da=Y.ReactCurrentBatchConfig,pa=(new n.Component).refs;function ha(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var va={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=qs(),i=da.suspense;(i=sa(n=Qs(n,e,i),i)).payload=t,void 0!==r&&null!==r&&(i.callback=r),ua(e,i),Ks(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=qs(),i=da.suspense;(i=sa(n=Qs(n,e,i),i)).tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ua(e,i),Ks(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=qs(),n=da.suspense;(n=sa(r=Qs(r,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),ua(e,n),Ks(e,r)}};function ma(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Vn(r,n)||!Vn(i,a))}function ga(e,t,r){var n=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=na(a):(i=vi(t)?pi:fi.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?hi(e,i):li),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=va,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function ba(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=pa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=na(a):(a=vi(t)?pi:fi.current,i.context=hi(e,a)),la(e,r,i,n),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&va.enqueueReplaceState(i,i.state,null),la(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var wa=Array.isArray;function _a(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===pa&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Sa(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Cu(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Du(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=_a(e,t,r),n.return=e,n):((n=ku(r.type,r.key,r.props,null,e.mode,n)).ref=_a(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Tu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function f(e,t,r,n,a){return null===t||7!==t.tag?((t=Mu(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Du(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=ku(t.type,t.key,t.props,null,e.mode,r)).ref=_a(e,null,t),r.return=e,r;case te:return(t=Tu(t,e.mode,r)).return=e,t}if(wa(t)||ve(t))return(t=Mu(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?f(e,t,r.props.children,n,i):c(e,t,r,n):null;case te:return r.key===i?l(e,t,r,n):null}if(wa(r)||ve(r))return null!==i?null:f(e,t,r,n,null);xa(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?f(t,e,n.props.children,i,n.key):c(t,e,n,i);case te:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(wa(n)||ve(n))return f(t,e=e.get(r)||null,n,i,null);xa(t,n)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return r(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=n(i,f);v<s.length;v++)null!==(m=h(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=ve(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return r(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=n(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,n,a,u){var c="object"===typeof a&&null!==a&&a.type===re&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=n;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===re){r(e,c.sibling),(n=i(c,a.props.children)).return=e,e=n;break e}break;default:if(c.elementType===a.type){r(e,c.sibling),(n=i(c,a.props)).ref=_a(e,c,a),n.return=e,e=n;break e}}r(e,c);break}t(e,c),c=c.sibling}a.type===re?((n=Mu(a.props.children,e.mode,u,a.key)).return=e,e=n):((u=ku(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,n,a),u.return=e,e=u)}return s(e);case te:e:{for(c=a.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Tu(a,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=Du(a,e.mode,u)).return=e,e=n),s(e);if(wa(a))return v(e,n,a,u);if(ve(a))return m(e,n,a,u);if(l&&xa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Ea=Sa(!0),Pa=Sa(!1),Ca={},ka={current:Ca},Ma={current:Ca},Da={current:Ca};function Ta(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(ci(Da,t),ci(Ma,e),ci(ka,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(ka),ci(ka,t)}function Ia(){ui(ka),ui(Ma),ui(Da)}function La(e){Ta(Da.current);var t=Ta(ka.current),r=Ne(t,e.type);t!==r&&(ci(Ma,e),ci(ka,r))}function Ra(e){Ma.current===e&&(ui(ka),ui(Ma))}var Aa={current:0};function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Na(e,t){return{responder:e,props:t}}var ja=Y.ReactCurrentDispatcher,Va=Y.ReactCurrentBatchConfig,Ba=0,$a=null,za=null,Ua=null,Ha=!1;function Wa(){throw Error(o(321))}function qa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Qa(e,t,r,n,i,a){if(Ba=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,ja.current=null===e||null===e.memoizedState?go:yo,e=r(n,i),t.expirationTime===Ba){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ua=za=null,t.updateQueue=null,ja.current=bo,e=r(n,i)}while(t.expirationTime===Ba)}if(ja.current=mo,t=null!==za&&null!==za.next,Ba=0,Ua=za=$a=null,Ha=!1,t)throw Error(o(300));return e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ua?$a.memoizedState=Ua=e:Ua=Ua.next=e,Ua}function Ga(){if(null===za){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=za.next;var t=null===Ua?$a.memoizedState:Ua.next;if(null!==t)Ua=t,za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(za=e).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===Ua?$a.memoizedState=Ua=e:Ua=Ua.next=e}return Ua}function Ya(e,t){return"function"===typeof t?t(e):t}function Ja(e){var t=Ga(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=za,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=a=null,c=i;do{var l=c.expirationTime;if(l<Ba){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=n):u=u.next=f,l>$a.expirationTime&&($a.expirationTime=l,ou(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),au(l,c.suspenseConfig),n=c.eagerReducer===e?c.eagerState:e(n,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=n:u.next=s,Nn(n,t.memoizedState)||(To=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Xa(e){var t=Ga(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Nn(a,t.memoizedState)||(To=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Za(e){var t=Ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e}).dispatch=vo.bind(null,$a,e),[t.memoizedState,e]}function eo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function to(){return Ga().memoizedState}function ro(e,t,r,n){var i=Ka();$a.effectTag|=e,i.memoizedState=eo(1|t,r,void 0,void 0===n?null:n)}function no(e,t,r,n){var i=Ga();n=void 0===n?null:n;var a=void 0;if(null!==za){var o=za.memoizedState;if(a=o.destroy,null!==n&&qa(n,o.deps))return void eo(t,r,a,n)}$a.effectTag|=e,i.memoizedState=eo(1|t,r,a,n)}function io(e,t){return ro(516,4,e,t)}function ao(e,t){return no(516,4,e,t)}function oo(e,t){return no(4,2,e,t)}function so(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function uo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,no(4,2,so.bind(null,t,e),r)}function co(){}function lo(e,t){return Ka().memoizedState=[e,void 0===t?null:t],e}function fo(e,t){var r=Ga();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&qa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function po(e,t){var r=Ga();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&qa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ho(e,t,r){var n=Bi();zi(98>n?98:n,(function(){e(!0)})),zi(97<n?97:n,(function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{e(!1),r()}finally{Va.suspense=n}}))}function vo(e,t,r){var n=qs(),i=da.suspense;i={expirationTime:n=Qs(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===$a||null!==a&&a===$a)Ha=!0,i.expirationTime=Ba,$a.expirationTime=Ba;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.eagerReducer=a,i.eagerState=s,Nn(s,o))return}catch(u){}Ks(e,n)}}var mo={readContext:na,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useResponder:Wa,useDeferredValue:Wa,useTransition:Wa},go={readContext:na,useCallback:lo,useContext:na,useEffect:io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ro(4,2,so.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var r=Ka();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ka();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=vo.bind(null,$a,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ka().memoizedState=e},useState:Za,useDebugValue:co,useResponder:Na,useDeferredValue:function(e,t){var r=Za(e),n=r[0],i=r[1];return io((function(){var r=Va.suspense;Va.suspense=void 0===t?null:t;try{i(e)}finally{Va.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Za(!1),r=t[0];return t=t[1],[lo(ho.bind(null,t,e),[t,e]),r]}},yo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:po,useReducer:Ja,useRef:to,useState:function(){return Ja(Ya)},useDebugValue:co,useResponder:Na,useDeferredValue:function(e,t){var r=Ja(Ya),n=r[0],i=r[1];return ao((function(){var r=Va.suspense;Va.suspense=void 0===t?null:t;try{i(e)}finally{Va.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Ja(Ya),r=t[0];return t=t[1],[fo(ho.bind(null,t,e),[t,e]),r]}},bo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:po,useReducer:Xa,useRef:to,useState:function(){return Xa(Ya)},useDebugValue:co,useResponder:Na,useDeferredValue:function(e,t){var r=Xa(Ya),n=r[0],i=r[1];return ao((function(){var r=Va.suspense;Va.suspense=void 0===t?null:t;try{i(e)}finally{Va.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Xa(Ya),r=t[0];return t=t[1],[fo(ho.bind(null,t,e),[t,e]),r]}},wo=null,_o=null,xo=!1;function So(e,t){var r=Eu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Eo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Po(e){if(xo){var t=_o;if(t){var r=t;if(!Eo(e,t)){if(!(t=wr(r.nextSibling))||!Eo(e,t))return e.effectTag=-1025&e.effectTag|2,xo=!1,void(wo=e);So(wo,r)}wo=e,_o=wr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xo=!1,wo=e}}function Co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wo=e}function ko(e){if(e!==wo)return!1;if(!xo)return Co(e),xo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gr(t,e.memoizedProps))for(t=_o;t;)So(e,t),t=wr(t.nextSibling);if(Co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){_o=wr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}_o=null}}else _o=wo?wr(e.stateNode.nextSibling):null;return!0}function Mo(){_o=wo=null,xo=!1}var Do=Y.ReactCurrentOwner,To=!1;function Oo(e,t,r,n){t.child=null===e?Pa(t,null,r,n):Ea(t,e.child,r,n)}function Io(e,t,r,n,i){r=r.render;var a=t.ref;return ra(t,i),n=Qa(e,t,r,n,a,i),null===e||To?(t.effectTag|=1,Oo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ko(e,t,i))}function Lo(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=ku(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ro(e,t,o,n,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:Vn)(i,n)&&e.ref===t.ref)?Ko(e,t,a):(t.effectTag|=1,(e=Cu(o,n)).ref=t.ref,e.return=t,t.child=e)}function Ro(e,t,r,n,i,a){return null!==e&&Vn(e.memoizedProps,n)&&e.ref===t.ref&&(To=!1,i<a)?(t.expirationTime=e.expirationTime,Ko(e,t,a)):Fo(e,t,r,n,a)}function Ao(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Fo(e,t,r,n,i){var a=vi(r)?pi:fi.current;return a=hi(t,a),ra(t,i),r=Qa(e,t,r,n,a,i),null===e||To?(t.effectTag|=1,Oo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ko(e,t,i))}function No(e,t,r,n,i){if(vi(r)){var a=!0;bi(t)}else a=!1;if(ra(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ga(t,r,n),ba(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=na(c):c=hi(t,c=vi(r)?pi:fi.current);var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==c)&&ya(t,o,n,c),ia=!1;var d=t.memoizedState;o.state=d,la(t,n,o,i),u=t.memoizedState,s!==n||d!==u||di.current||ia?("function"===typeof l&&(ha(t,r,l,n),u=t.memoizedState),(s=ia||ma(t,r,s,n,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,oa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Ki(t.type,s),u=o.context,"object"===typeof(c=r.contextType)&&null!==c?c=na(c):c=hi(t,c=vi(r)?pi:fi.current),(f="function"===typeof(l=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==c)&&ya(t,o,n,c),ia=!1,u=t.memoizedState,o.state=u,la(t,n,o,i),d=t.memoizedState,s!==n||u!==d||di.current||ia?("function"===typeof l&&(ha(t,r,l,n),d=t.memoizedState),(l=ia||ma(t,r,s,n,u,d,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),n=!1);return jo(e,t,r,n,a,i)}function jo(e,t,r,n,i,a){Ao(e,t);var o=0!==(64&t.effectTag);if(!n&&!o)return i&&wi(t,r,!1),Ko(e,t,a);n=t.stateNode,Do.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Oo(e,t,s,a),t.memoizedState=n.state,i&&wi(t,r,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Oa(e,t.containerInfo)}var Bo,$o,zo,Uo={dehydrated:null,retryTime:0};function Ho(e,t,r){var n,i=t.mode,a=t.pendingProps,o=Aa.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&o)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),ci(Aa,1&o),null===e){if(void 0!==a.fallback&&Po(t),s){if(s=a.fallback,(a=Mu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Mu(s,i,r,null)).return=t,a.sibling=r,t.memoizedState=Uo,t.child=a,r}return i=a.children,t.memoizedState=null,t.child=Pa(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(r=Cu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Cu(i,a)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=Uo,t.child=r,i}return r=Ea(t,e.child,a.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=a.fallback,(a=Mu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Mu(s,i,r,null)).return=t,a.sibling=r,r.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Uo,t.child=a,r}return t.memoizedState=null,t.child=Ea(t,e,a.children,r)}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),ta(e.return,t)}function qo(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Qo(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Oo(e,t,n.children,r),0!==(2&(n=Aa.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,r);else if(19===e.tag)Wo(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ci(Aa,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Fa(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qo(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qo(t,!0,r,null,a,t.lastEffect);break;case"together":qo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ko(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&ou(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Cu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Cu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Go(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yo(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&mi(),null;case 3:return Ia(),ui(di),ui(fi),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!ko(t)||(t.effectTag|=4),null;case 5:Ra(t),r=Ta(Da.current);var a=t.type;if(null!==e&&null!=t.stateNode)$o(e,t,a,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ta(ka.current),ko(t)){n=t.stateNode,a=t.type;var s=t.memoizedProps;switch(n[Sr]=t,n[Er]=s,a){case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(e=0;e<Ye.length;e++)Qt(Ye[e],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"form":Qt("reset",n),Qt("submit",n);break;case"details":Qt("toggle",n);break;case"input":Se(n,s),Qt("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Qt("invalid",n),sr(r,"onChange");break;case"textarea":Oe(n,s),Qt("invalid",n),sr(r,"onChange")}for(var u in ir(a,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?n.textContent!==c&&(e=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(u)&&null!=c&&sr(r,u)}switch(a){case"input":we(n),Ce(n,s,!0);break;case"textarea":we(n),Le(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=ur)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(u=9===r.nodeType?r:r.ownerDocument,e===or&&(e=Fe(a)),e===or?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(a,{is:n.is}):(e=u.createElement(a),"select"===a&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,a),e[Sr]=t,e[Er]=n,Bo(e,t),t.stateNode=e,u=ar(a,n),a){case"iframe":case"object":case"embed":Qt("load",e),c=n;break;case"video":case"audio":for(c=0;c<Ye.length;c++)Qt(Ye[c],e);c=n;break;case"source":Qt("error",e),c=n;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=n;break;case"form":Qt("reset",e),Qt("submit",e),c=n;break;case"details":Qt("toggle",e),c=n;break;case"input":Se(e,n),c=xe(e,n),Qt("invalid",e),sr(r,"onChange");break;case"option":c=Me(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},c=i({},n,{value:void 0}),Qt("invalid",e),sr(r,"onChange");break;case"textarea":Oe(e,n),c=Te(e,n),Qt("invalid",e),sr(r,"onChange");break;default:c=n}ir(a,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?rr(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=f&&sr(r,s):null!=f&&J(e,s,f,u))}switch(a){case"input":we(e),Ce(e,n,!1);break;case"textarea":we(e),Le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ye(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?De(e,!!n.multiple,r,!1):null!=n.defaultValue&&De(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ur)}mr(a,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)zo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Ta(Da.current),Ta(ka.current),ko(t)?(r=t.stateNode,n=t.memoizedProps,r[Sr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Sr]=t,t.stateNode=r)}return null;case 13:return ui(Aa),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&ko(t):(n=null!==(a=e.memoizedState),r||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Aa.current)?ks===ws&&(ks=_s):(ks!==ws&&ks!==_s||(ks=xs),0!==Is&&null!==Es&&(Lu(Es,Cs),Ru(Es,Is)))),(r||n)&&(t.effectTag|=4),null);case 4:return Ia(),null;case 10:return ea(t),null;case 17:return vi(t.type)&&mi(),null;case 19:if(ui(Aa),null===(n=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=n.rendering)){if(a)Go(n,!1);else if(ks!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fa(s))){for(t.effectTag|=64,Go(n,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return ci(Aa,1&Aa.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Fa(s))){if(t.effectTag|=64,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Go(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,a=!0,Go(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Vi()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Vi(),r.sibling=null,t=Aa.current,ci(Aa,a?1&t|2:1&t),r):null}throw Error(o(156,t.tag))}function Jo(e){switch(e.tag){case 1:vi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ia(),ui(di),ui(fi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ra(e),null;case 13:return ui(Aa),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Aa),null;case 4:return Ia(),null;case 10:return ea(e),null;default:return null}}function Xo(e,t){return{value:e,source:t,stack:ge(t)}}Bo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$o=function(e,t,r,n,a){var o=e.memoizedProps;if(o!==n){var s,u,c=t.stateNode;switch(Ta(ka.current),e=null,r){case"input":o=xe(c,o),n=xe(c,n),e=[];break;case"option":o=Me(c,o),n=Me(c,n),e=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":o=Te(c,o),n=Te(c,n),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(c.onclick=ur)}for(s in ir(r,n),r=null,o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(r||(r={}),r[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var l=n[s];if(c=null!=o?o[s]:void 0,n.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(r||(r={}),r[u]=l[u])}else r||(e||(e=[]),e.push(s,r)),r=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=l&&sr(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}r&&(e=e||[]).push("style",r),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},zo=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Zo="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ge(r)),null!==r&&me(r.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){yu(e,r)}else t.current=null}function rs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Ki(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function as(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Ki(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&fa(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}fa(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&mr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ft(r)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(e,t,r){switch("function"===typeof xu&&xu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;zi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(a){yu(i,a)}}e=e.next}while(e!==n)}))}break;case 1:ts(t),"function"===typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){yu(e,r)}}(t,r);break;case 5:ts(t);break;case 4:ls(e,t,r)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(us(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.effectTag&&(Be(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||us(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=ur));else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function ls(e,t,r){for(var n,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=r,f=c;;)if(os(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=n,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(os(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[Er]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Ee(r,n),ar(e,i),t=ar(e,n),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?rr(r,u):"dangerouslySetInnerHTML"===s?Ve(r,u):"children"===s?Be(r,u):J(r,s,u,t)}switch(e){case"input":Pe(r,n);break;case"textarea":Ie(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?De(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?De(r,!!n.multiple,n.defaultValue,!0):De(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Rs=Vi()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,n?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(o(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zo),t.forEach((function(t){var n=wu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=sa(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fs||(Fs=!0,Ns=n),es(e,t)},r}function vs(e,t,r){(r=sa(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return es(e,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===js?js=new Set([this]):js.add(this),es(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var ms,gs=Math.ceil,ys=Y.ReactCurrentDispatcher,bs=Y.ReactCurrentOwner,ws=0,_s=3,xs=4,Ss=0,Es=null,Ps=null,Cs=0,ks=ws,Ms=null,Ds=1073741823,Ts=1073741823,Os=null,Is=0,Ls=!1,Rs=0,As=null,Fs=!1,Ns=null,js=null,Vs=!1,Bs=null,$s=90,zs=null,Us=0,Hs=null,Ws=0;function qs(){return 0!==(48&Ss)?1073741821-(Vi()/10|0):0!==Ws?Ws:Ws=1073741821-(Vi()/10|0)}function Qs(e,t,r){if(0===(2&(t=t.mode)))return 1073741823;var n=Bi();if(0===(4&t))return 99===n?1073741823:1073741822;if(0!==(16&Ss))return Cs;if(null!==r)e=Qi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Es&&e===Cs&&--e,e}function Ks(e,t){if(50<Us)throw Us=0,Hs=null,Error(o(185));if(null!==(e=Gs(e,t))){var r=Bi();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?Zs(e):(Js(e),0===Ss&&Wi()):Js(e),0===(4&Ss)||98!==r&&99!==r||(null===zs?zs=new Map([[e,t]]):(void 0===(r=zs.get(e))||r>t)&&zs.set(e,t))}}function Gs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Es===i&&(ou(t),ks===xs&&Lu(i,Cs)),Ru(i,t)),i}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Iu(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(Zs.bind(null,e));else{var t=Ys(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=qs();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Ii&&Si(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Hi(Zs.bind(null,e)):Ui(n,Xs.bind(null,e),{timeout:10*(1073741821-t)-Vi()}),e.callbackNode=t}}}function Xs(e,t){if(Ws=0,t)return Au(e,t=qs()),Js(e),null;var r=Ys(e);if(0!==r){if(t=e.callbackNode,0!==(48&Ss))throw Error(o(327));if(vu(),e===Es&&r===Cs||ru(e,r),null!==Ps){var n=Ss;Ss|=16;for(var i=iu();;)try{uu();break}catch(u){nu(e,u)}if(Zi(),Ss=n,ys.current=i,1===ks)throw t=Ms,ru(e,r),Lu(e,r),Js(e),t;if(null===Ps)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=ks,Es=null,n){case ws:case 1:throw Error(o(345));case 2:Au(e,2<r?2:r);break;case _s:if(Lu(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===Ds&&10<(i=Rs+500-Vi())){if(Ls){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,ru(e,r);break}}if(0!==(a=Ys(e))&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=yr(du.bind(null,e),i);break}du(e);break;case xs:if(Lu(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),Ls&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,ru(e,r);break}if(0!==(i=Ys(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Ts?n=10*(1073741821-Ts)-Vi():1073741823===Ds?n=0:(n=10*(1073741821-Ds)-5e3,0>(n=(i=Vi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gs(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=yr(du.bind(null,e),n);break}du(e);break;case 5:if(1073741823!==Ds&&null!==Os){a=Ds;var s=Os;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(a=Vi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+n-a),10<n){Lu(e,r),e.timeoutHandle=yr(du.bind(null,e),n);break}}du(e);break;default:throw Error(o(329))}if(Js(e),e.callbackNode===t)return Xs.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(o(327));if(vu(),e===Es&&t===Cs||ru(e,t),null!==Ps){var r=Ss;Ss|=16;for(var n=iu();;)try{su();break}catch(i){nu(e,i)}if(Zi(),Ss=r,ys.current=n,1===ks)throw r=Ms,ru(e,t),Lu(e,t),Js(e),r;if(null!==Ps)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,du(e),Js(e)}return null}function eu(e,t){var r=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=r)&&Wi()}}function tu(e,t){var r=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=r)&&Wi()}}function ru(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,br(r)),null!==Ps)for(r=Ps.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:Ia(),ui(di),ui(fi);break;case 5:Ra(n);break;case 4:Ia();break;case 13:case 19:ui(Aa);break;case 10:ea(n)}r=r.return}Es=e,Ps=Cu(e.current,null),Cs=t,ks=ws,Ms=null,Ts=Ds=1073741823,Os=null,Is=0,Ls=!1}function nu(e,t){for(;;){try{if(Zi(),ja.current=mo,Ha)for(var r=$a.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(Ba=0,Ua=za=$a=null,Ha=!1,null===Ps||null===Ps.return)return ks=1,Ms=t,Ps=null;e:{var i=e,a=Ps.return,o=Ps,s=t;if(t=Cs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Aa.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(d){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=sa(1073741823,null);g.tag=2,ua(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ps,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var b=bu.bind(null,i,u,o);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}5!==ks&&(ks=2),s=Xo(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,ca(f,hs(f,u,t));break e;case 1:u=s;var w=f.type,_=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===js||!js.has(_)))){f.effectTag|=4096,f.expirationTime=t,ca(f,vs(f,u,t));break e}}f=f.return}while(null!==f)}Ps=lu(Ps)}catch(x){t=x;continue}break}}function iu(){var e=ys.current;return ys.current=mo,null===e?mo:e}function au(e,t){e<Ds&&2<e&&(Ds=e),null!==t&&e<Ts&&2<e&&(Ts=e,Os=t)}function ou(e){e>Is&&(Is=e)}function su(){for(;null!==Ps;)Ps=cu(Ps)}function uu(){for(;null!==Ps&&!Li();)Ps=cu(Ps)}function cu(e){var t=ms(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),bs.current=null,t}function lu(e){Ps=e;do{var t=Ps.alternate;if(e=Ps.return,0===(2048&Ps.effectTag)){if(t=Yo(t,Ps,Cs),1===Cs||1!==Ps.childExpirationTime){for(var r=0,n=Ps.child;null!==n;){var i=n.expirationTime,a=n.childExpirationTime;i>r&&(r=i),a>r&&(r=a),n=n.sibling}Ps.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ps.firstEffect),null!==Ps.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ps.firstEffect),e.lastEffect=Ps.lastEffect),1<Ps.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ps:e.firstEffect=Ps,e.lastEffect=Ps))}else{if(null!==(t=Jo(Ps)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ps.sibling))return t;Ps=e}while(null!==Ps);return ks===ws&&(ks=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function du(e){var t=Bi();return zi(99,pu.bind(null,e,t)),null}function pu(e,t){do{vu()}while(null!==Bs);if(0!==(48&Ss))throw Error(o(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(Ps=Es=null,Cs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var a=Ss;Ss|=32,bs.current=null,hr=qt;var s=dr();if(pr(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(C){u=null;break e}var d=0,p=-1,h=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=d+l),g!==f||0!==c&&3!==g.nodeType||(h=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++v===l&&(p=d),y===f&&++m===c&&(h=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===p||-1===h?null:{start:p,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;vr={activeElementDetached:null,focusedElem:s,selectionRange:u},qt=!1,As=i;do{try{hu()}catch(C){if(null===As)throw Error(o(330));yu(As,C),As=As.nextEffect}}while(null!==As);As=i;do{try{for(s=e,u=t;null!==As;){var w=As.effectTag;if(16&w&&Be(As.stateNode,""),128&w){var _=As.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&w){case 2:cs(As),As.effectTag&=-3;break;case 6:cs(As),As.effectTag&=-3,fs(As.alternate,As);break;case 1024:As.effectTag&=-1025;break;case 1028:As.effectTag&=-1025,fs(As.alternate,As);break;case 4:fs(As.alternate,As);break;case 8:ls(s,l=As,u),ss(l)}As=As.nextEffect}}catch(C){if(null===As)throw Error(o(330));yu(As,C),As=As.nextEffect}}while(null!==As);if(x=vr,_=dr(),w=x.focusedElem,u=x.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(w.ownerDocument.documentElement,w)){null!==u&&pr(w)&&(_=u.start,void 0===(x=u.end)&&(x=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(x,w.value.length)):(x=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!x.extend&&s>u&&(l=u,u=s,s=l),l=fr(w,s),f=fr(w,u),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((_=_.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>u?(x.addRange(_),x.extend(f.node,f.offset)):(_.setEnd(f.node,f.offset),x.addRange(_))))),_=[];for(x=w;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(x=_[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}qt=!!hr,vr=hr=null,e.current=r,As=i;do{try{for(w=e;null!==As;){var S=As.effectTag;if(36&S&&as(w,As.alternate,As),128&S){_=void 0;var E=As.ref;if(null!==E){var P=As.stateNode;switch(As.tag){case 5:_=P;break;default:_=P}"function"===typeof E?E(_):E.current=_}}As=As.nextEffect}}catch(C){if(null===As)throw Error(o(330));yu(As,C),As=As.nextEffect}}while(null!==As);As=null,Ri(),Ss=a}else e.current=r;if(Vs)Vs=!1,Bs=e,$s=t;else for(As=i;null!==As;)t=As.nextEffect,As.nextEffect=null,As=t;if(0===(t=e.firstPendingTime)&&(js=null),1073741823===t?e===Hs?Us++:(Us=0,Hs=e):Us=0,"function"===typeof _u&&_u(r.stateNode,n),Js(e),Fs)throw Fs=!1,e=Ns,Ns=null,e;return 0!==(8&Ss)||Wi(),null}function hu(){for(;null!==As;){var e=As.effectTag;0!==(256&e)&&rs(As.alternate,As),0===(512&e)||Vs||(Vs=!0,Ui(97,(function(){return vu(),null}))),As=As.nextEffect}}function vu(){if(90!==$s){var e=97<$s?97:$s;return $s=90,zi(e,mu)}}function mu(){if(null===Bs)return!1;var e=Bs;if(Bs=null,0!==(48&Ss))throw Error(o(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(n){if(null===e)throw Error(o(330));yu(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return Ss=t,Wi(),!0}function gu(e,t,r){ua(e,t=hs(e,t=Xo(r,t),1073741823)),null!==(e=Gs(e,1073741823))&&Js(e)}function yu(e,t){if(3===e.tag)gu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){gu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===js||!js.has(n))){ua(r,e=vs(r,e=Xo(t,e),1073741823)),null!==(r=Gs(r,1073741823))&&Js(r);break}}r=r.return}}function bu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Es===e&&Cs===r?ks===xs||ks===_s&&1073741823===Ds&&Vi()-Rs<500?ru(e,Cs):Ls=!0:Iu(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Js(e)))}function wu(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Qs(t=qs(),e,null)),null!==(e=Gs(e,t))&&Js(e)}ms=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)To=!0;else{if(n<r){switch(To=!1,t.tag){case 3:Vo(t),Mo();break;case 5:if(La(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,ci(Gi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Ho(e,t,r):(ci(Aa,1&Aa.current),null!==(t=Ko(e,t,r))?t.sibling:null);ci(Aa,1&Aa.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return Qo(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Aa,Aa.current),!n)return null}return Ko(e,t,r)}To=!1}}else To=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=hi(t,fi.current),ra(t,r),i=Qa(null,t,n,e,i,r),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(n)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&ha(t,n,s,e),i.updater=va,t.stateNode=i,i._reactInternalFiber=t,ba(t,n,e,r),t=jo(null,t,n,!0,a,r)}else t.tag=0,Oo(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Ki(i,e),a){case 0:t=Fo(null,t,i,e,r);break e;case 1:t=No(null,t,i,e,r);break e;case 11:t=Io(null,t,i,e,r);break e;case 14:t=Lo(null,t,i,Ki(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Fo(e,t,n,i=t.elementType===n?i:Ki(n,i),r);case 1:return n=t.type,i=t.pendingProps,No(e,t,n,i=t.elementType===n?i:Ki(n,i),r);case 3:if(Vo(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,n,null,r),(n=t.memoizedState.element)===i)Mo(),t=Ko(e,t,r);else{if((i=t.stateNode.hydrate)&&(_o=wr(t.stateNode.containerInfo.firstChild),wo=t,i=xo=!0),i)for(r=Pa(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Oo(e,t,n,r),Mo();t=t.child}return t;case 5:return La(t),null===e&&Po(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,gr(n,i)?s=null:null!==a&&gr(n,a)&&(t.effectTag|=16),Ao(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Oo(e,t,s,r),t=t.child),t;case 6:return null===e&&Po(t),null;case 13:return Ho(e,t,r);case 4:return Oa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ea(t,null,n,r):Oo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Io(e,t,n,i=t.elementType===n?i:Ki(n,i),r);case 7:return Oo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ci(Gi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=Nn(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=Ko(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&a)){1===u.tag&&((l=sa(r,null)).tag=2,ua(u,l)),u.expirationTime<r&&(u.expirationTime=r),null!==(l=u.alternate)&&l.expirationTime<r&&(l.expirationTime=r),ta(u.return,r),c.expirationTime<r&&(c.expirationTime=r);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,ra(t,r),n=n(i=na(i,a.unstable_observedBits)),t.effectTag|=1,Oo(e,t,n,r),t.child;case 14:return a=Ki(i=t.type,t.pendingProps),Lo(e,t,i,a=Ki(i.type,a),n,r);case 15:return Ro(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ki(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vi(n)?(e=!0,bi(t)):e=!1,ra(t,r),ga(t,n,i),ba(t,n,i,r),jo(null,t,n,!0,e,r);case 19:return Qo(e,t,r)}throw Error(o(156,t.tag))};var _u=null,xu=null;function Su(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Eu(e,t,r,n){return new Su(e,t,r,n)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cu(e,t){var r=e.alternate;return null===r?((r=Eu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ku(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case re:return Mu(r.children,i,a,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=Eu(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Eu(13,r,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Eu(19,r,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case de:s=16,n=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Eu(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=a,t}function Mu(e,t,r,n){return(e=Eu(7,e,n,t)).expirationTime=r,e}function Du(e,t,r){return(e=Eu(6,e,null,t)).expirationTime=r,e}function Tu(e,t,r){return(t=Eu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Iu(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Lu(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ru(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Au(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Fu(e,t,r,n){var i=t.current,a=qs(),s=da.suspense;a=Qs(a,i,s);e:if(r){t:{if(Ze(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(o(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===r.tag){var c=r.type;if(vi(c)){r=yi(r,c,u);break e}}r=u}else r=li;return null===t.context?t.context=r:t.pendingContext=r,(t=sa(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ua(i,t),Ks(i,a),a}function Nu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ju(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Vu(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function Bu(e,t,r){var n=new Ou(e,t,r=null!=r&&!0===r.hydrate),i=Eu(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,aa(i),e[Pr]=n.current,r&&0!==t&&function(e,t){var r=Xe(t);Ct.forEach((function(e){ht(e,t,r)})),kt.forEach((function(e){ht(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zu(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Nu(o);s.call(e)}}Fu(t,o,e,i)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Bu(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Nu(o);u.call(e)}}tu((function(){Fu(t,o,e,i)}))}return Nu(o)}function Uu(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Hu(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return Uu(e,t,null,r)}Bu.prototype.render=function(e){Fu(e,this._internalRoot,null,null)},Bu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fu(null,e,null,(function(){t[Pr]=null}))},vt=function(e){if(13===e.tag){var t=Qi(qs(),150,100);Ks(e,t),Vu(e,t)}},mt=function(e){13===e.tag&&(Ks(e,3),Vu(e,3))},gt=function(e){if(13===e.tag){var t=qs();Ks(e,t=Qs(t,e,null)),Vu(e,t)}},M=function(e,t,r){switch(t){case"input":if(Pe(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dr(n);if(!i)throw Error(o(90));_e(n),Pe(n,i)}}}break;case"textarea":Ie(e,r);break;case"select":null!=(t=r.value)&&De(e,!!r.multiple,t,!1)}},R=eu,A=function(e,t,r,n,i){var a=Ss;Ss|=4;try{return zi(98,e.bind(null,t,r,n,i))}finally{0===(Ss=a)&&Wi()}},F=function(){0===(49&Ss)&&(function(){if(null!==zs){var e=zs;zs=null,e.forEach((function(e,t){Au(t,e),Js(t)})),Wi()}}(),vu())},N=function(e,t){var r=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=r)&&Wi()}};var Wu={Events:[kr,Mr,Dr,C,S,Fr,function(e){it(e,Ar)},I,L,Jt,st,vu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);_u=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},xu=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Cr,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wu,t.createPortal=Hu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(o(187));var r=Ss;Ss|=1;try{return zi(99,e.bind(null,t))}finally{Ss=r,Wi()}},t.hydrate=function(e,t,r){if(!$u(t))throw Error(o(200));return zu(null,e,t,!0,r)},t.render=function(e,t,r){if(!$u(t))throw Error(o(200));return zu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(o(40));return!!e._reactRootContainer&&(tu((function(){zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Pr]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Hu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$u(r))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return zu(e,t,r,!1,n)},t.version="16.13.1"},function(e,t,r){"use strict";e.exports=r(130)},function(e,t,r){"use strict";var n,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var r=t.unstable_now();u(!0,r),u=null}catch(n){throw setTimeout(e,0),n}},f=Date.now();t.unstable_now=function(){return Date.now()-f},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,h=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var y=!1,b=null,w=-1,_=5,x=0;o=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+_;try{b(!0,e)?E.postMessage(null):(y=!1,b=null)}catch(r){throw E.postMessage(null),r}}else y=!1},n=function(e){b=e,y||(y=!0,E.postMessage(null))},i=function(e,r){w=h((function(){e(t.unstable_now())}),r)},a=function(){v(w),w=-1}}function P(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<M(i,t)))break e;e[n]=t,e[r]=i,r=n}}function C(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>M(o,r))void 0!==u&&0>M(u,o)?(e[n]=u,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==u&&0>M(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function M(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var D=[],T=[],O=1,I=null,L=3,R=!1,A=!1,F=!1;function N(e){for(var t=C(T);null!==t;){if(null===t.callback)k(T);else{if(!(t.startTime<=e))break;k(T),t.sortIndex=t.expirationTime,P(D,t)}t=C(T)}}function j(e){if(F=!1,N(e),!A)if(null!==C(D))A=!0,n(V);else{var t=C(T);null!==t&&i(j,t.startTime-e)}}function V(e,r){A=!1,F&&(F=!1,a()),R=!0;var n=L;try{for(N(r),I=C(D);null!==I&&(!(I.expirationTime>r)||e&&!o());){var s=I.callback;if(null!==s){I.callback=null,L=I.priorityLevel;var u=s(I.expirationTime<=r);r=t.unstable_now(),"function"===typeof u?I.callback=u:I===C(D)&&k(D),N(r)}else k(D);I=C(D)}if(null!==I)var c=!0;else{var l=C(T);null!==l&&i(j,l.startTime-r),c=!1}return c}finally{I=null,L=n,R=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var $=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return C(D)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var r=L;L=t;try{return e()}finally{L=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=$,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return t()}finally{L=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:B(e)}else o=B(e),u=s;return e={id:O++,callback:r,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,P(T,e),null===C(D)&&e===C(T)&&(F?a():F=!0,i(j,u-s))):(e.sortIndex=o,P(D,e),A||R||(A=!0,n(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=C(D);return r!==I&&null!==I&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=L;return function(){var r=L;L=t;try{return e.apply(this,arguments)}finally{L=r}}}},,function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return P()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=w(o,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var l={};function f(){}function d(){}function p(){}var h={};h[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var g=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new b(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";var n=r(9),i=r(0),a=r(1),o=r(2),s=r(6),u=r(4),c=r(5),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugClient=void 0;var h=r(14),v=r(13),m=r(74),g=d(r(8)),y=r(20),b=r(7),w=r(35),_=function(e){u(r,e);var t=c(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Generic Buttplug Client";return a(this,r),(e=t.call(this))._pingTimer=null,e._connector=null,e._devices=new Map,e._logger=h.ButtplugLogger.Logger,e._isScanning=!1,e._messageVersion=1,e.Connect=function(t){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Info("ButtplugClient: Connecting using ".concat(t.constructor.name)),e.next=3,t.Connect();case 3:return this._connector=t,this._connector.addListener("message",this.ParseMessages),this._connector.addListener("disconnect",this.DisconnectHandler),e.next=8,this.InitializeConnection();case 8:case"end":return e.stop()}}),e,this)})))},e.Disconnect=function(){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("ButtplugClient: Disconnect called"),this.CheckConnector(),e.next=4,this.ShutdownConnection();case 4:return e.next=6,this._connector.Disconnect();case 6:case"end":return e.stop()}}),e,this)})))},e.StartScanning=function(){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("ButtplugClient: StartScanning called"),this._isScanning=!0,e.next=4,this.SendMsgExpectOk(new g.StartScanning);case 4:case"end":return e.stop()}}),e,this)})))},e.StopScanning=function(){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("ButtplugClient: StopScanning called"),this._isScanning=!1,e.next=4,this.SendMsgExpectOk(new g.StopScanning);case 4:case"end":return e.stop()}}),e,this)})))},e.RequestLog=function(t){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("ButtplugClient: RequestLog called with level ".concat(t)),e.next=3,this.SendMsgExpectOk(new g.RequestLog(t));case 3:case"end":return e.stop()}}),e,this)})))},e.StopAllDevices=function(){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("ButtplugClient: StopAllDevices"),e.next=3,this.SendMsgExpectOk(new g.StopAllDevices);case 3:case"end":return e.stop()}}),e,this)})))},e.ParseMessages=function(t){e.ParseMessagesInternal(t)},e.DisconnectHandler=function(){e._logger.Info("ButtplugClient: Disconnect event receieved."),e.emit("disconnect")},e.InitializeConnection=function(){return p(s(e),void 0,void 0,i.mark((function e(){var t,r,n,a,o=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.CheckConnector(),e.next=3,this.SendMessage(new g.RequestServerInfo(this._clientName,g.MESSAGE_SPEC_VERSION));case 3:t=e.sent,e.t0=t.constructor,e.next=e.t0===g.ServerInfo?7:e.t0===g.Error?18:22;break;case 7:if(r=t,this._logger.Info("ButtplugClient: Connected to Server ".concat(r.ServerName)),n=r.MaxPingTime,!(r.MessageVersion<this._messageVersion)){e.next=14;break}return e.next=13,this._connector.Disconnect();case 13:throw b.ButtplugException.LogAndError(b.ButtplugInitException,this._logger,"Server protocol version is older than client protocol version. Please update server.");case 14:return n>0&&(this._pingTimer=setInterval((function(){return p(o,void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Connected){e.next=4;break}return e.next=3,this.ShutdownConnection();case 3:return e.abrupt("return");case 4:return e.next=6,this.SendMessage(new g.Ping);case 6:case"end":return e.stop()}}),e,this)})))}),Math.round(n/2))),e.next=17,this.RequestDeviceList();case 17:return e.abrupt("return",!0);case 18:return e.next=20,this._connector.Disconnect();case 20:throw a=t,b.ButtplugException.LogAndError(b.ButtplugInitException,this._logger,"Cannot connect to server. ".concat(a.ErrorMessage));case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this)})))},e.RequestDeviceList=function(){return p(s(e),void 0,void 0,i.mark((function e(){var t=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.CheckConnector(),this._logger.Debug("ButtplugClient: ReceiveDeviceList called"),e.next=4,this.SendMessage(new g.RequestDeviceList);case 4:e.sent.Devices.forEach((function(e){if(t._devices.has(e.DeviceIndex))t._logger.Debug("ButtplugClient: Device already added: ".concat(e));else{var r=m.ButtplugClientDevice.fromMsg(e,t.SendDeviceMessageClosure);t._logger.Debug("ButtplugClient: Adding Device: ".concat(r)),t._devices.set(e.DeviceIndex,r),t.emit("deviceadded",r)}}));case 6:case"end":return e.stop()}}),e,this)})))},e.ShutdownConnection=function(){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.StopAllDevices();case 2:null!==this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null);case 3:case"end":return e.stop()}}),e,this)})))},e.SendMsgExpectOk=function(t){return p(s(e),void 0,void 0,i.mark((function e(){var r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.SendMessage(t);case 2:r=e.sent,e.t0=r.constructor,e.next=e.t0===g.Ok?6:e.t0===g.Error?7:8;break;case 6:return e.abrupt("return");case 7:throw b.ButtplugException.FromError(r);case 8:throw b.ButtplugException.LogAndError(b.ButtplugMessageException,this._logger,"Message type ".concat(r.constructor," not handled bySendMsgExpectOk"));case 9:case"end":return e.stop()}}),e,this)})))},e.SendDeviceMessageClosure=function(t,r){return p(s(e),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.SendDeviceMessage(t,r);case 2:case"end":return e.stop()}}),e,this)})))},e._clientName=n,e._logger.Debug("ButtplugClient: Client ".concat(n," created.")),e}return o(r,[{key:"SendDeviceMessage",value:function(e,t){return p(this,void 0,void 0,i.mark((function r(){var n;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.CheckConnector(),void 0!==(n=this._devices.get(e.Index))){r.next=4;break}throw b.ButtplugException.LogAndError(b.ButtplugDeviceException,this._logger,"Device ".concat(e.Index," not available."));case 4:if(-1!==n.AllowedMessages.indexOf(t.Type.name)){r.next=6;break}throw b.ButtplugException.LogAndError(b.ButtplugDeviceException,this._logger,"Device ".concat(e.Name," does not accept message type ").concat(t.Type,"."));case 6:return t.DeviceIndex=e.Index,r.next=9,this.SendMsgExpectOk(t);case 9:case"end":return r.stop()}}),r,this)})))}},{key:"ParseMessagesInternal",value:function(e){var t,r=n(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i.constructor){case g.Log:this.emit("log",i);break;case g.DeviceAdded:var a=i,o=m.ButtplugClientDevice.fromMsg(a,this.SendDeviceMessageClosure);this._devices.set(a.DeviceIndex,o),this.emit("deviceadded",o);break;case g.DeviceRemoved:var s=i;if(this._devices.has(s.DeviceIndex)){var u=this._devices.get(s.DeviceIndex);null===u||void 0===u||u.EmitDisconnected(),this._devices.delete(s.DeviceIndex),this.emit("deviceremoved",u)}break;case g.ScanningFinished:this._isScanning=!1,this.emit("scanningfinished",i)}}}catch(c){r.e(c)}finally{r.f()}}},{key:"SendMessage",value:function(e){return p(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.CheckConnector(),y.CheckMessage(e),t.next=4,this._connector.Send(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"CheckConnector",value:function(){if(!this.Connected)throw new w.ButtplugClientConnectorException("ButtplugClient not connected")}},{key:"Connector",get:function(){return this._connector}},{key:"Connected",get:function(){return null!==this._connector&&this._connector.Connected}},{key:"Devices",get:function(){this.CheckConnector();var e=[];return this._devices.forEach((function(t,r){e.push(t)})),e}},{key:"IsScanning",get:function(){return this._isScanning}}]),r}(v.EventEmitter);t.ButtplugClient=_},function(e,t,r){var n=r(135),i=r(6);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),o=n[0],s=n[1],u=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-l)-1,p>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,h=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+p]=255&o,p+=h,o/=256,c-=8);e[r+p-h]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76),i=function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},e.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.findTransformMetadatas=function(e,t,r){return this.findMetadatas(this._transformMetadatas,e,t).filter((function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?r===n.TransformationType.CLASS_TO_CLASS||r===n.TransformationType.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||r===n.TransformationType.CLASS_TO_PLAIN))}))},e.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},e.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},e.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find((function(e){return e.options&&e.options.name===t}))},e.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},e.prototype.getStrategy=function(e){var t=this._excludeMetadatas.get(e),r=t&&t.get(void 0),n=this._exposeMetadatas.get(e),i=n&&n.get(void 0);return r&&i||!r&&!i?"none":r?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},e.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},e.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter((function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===n.TransformationType.CLASS_TO_CLASS||t===n.TransformationType.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===n.TransformationType.CLASS_TO_PLAIN))})).map((function(e){return e.propertyName}))},e.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter((function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===n.TransformationType.CLASS_TO_CLASS||t===n.TransformationType.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===n.TransformationType.CLASS_TO_PLAIN))})).map((function(e){return e.propertyName}))},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(e,t){var r,n=e.get(t);n&&(r=Array.from(n.values()).filter((function(e){return void 0!==e.propertyName})));for(var i=[],a=0,o=this.getAncestors(t);a<o.length;a++){var s=o[a],u=e.get(s);if(u){var c=Array.from(u.values()).filter((function(e){return void 0!==e.propertyName}));i.push.apply(i,c)}}return i.concat(r||[])},e.prototype.findMetadata=function(e,t,r){var n=e.get(t);if(n){var i=n.get(r);if(i)return i}for(var a=0,o=this.getAncestors(t);a<o.length;a++){var s=o[a],u=e.get(s);if(u){var c=u.get(r);if(c)return c}}},e.prototype.findMetadatas=function(e,t,r){var n,i=e.get(t);i&&(n=i.get(r));for(var a=[],o=0,s=this.getAncestors(t);o<s.length;o++){var u=s[o],c=e.get(u);c&&c.has(r)&&a.push.apply(a,c.get(r))}return a.reverse().concat((n||[]).reverse())},e.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var t=[],r=Object.getPrototypeOf(e.prototype.constructor);"undefined"!==typeof r.prototype;r=Object.getPrototypeOf(r.prototype.constructor))t.push(r);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)},e}();t.MetadataStorage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31),i=r(78),a=r(141),o=r(142),s=r(143),u=r(144);t.Transform=function(e,t){return function(r,n){var a=new u.TransformMetadata(r.constructor,n,e,t);i.defaultMetadataStorage.addTransformMetadata(a)}},t.Type=function(e,t){return function(r,n){var o=Reflect.getMetadata("design:type",r,n),s=new a.TypeMetadata(r.constructor,n,o,e,t);i.defaultMetadataStorage.addTypeMetadata(s)}},t.Expose=function(e){return function(t,r){var n=new o.ExposeMetadata(t instanceof Function?t:t.constructor,r,e||{});i.defaultMetadataStorage.addExposeMetadata(n)}},t.Exclude=function(e){return function(t,r){var n=new s.ExcludeMetadata(t instanceof Function?t:t.constructor,r,e||{});i.defaultMetadataStorage.addExcludeMetadata(n)}},t.TransformClassToPlain=function(e){return function(t,r,i){var a=new n.ClassTransformer,o=i.value;i.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=o.apply(this,t),i=!!n&&("object"===typeof n||"function"===typeof n)&&"function"===typeof n.then;return i?n.then((function(t){return a.classToPlain(t,e)})):a.classToPlain(n,e)}}},t.TransformClassToClass=function(e){return function(t,r,i){var a=new n.ClassTransformer,o=i.value;i.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=o.apply(this,t),i=!!n&&("object"===typeof n||"function"===typeof n)&&"function"===typeof n.then;return i?n.then((function(t){return a.classToClass(t,e)})):a.classToClass(n,e)}}},t.TransformPlainToClass=function(e,t){return function(r,i,a){var o=new n.ClassTransformer,s=a.value;a.value=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=s.apply(this,r),a=!!i&&("object"===typeof i||"function"===typeof i)&&"function"===typeof i.then;return a?i.then((function(r){return o.plainToClass(e,r,t)})):o.plainToClass(e,i,t)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r,n,i){this.target=e,this.propertyName=t,this.reflectedType=r,this.typeFunction=n,this.options=i};t.TypeMetadata=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){this.target=e,this.propertyName=t,this.options=r};t.ExposeMetadata=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){this.target=e,this.propertyName=t,this.options=r};t.ExcludeMetadata=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r,n){this.target=e,this.propertyName=t,this.transformFn=r,this.options=n};t.TransformMetadata=n},function(e,t,r){var n=r(72),i=r(30),a=r(146),o=r(147);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(30),i=r(73);function a(t,r,o){return i()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a},a.apply(null,arguments)}e.exports=a},function(e,t,r){(function(e,t){var r;!function(r){!function(n){var i="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),a=o(r);function o(e,t){return function(r,n){"function"!==typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}"undefined"===typeof i.Reflect?i.Reflect=r:a=o(i.Reflect,a),function(t){var r=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,i=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!o&&!s,c={create:o?function(){return L(Object.create(null))}:s?function(){return L({__proto__:null})}:function(){return L({})},has:u?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"===typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[a]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function o(e,t){return[e,t]}}():Map,p=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}():Set,h=new(f||"function"!==typeof WeakMap?function(){var e=c.create(),t=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var t;do{t="@@WeakMap@@"+o()}while(c.has(e,t));return e[t]=!0,t}function i(e,n){if(!r.call(e,t)){if(!n)return;Object.defineProperty(e,t,{value:c.create()})}return e[t]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(){var e,t=(e=16,"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<16;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function v(e,t,r){var n=h.get(e);if(_(n)){if(!r)return;n=new d,h.set(e,n)}var i=n.get(t);if(_(i)){if(!r)return;i=new d,n.set(t,i)}return i}function m(e,t,r){var n=v(t,r,!1);return!_(n)&&!!n.has(e)}function g(e,t,r){var n=v(t,r,!1);if(!_(n))return n.get(e)}function y(e,t,r,n){v(r,n,!0).set(e,t)}function b(e,t){var r=[],n=v(e,t,!1);if(_(n))return r;for(var i=function(e){var t=D(e,a);if(!k(t))throw new TypeError;var r=t.call(e);if(!S(r))throw new TypeError;return r}(n.keys()),o=0;;){var s=T(i);if(!s)return r.length=o,r;var u=s.value;try{r[o]=u}catch(c){try{O(i)}finally{throw c}}o++}}function w(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function x(e){return null===e}function S(e){return"object"===typeof e?null!==e:"function"===typeof e}function E(e,t){switch(w(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=D(e,i);if(void 0!==n){var a=n.call(e,r);if(S(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(k(r))if(!S(i=r.call(e)))return i;if(k(n=e.valueOf))if(!S(i=n.call(e)))return i}else{var n;if(k(n=e.valueOf))if(!S(i=n.call(e)))return i;var i,a=e.toString;if(k(a))if(!S(i=a.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function P(e){var t=E(e,3);return"symbol"===typeof t?t:function(e){return""+e}(t)}function C(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"===typeof e}function M(e){return"function"===typeof e}function D(e,t){var r=e[t];if(void 0!==r&&null!==r){if(!k(r))throw new TypeError;return r}}function T(e){var t=e.next();return!t.done&&t}function O(e){var t=e.return;t&&t.call(e)}function I(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!==typeof i||i===e?t:i}function L(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,r,n){if(_(r)){if(!C(e))throw new TypeError;if(!M(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!_(n)&&!x(n)){if(!M(n))throw new TypeError;t=n}}return t}(e,t)}if(!C(e))throw new TypeError;if(!S(t))throw new TypeError;if(!S(n)&&!_(n)&&!x(n))throw new TypeError;return x(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var a=(0,e[i])(t,r,n);if(!_(a)&&!x(a)){if(!S(a))throw new TypeError;n=a}}return n}(e,t,r=P(r),n)})),t("metadata",(function(e,t){return function(r,n){if(!S(r))throw new TypeError;if(!_(n)&&!function(e){switch(w(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;y(e,t,r,n)}})),t("defineMetadata",(function(e,t,r,n){if(!S(r))throw new TypeError;return _(n)||(n=P(n)),y(e,t,r,n)})),t("hasMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return _(r)||(r=P(r)),function e(t,r,n){if(m(t,r,n))return!0;var i=I(r);return!x(i)&&e(t,i,n)}(e,t,r)})),t("hasOwnMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return _(r)||(r=P(r)),m(e,t,r)})),t("getMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return _(r)||(r=P(r)),function e(t,r,n){if(m(t,r,n))return g(t,r,n);var i=I(r);return x(i)?void 0:e(t,i,n)}(e,t,r)})),t("getOwnMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return _(r)||(r=P(r)),g(e,t,r)})),t("getMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return _(t)||(t=P(t)),function e(t,r){var n=b(t,r),i=I(t);if(null===i)return n;var a=e(i,r);if(a.length<=0)return n;if(n.length<=0)return a;for(var o=new p,s=[],u=0,c=n;u<c.length;u++){var l=c[u];o.has(l)||(o.add(l),s.push(l))}for(var f=0,d=a;f<d.length;f++){l=d[f];o.has(l)||(o.add(l),s.push(l))}return s}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return _(t)||(t=P(t)),b(e,t)})),t("deleteMetadata",(function(e,t,r){if(!S(t))throw new TypeError;_(r)||(r=P(r));var n=v(t,r,!1);if(_(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=h.get(t);return i.delete(r),i.size>0||h.delete(t),!0}))}(a)}()}(r||(r={}))}).call(this,r(79),r(77))},function(e,t,r){"use strict";var n=r(150),i=r(32),a=r(154),o=r(80),s=r(81),u=r(155),c=r(156),l=r(177),f=r(18);e.exports=g,g.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);!0!==r.$async&&(this.errors=r.errors);return i},g.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},g.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this.addSchema(e[a],void 0,r,n);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return S(this,t=i.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,r,n,!0),this},g.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},g.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(h)?h:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},g.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var a=r.schema,s=r.root,u=r.baseId,c=n.call(e,a,s,void 0,u);return e._fragments[t]=new o({ref:t,fragment:!0,schema:a,root:s,baseId:u,validate:c}),c}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var a=this._getId(e);a&&(a=i.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this},g.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=n+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)},g.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var a=this._opts.serialize,s=a?a(e):e,u=this._cache.get(s);if(u)return u;n=n||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&n&&S(this,c);var l,f=!1!==this._opts.validateSchema&&!t;f&&!(l=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=i.ids.call(this,e),p=new o({id:c,schema:e,localRefs:d,cacheKey:s,meta:r});"#"!=c[0]&&n&&(this._refs[c]=p);this._cache.put(s,p),f&&l&&this.validateSchema(e,!0);return p},g.prototype._compile=function(e,t){if(e.compiling)return e.validate=a,a.schema=e.schema,a.errors=null,a.root=t||a,!0===e.schema.$async&&(a.$async=!0),a;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(o){throw delete e.validate,o}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function a(){var t=e.validate,r=t.apply(this,arguments);return a.errors=t.errors,r}},g.prototype.compileAsync=r(178);var d=r(179);g.prototype.addKeyword=d.add,g.prototype.getKeyword=d.get,g.prototype.removeKeyword=d.remove,g.prototype.validateKeyword=d.validate;var p=r(34);g.ValidationError=p.Validation,g.MissingRefError=p.MissingRef,g.$dataMetaSchema=l;var h="http://json-schema.org/draft-07/schema",v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=f.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:E,warn:E,error:E};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new a,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return x;case"id":return w;default:return _}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=f.copy(e._opts),r=0;r<v.length;r++)delete t[v[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=r(182),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var n=r(87);e._opts.$data&&(n=l(n,m));e.addMetaSchema(n,h,!0),e._refs["http://json-schema.org/schema"]=h}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function w(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function x(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function S(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(){}},function(e,t,r){"use strict";var n=r(32),i=r(18),a=r(34),o=r(81),s=r(82),u=i.ucs2length,c=r(33),l=a.Validation;function f(e,t,r){var n=p.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function d(e,t,r){var n=p.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function p(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function h(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function v(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=function e(t,r,p,b){var w=this,_=this._opts,x=[void 0],S={},E=[],P={},C=[],k={},M=[];r=r||{schema:t,refVal:x,refs:S};var D=f.call(this,t,r,b),T=this._compilations[D.index];if(D.compiling)return T.callValidate=function e(){var t=T.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var O=this._formats,I=this.RULES;try{var L=A(t,r,p,b);T.validate=L;var R=T.callValidate;return R&&(R.schema=L.schema,R.errors=null,R.refs=L.refs,R.refVal=L.refVal,R.root=L.root,R.$async=L.$async,_.sourceCode&&(R.source=L.source)),L}finally{d.call(this,t,r,b)}function A(t,o,f,d){var p=!o||o&&o.schema==t;if(o.schema!=r.schema)return e.call(w,t,o,f,d);var b,P=!0===t.$async,k=s({isTop:!0,schema:t,isRoot:p,baseId:d,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:I,validate:s,util:i,resolve:n,resolveRef:F,usePattern:V,useDefault:B,useCustomRule:$,opts:_,formats:O,logger:w.logger,self:w});k=y(x,m)+y(E,h)+y(C,v)+y(M,g)+k,_.processCode&&(k=_.processCode(k,t));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",k)(w,I,O,r,x,C,M,c,u,l),x[0]=b}catch(D){throw w.logger.error("Error compiling schema, function code:",k),D}return b.schema=t,b.errors=null,b.refs=S,b.refVal=x,b.root=p?b:o,P&&(b.$async=!0),!0===_.sourceCode&&(b.source={code:k,patterns:E,defaults:C}),b}function F(t,i,a){i=n.url(t,i);var o,s,u=S[i];if(void 0!==u)return j(o=x[u],s="refVal["+u+"]");if(!a&&r.refs){var c=r.refs[i];if(void 0!==c)return j(o=r.refVal[c],s=N(i,o))}s=N(i);var l=n.call(w,A,r,i);if(void 0===l){var f=p&&p[i];f&&(l=n.inlineRef(f,_.inlineRefs)?f:e.call(w,f,r,p,t))}if(void 0!==l)return function(e,t){var r=S[e];x[r]=t}(i,l),j(l,s);!function(e){delete S[e]}(i)}function N(e,t){var r=x.length;return x[r]=t,S[e]=r,"refVal"+r}function j(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function V(e){var t=P[e];return void 0===t&&(t=P[e]=E.length,E[t]=e),"pattern"+t}function B(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=o(e),r=k[t];return void 0===r&&(r=k[t]=C.length,C[r]=e),"default"+r}}function $(e,t,r,n){if(!1!==w._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var a=e.definition.validateSchema;if(a)if(!a(t)){var o="keyword schema is invalid: "+w.errorsText(a.errors);if("log"!=w._opts.validateSchema)throw new Error(o);w.logger.error(o)}}var s,u=e.definition.compile,c=e.definition.inline,l=e.definition.macro;if(u)s=u.call(w,t,r,n);else if(l)s=l.call(w,t,r,n),!1!==_.validateSchema&&w.validateSchema(s,!0);else if(c)s=c.call(w,n,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=M.length;return M[f]=s,{code:"customRule"+f,validate:s}}}},function(e,t,r){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=r(r(i+"|"+t(u,a,"[\\:]"))+"*"),f=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),d=r(f+"\\."+f+"\\."+f+"\\."+f),p=r(n+"{1,4}"),h=r(r(p+"\\:"+p)+"|"+d),v=r(r(p+"\\:")+"{6}"+h),m=r("\\:\\:"+r(p+"\\:")+"{5}"+h),g=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+h),y=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+h),b=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+h),w=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+h),_=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+h),x=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),S=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),E=r([v,m,g,y,b,w,_,x,S].join("|")),P=r(r(u+"|"+i)+"+"),C=(r(E+"\\%25"+P),r(E+r("\\%25|\\%(?!"+n+"{2})")+P)),k=r("[vV]"+n+"+\\."+t(u,a,"[\\:]")+"+"),M=r("\\["+r(C+"|"+E+"|"+k)+"\\]"),D=r(r(i+"|"+t(u,a))+"*"),T=r(M+"|"+d+"(?!"+D+")|"+D),O=r("[0-9]*"),I=r(r(l+"@")+"?"+T+r("\\:"+O)+"?"),L=r(i+"|"+t(u,a,"[\\:\\@]")),R=r(L+"*"),A=r(L+"+"),F=r(r(i+"|"+t(u,a,"[\\@]"))+"+"),N=r(r("\\/"+R)+"*"),j=r("\\/"+r(A+N)+"?"),V=r(F+N),B=r(A+N),$="(?!"+L+")",z=(r(N+"|"+j+"|"+V+"|"+B+"|"+$),r(r(L+"|"+t("[\\/\\?]",s))+"*")),U=r(r(L+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+I+N)+"|"+j+"|"+B+"|"+$),W=r(c+"\\:"+H+r("\\?"+z)+"?"+r("\\#"+U)+"?"),q=r(r("\\/\\/"+I+N)+"|"+j+"|"+V+"|"+$),Q=r(q+r("\\?"+z)+"?"+r("\\#"+U)+"?");return r(W+"|"+Q),r(c+"\\:"+H+r("\\?"+z)+"?"),r(r("\\/\\/("+r("("+l+")@")+"?("+T+")"+r("\\:("+O+")")+"?)")+"?("+N+"|"+j+"|"+B+"|"+$+")"),r("\\?("+z+")"),r("\\#("+U+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+T+")"+r("\\:("+O+")")+"?)")+"?("+N+"|"+j+"|"+V+"|"+$+")"),r("\\?("+z+")"),r("\\#("+U+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+T+")"+r("\\:("+O+")")+"?)")+"?("+N+"|"+j+"|"+B+"|"+$+")"),r("\\?("+z+")"),r("\\#("+U+")"),r("("+l+")@"),r("\\:("+O+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+E+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+P+")")+"?\\]?$")}}var o=a(!1),s=a(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=/^xn--/,f=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,v=String.fromCharCode;function m(e){throw new RangeError(p[e])}function g(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(d,".")).split("."),t).join(".");return n+i}function y(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))},_=function(e){var t,r=[],n=e.length,i=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&m("not-basic"),r.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<n;){for(var f=i,d=1,p=36;;p+=36){l>=n&&m("invalid-input");var v=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(v>=36||v>h((c-i)/d))&&m("overflow"),i+=v*d;var g=p<=o?1:p>=o+26?26:p-o;if(v<g)break;var y=36-g;d>h(c/y)&&m("overflow"),d*=y}var b=r.length+1;o=w(i-f,b,0==f),h(i/b)>c-a&&m("overflow"),a+=h(i/b),i%=b,r.splice(i++,0,a)}return String.fromCodePoint.apply(String,r)},x=function(e){var t=[],r=(e=y(e)).length,n=128,i=0,a=72,o=!0,s=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var d=l.value;d<128&&t.push(v(d))}}catch(B){s=!0,u=B}finally{try{!o&&f.return&&f.return()}finally{if(s)throw u}}var p=t.length,g=p;for(p&&t.push("-");g<r;){var _=c,x=!0,S=!1,E=void 0;try{for(var P,C=e[Symbol.iterator]();!(x=(P=C.next()).done);x=!0){var k=P.value;k>=n&&k<_&&(_=k)}}catch(B){S=!0,E=B}finally{try{!x&&C.return&&C.return()}finally{if(S)throw E}}var M=g+1;_-n>h((c-i)/M)&&m("overflow"),i+=(_-n)*M,n=_;var D=!0,T=!1,O=void 0;try{for(var I,L=e[Symbol.iterator]();!(D=(I=L.next()).done);D=!0){var R=I.value;if(R<n&&++i>c&&m("overflow"),R==n){for(var A=i,F=36;;F+=36){var N=F<=a?1:F>=a+26?26:F-a;if(A<N)break;var j=A-N,V=36-N;t.push(v(b(N+j%V,0))),A=h(j/V)}t.push(v(b(A,0))),a=w(i,M,g==p),i=0,++g}}}catch(B){T=!0,O=B}finally{try{!D&&L.return&&L.return()}finally{if(T)throw O}}++i,++n}return t.join("")},S=function(e){return g(e,(function(e){return f.test(e)?"xn--"+x(e):e}))},E=function(e){return g(e,(function(e){return l.test(e)?_(e.slice(4).toLowerCase()):e}))},P={};function C(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function k(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var a=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function M(e,t){function r(e){var r=k(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,C).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,C).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,C).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,C).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,C).replace(t.PCT_ENCODED,i)),e}function D(e){return e.replace(/^0*(.*)/,"$1")||"0"}function T(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(D).join("."):e}function O(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],a=n[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=u(o,2),c=s[0],l=s[1],f=l?l.split(":").map(D):[],d=c.split(":").map(D),p=t.IPV4ADDRESS.test(d[d.length-1]),h=p?7:8,v=d.length-h,m=Array(h),g=0;g<h;++g)m[g]=f[g]||d[v+g]||"";p&&(m[h-1]=T(m[h-1],t));var y=m.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=m.slice(0,y.index),_=m.slice(y.index+y.length);b=w.join(":")+"::"+_.join(":")}else b=m.join(":");return a&&(b+="%"+a),b}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,L=void 0==="".match(/(){0}/)[1];function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(I);if(i){L?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=O(T(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var a=P[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)M(r,n);else{if(r.host&&(t.domainHost||a&&a.domainHost))try{r.host=S(r.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(u){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+u}M(r,o)}a&&a.parse&&a.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function A(e,t){var r=!1!==t.iri?s:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(O(T(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var F=/^\.\.?\//,N=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,V=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var t=[];e.length;)if(e.match(F))e=e.replace(F,"");else if(e.match(N))e=e.replace(N,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(V);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:o,n=[],i=P[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E(e.host):S(e.host.replace(r.PCT_ENCODED,k).toLowerCase())}catch(c){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+c}M(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=A(e,t);if(void 0!==a&&("suffix"!==t.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=B(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=R($(e,r),r),t=R($(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=B(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=B(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=B(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=B(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function U(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,k)}var H={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function q(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Q={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=q(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(q(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=u(r,2),i=n[0],a=n[1];e.path=i&&"/"!==i?i:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize},G={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",X=r(r("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+r("%[89A-Fa-f]"+J+"%"+J+J)+"|"+r("%"+J+J)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(Y,"g"),te=new RegExp(X,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),ne=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=ne;function ae(e){var t=k(e);return t.match(ee)?t:e}var oe={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,a={},o=r.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,d=l.length;f<d;++f)n.push(l[f]);break;case"subject":r.subject=U(c[1],t);break;case"body":r.body=U(c[1],t);break;default:i=!0,a[U(c[0],t)]=U(c[1],t)}}i&&(r.headers=a)}r.query=void 0;for(var p=0,h=n.length;p<h;++p){var v=n[p].split("@");if(v[0]=U(v[0]),t.unicodeSupport)v[1]=U(v[1],t).toLowerCase();else try{v[1]=S(U(v[1],t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+m}n[p]=v.join("@")}return r},serialize:function(e,t){var r,n=e,a=void 0!==(r=e.to)&&null!==r?r instanceof Array?r:"number"!==typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(a){for(var o=0,s=a.length;o<s;++o){var u=String(a[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(te,ae).replace(te,i).replace(re,C),f=u.slice(c+1);try{f=t.iri?E(f):S(U(f,t).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+v}a[o]=l+"@"+f}n.path=a.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var p=[];for(var h in d)d[h]!==G[h]&&p.push(h.replace(te,ae).replace(te,i).replace(ne,C)+"="+d[h].replace(te,ae).replace(te,i).replace(ie,C));return p.length&&(n.query=p.join("&")),n}},se=/^([^\:]+)\:(.*)/,ue={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(se),n=e;if(r){var i=t.scheme||n.scheme||"urn",a=r[1].toLowerCase(),o=r[2],s=i+":"+(t.nid||a),u=P[s];n.nid=a,n.nss=o,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),a=P[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(n||t.nid)+":"+s,o}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};P[H.scheme]=H,P[W.scheme]=W,P[Q.scheme]=Q,P[K.scheme]=K,P[oe.scheme]=oe,P[ue.scheme]=ue,P[le.scheme]=le,e.SCHEMES=P,e.pctEncChar=C,e.pctDecChars=k,e.parse=R,e.removeDotSegments=B,e.serialize=$,e.resolveComponents=z,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return $(z(R(e,n),R(t,n),n,!0),n)},e.normalize=function(e,t){return"string"===typeof e?e=$(R(e,t),t):"object"===n(e)&&(e=R($(e,t),t)),e},e.equal=function(e,t,r){return"string"===typeof e?e=$(R(e,r),r):"object"===n(e)&&(e=$(e,r)),"string"===typeof t?t=$(R(t,r),r):"object"===n(t)&&(t=$(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,C)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},function(e,t,r){"use strict";var n=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,i,a,o,s,u,c,l,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in r(a,o,s,u,c,l,f),a){var p=a[d];if(Array.isArray(p)){if(d in n.arrayKeywords)for(var h=0;h<p.length;h++)e(t,r,i,p[h],o+"/"+d+"/"+h,s,o,d,a,h)}else if(d in n.propsKeywords){if(p&&"object"==typeof p)for(var v in p)e(t,r,i,p[v],o+"/"+d+"/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,a,v)}else(d in n.keywords||t.allKeys&&!(d in n.skipKeywords))&&e(t,r,i,p,o+"/"+d,s,o,d,a)}i(a,o,s,u,c,l,f)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,r){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,r){"use strict";var n=r(18),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,h=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function v(e){return e="full"==e?"full":"fast",n.copy(v[e])}function m(e){var t=e.match(i);if(!t)return!1;var r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(2==n&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(r)?29:a[n])}function g(e,t){var r=e.match(o);if(!r)return!1;var n=r[1],i=r[2],a=r[3],s=r[5];return(n<=23&&i<=59&&a<=59||23==n&&59==i&&60==a)&&(!t||s)}e.exports=v,v.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":p,"relative-json-pointer":h},v.full={date:m,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&m(t[0])&&g(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":p,"relative-json-pointer":h};var y=/t|\s/i;var b=/\/|:/;var w=/[^\\]\\Z/;function _(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},function(e,t,r){"use strict";var n=r(157),i=r(18).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var a=Object.keys(r)[0];i=r[a],r=a,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:i}})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,r){"use strict";e.exports={$ref:r(158),allOf:r(159),anyOf:r(160),$comment:r(161),const:r(162),contains:r(163),dependencies:r(164),enum:r(165),format:r(166),if:r(167),items:r(168),maximum:r(83),minimum:r(83),maxItems:r(84),minItems:r(84),maxLength:r(85),minLength:r(85),maxProperties:r(86),minProperties:r(86),multipleOf:r(169),not:r(170),oneOf:r(171),pattern:r(172),properties:r(173),propertyNames:r(174),required:r(175),uniqueItems:r(176),validate:r(82)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(s||""),d="valid"+o;if("#"==u||"#/"==u)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(h),(y=y||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var v=a;a=y.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,h);e.logger.warn(h),l&&(a+=" if (true) { ")}}else if(p.inline){var m=e.util.copy(e);m.level++;var g="valid"+m.level;m.schema=p.schema,m.schemaPath="",m.errSchemaPath=u,a+=" "+e.validate(m).replace(/validate\.schema/g,p.code)+" ",l&&(a+=" if ("+g+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(a),a="",e.opts.passContext?a+=" "+i+".call(this, ":a+=" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var b=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(a+=" var "+d+"; "),a+=" try { await "+b+"; ",l&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(a+=" "+d+" = false; "),a+=" } ",l&&(a+=" if ("+d+") { ")}else a+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(a+=" else { ")}return a}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,f=u.baseId,d=!0,p=i;if(p)for(var h,v=-1,m=p.length-1;v<m;)h=p[v+=1],(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:e.util.schemaHasRules(h,e.RULES.all))&&(d=!1,u.schema=h,u.schemaPath=a+"["+v+"]",u.errSchemaPath=o+"/"+v,n+="  "+e.validate(u)+" ",u.baseId=f,s&&(n+=" if ("+l+") { ",c+="}"));return s&&(n+=d?" if (true) { ":" "+c.slice(0,-1)+" "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var m=p.baseId;n+=" var "+d+" = errors; var "+f+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=o;if(y)for(var b,w=-1,_=y.length-1;w<_;)b=y[w+=1],p.schema=b,p.schemaPath=s+"["+w+"]",p.errSchemaPath=u+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=m,n+=" "+f+" = "+f+" || "+v+"; if (!"+f+") { ",h+="}";e.compositeRule=p.compositeRule=g,n+=" "+h+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else c&&(n+=" if (true) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),d||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+f+" = equal("+l+", schema"+i+"); if (!"+f+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var h=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+h+"]); ":n+=" validate.errors = ["+h+"]; return false; ":n+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,v="i"+i,m=p.dataLevel=e.dataLevel+1,g="data"+m,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(n+="var "+d+" = errors;var "+f+";",b){var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+h+" = false; for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var _=l+"["+v+"]";p.dataPathArr[m]=v;var x=e.validate(p);p.baseId=y,e.util.varOccurences(x,g)<2?n+=" "+e.util.varReplace(x,g,_)+" ":n+=" var "+g+" = "+_+"; "+x+" ",n+=" if ("+h+") break; }  ",e.compositeRule=p.compositeRule=w,n+="  if (!"+h+") {"}else n+=" if ("+l+".length == 0) {";var S=S||[];S.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;return n=S.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,v={},m={},g=e.opts.ownProperties;for(_ in o)if("__proto__"!=_){var y=o[_],b=Array.isArray(y)?m:v;b[_]=y}n+="var "+f+" = errors;";var w=e.errorPath;for(var _ in n+="var missing"+i+";",m)if((b=m[_]).length){if(n+=" if ( "+l+e.util.getProperty(_)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(_)+"') "),c){n+=" && ( ";var x=b;if(x)for(var S=-1,E=x.length-1;S<E;){T=x[S+=1],S&&(n+=" || "),n+=" ( ( "+(R=l+(L=e.util.getProperty(T)))+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:L)+") ) "}n+=")) {  ";var P="missing"+i,C="' + "+P+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,P,!0):w+" + "+P);var k=k||[];k.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+C+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var M=n;n=k.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var D=b;if(D)for(var T,O=-1,I=D.length-1;O<I;){T=D[O+=1];var L=e.util.getProperty(T),R=(C=e.util.escapeQuotes(T),l+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,T,e.opts.jsonPointers)),n+=" if ( "+R+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+C+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(p+="}",n+=" else { ")}e.errorPath=w;var A=d.baseId;for(var _ in v){y=v[_];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(n+=" "+h+" = true; if ( "+l+e.util.getProperty(_)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(_)+"') "),n+=") { ",d.schema=y,d.schemaPath=s+e.util.getProperty(_),d.errSchemaPath=u+"/"+e.util.escapeFragment(_),n+="  "+e.validate(d)+" ",d.baseId=A,n+=" }  ",c&&(n+=" if ("+h+") { ",p+="}"))}return c&&(n+="   "+p+" if ("+f+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="i"+i,h="schema"+i;d||(n+=" var "+h+" = validate.schema"+s+";"),n+="var "+f+";",d&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=f+" = false;for (var "+p+"=0; "+p+"<"+h+".length; "+p+"++) if (equal("+l+", "+h+"["+p+"])) { "+f+" = true; break; }",d&&(n+="  }  "),n+=" if (!"+f+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;return n=v.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var f,d=e.opts.$data&&o&&o.$data;d?(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=e.opts.unknownFormats,h=Array.isArray(p);if(d){n+=" var "+(v="format"+i)+" = formats["+f+"]; var "+(m="isObject"+i)+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+(g="formatType"+i)+" = "+m+" && "+v+".type || 'string'; if ("+m+") { ",e.async&&(n+=" var async"+i+" = "+v+".async; "),n+=" "+v+" = "+v+".validate; } if (  ",d&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+f+" && !"+v+" ",h&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+v+" && "+g+" == '"+r+"' && !(typeof "+v+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+v+"("+l+") : "+v+"("+l+")) ":n+=" "+v+"("+l+") ",n+=" : "+v+".test("+l+"))))) {"}else{var v;if(!(v=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(h&&p.indexOf(o)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var m,g=(m="object"==typeof v&&!(v instanceof RegExp)&&v.validate)&&v.type||"string";if(m){var y=!0===v.async;v=v.validate}if(g!=r)return c&&(n+=" if (true) { "),n;if(y){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var b="formats"+e.util.getProperty(o);m&&(b+=".validate"),n+="function"==typeof v?" "+b+"("+l+") ":" "+b+".test("+l+") ",n+=") { "}}var w=w||[];w.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",n+=d?""+f:""+e.util.toQuotedString(o),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=d?"' + "+f+" + '":""+e.util.escapeQuotes(o),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+s:""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var _=n;return n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,v=e.schema.then,m=e.schema.else,g=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),y=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=p.baseId;if(g||y){var w;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+d+" = errors; var "+f+" = true;  ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=_,g?(n+=" if ("+h+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+f+" = "+h+"; ",g&&y?n+=" var "+(w="ifClause"+i)+" = 'then'; ":w="'then'",n+=" } ",y&&(n+=" else { ")):n+=" if (!"+h+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+f+" = "+h+"; ",g&&y?n+=" var "+(w="ifClause"+i)+" = 'else'; ":w="'else'",n+=" } "),n+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level,m="i"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(n+="var "+d+" = errors;var "+f+";",Array.isArray(o)){var w=e.schema.additionalItems;if(!1===w){n+=" "+f+" = "+l+".length <= "+o.length+"; ";var _=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+f+") {   ";var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var S=n;n=x.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=_,c&&(h+="}",n+=" else { ")}var E=o;if(E)for(var P,C=-1,k=E.length-1;C<k;)if(P=E[C+=1],e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0||!1===P:e.util.schemaHasRules(P,e.RULES.all)){n+=" "+v+" = true; if ("+l+".length > "+C+") { ";var M=l+"["+C+"]";p.schema=P,p.schemaPath=s+"["+C+"]",p.errSchemaPath=u+"/"+C,p.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),p.dataPathArr[g]=C;var D=e.validate(p);p.baseId=b,e.util.varOccurences(D,y)<2?n+=" "+e.util.varReplace(D,y,M)+" ":n+=" var "+y+" = "+M+"; "+D+" ",n+=" }  ",c&&(n+=" if ("+v+") { ",h+="}")}if("object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))){p.schema=w,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+v+" = true; if ("+l+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);M=l+"["+m+"]";p.dataPathArr[g]=m;D=e.validate(p);p.baseId=b,e.util.varOccurences(D,y)<2?n+=" "+e.util.varReplace(D,y,M)+" ":n+=" var "+y+" = "+M+"; "+D+" ",c&&(n+=" if (!"+v+") break; "),n+=" } }  ",c&&(n+=" if ("+v+") { ",h+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=u,n+="  for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);M=l+"["+m+"]";p.dataPathArr[g]=m;D=e.validate(p);p.baseId=b,e.util.varOccurences(D,y)<2?n+=" "+e.util.varReplace(D,y,M)+" ":n+=" var "+y+" = "+M+"; "+D+" ",c&&(n+=" if (!"+v+") break; "),n+=" }"}return c&&(n+=" "+h+" if ("+d+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+a+";if (",d&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u,n+=" var "+f+" = errors;  ";var h,v=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(h=d.opts.allErrors,d.opts.allErrors=!1),n+=" "+e.validate(d)+" ",d.createErrors=!0,h&&(d.opts.allErrors=h),e.compositeRule=d.compositeRule=v,n+=" if ("+p+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var g=n;n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level,m=p.baseId,g="prevValid"+i,y="passingSchemas"+i;n+="var "+d+" = errors , "+g+" = false , "+f+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var w=o;if(w)for(var _,x=-1,S=w.length-1;x<S;)_=w[x+=1],(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))?(p.schema=_,p.schemaPath=s+"["+x+"]",p.errSchemaPath=u+"/"+x,n+="  "+e.validate(p)+" ",p.baseId=m):n+=" var "+v+" = true; ",x&&(n+=" if ("+v+" && "+g+") { "+f+" = false; "+y+" = ["+y+", "+x+"]; } else { ",h+="}"),n+=" if ("+v+") { "+f+" = "+g+" = true; "+y+" = "+x+"; }";return e.compositeRule=p.compositeRule=b,n+=h+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,i+="if ( ",d&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(d?"(new RegExp("+n+"))":e.usePattern(s))+".test("+f+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=d?""+n:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+n+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,v="key"+i,m="idx"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,w=Object.keys(o||{}).filter(L),_=e.schema.patternProperties||{},x=Object.keys(_).filter(L),S=e.schema.additionalProperties,E=w.length||x.length,P=!1===S,C="object"==typeof S&&Object.keys(S).length,k=e.opts.removeAdditional,M=P||C||k,D=e.opts.ownProperties,T=e.baseId,O=e.schema.required;if(O&&(!e.opts.$data||!O.$data)&&O.length<e.opts.loopRequired)var I=e.util.toHash(O);function L(e){return"__proto__"!==e}if(n+="var "+f+" = errors;var "+h+" = true;",D&&(n+=" var "+b+" = undefined;"),M){if(n+=D?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",E){if(n+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+v+") ";else{var R=w;if(R)for(var A=-1,F=R.length-1;A<F;)G=R[A+=1],n+=" || "+v+" == "+e.util.toQuotedString(G)+" "}if(x.length){var N=x;if(N)for(var j=-1,V=N.length-1;j<V;)ae=N[j+=1],n+=" || "+e.usePattern(ae)+".test("+v+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==k)n+=" delete "+l+"["+v+"]; ";else{var B=e.errorPath,$="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),P)if(k)n+=" delete "+l+"["+v+"]; ";else{n+=" "+h+" = false; ";var z=u;u=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+$+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var U=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+U+"]); ":n+=" validate.errors = ["+U+"]; return false; ":n+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,c&&(n+=" break; ")}else if(C)if("failing"==k){n+=" var "+f+" = errors;  ";var H=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=S,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var W=l+"["+v+"]";d.dataPathArr[g]=v;var q=e.validate(d);d.baseId=T,e.util.varOccurences(q,y)<2?n+=" "+e.util.varReplace(q,y,W)+" ":n+=" var "+y+" = "+W+"; "+q+" ",n+=" if (!"+h+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+v+"]; }  ",e.compositeRule=d.compositeRule=H}else{d.schema=S,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);W=l+"["+v+"]";d.dataPathArr[g]=v;q=e.validate(d);d.baseId=T,e.util.varOccurences(q,y)<2?n+=" "+e.util.varReplace(q,y,W)+" ":n+=" var "+y+" = "+W+"; "+q+" ",c&&(n+=" if (!"+h+") break; ")}e.errorPath=B}E&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+h+") { ",p+="}")}var Q=e.opts.useDefaults&&!e.compositeRule;if(w.length){var K=w;if(K)for(var G,Y=-1,J=K.length-1;Y<J;){var X=o[G=K[Y+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all)){var Z=e.util.getProperty(G),ee=(W=l+Z,Q&&void 0!==X.default);d.schema=X,d.schemaPath=s+Z,d.errSchemaPath=u+"/"+e.util.escapeFragment(G),d.errorPath=e.util.getPath(e.errorPath,G,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(G);q=e.validate(d);if(d.baseId=T,e.util.varOccurences(q,y)<2){q=e.util.varReplace(q,y,W);var te=W}else{te=y;n+=" var "+y+" = "+W+"; "}if(ee)n+=" "+q+" ";else{if(I&&I[G]){n+=" if ( "+te+" === undefined ",D&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(G)+"') "),n+=") { "+h+" = false; ";B=e.errorPath,z=u;var re,ne=e.util.escapeQuotes(G);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,G,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";U=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+U+"]); ":n+=" validate.errors = ["+U+"]; return false; ":n+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,e.errorPath=B,n+=" } else { "}else c?(n+=" if ( "+te+" === undefined ",D&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(G)+"') "),n+=") { "+h+" = true; } else { "):(n+=" if ("+te+" !== undefined ",D&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(G)+"') "),n+=" ) { ");n+=" "+q+" } "}}c&&(n+=" if ("+h+") { ",p+="}")}}if(x.length){var ie=x;if(ie)for(var ae,oe=-1,se=ie.length-1;oe<se;){X=_[ae=ie[oe+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all)){d.schema=X,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),n+=D?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",n+=" if ("+e.usePattern(ae)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);W=l+"["+v+"]";d.dataPathArr[g]=v;q=e.validate(d);d.baseId=T,e.util.varOccurences(q,y)<2?n+=" "+e.util.varReplace(q,y,W)+" ":n+=" var "+y+" = "+W+"; "+q+" ",c&&(n+=" if (!"+h+") break; "),n+=" } ",c&&(n+=" else "+h+" = true; "),n+=" }  ",c&&(n+=" if ("+h+") { ",p+="}")}}}return c&&(n+=" "+p+" if ("+f+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(n+="var "+f+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u;var h="key"+i,v="idx"+i,m="i"+i,g="' + "+h+" + '",y="data"+(d.dataLevel=e.dataLevel+1),b="dataProperties"+i,w=e.opts.ownProperties,_=e.baseId;w&&(n+=" var "+b+" = undefined; "),n+=w?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+h+" = "+b+"["+v+"]; ":" for (var "+h+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var x=h,S=e.compositeRule;e.compositeRule=d.compositeRule=!0;var E=e.validate(d);d.baseId=_,e.util.varOccurences(E,y)<2?n+=" "+e.util.varReplace(E,y,x)+" ":n+=" var "+y+" = "+x+"; "+E+" ",e.compositeRule=d.compositeRule=S,n+=" if (!"+p+") { for (var "+m+"=startErrs"+i+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+h+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+f+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="schema"+i;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],v=o;if(v)for(var m,g=-1,y=v.length-1;g<y;){m=v[g+=1];var b=e.schema.properties[m];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(h[h.length]=m)}}else h=o;if(d||h.length){var w=e.errorPath,_=d||h.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",_){d||(n+=" var "+p+" = validate.schema"+s+"; ");var S="' + "+(D="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,D,e.opts.jsonPointers)),n+=" var "+f+" = true; ",d&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=" for (var "+C+" = 0; "+C+" < "+p+".length; "+C+"++) { "+f+" = "+l+"["+p+"["+C+"]] !== undefined ",x&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+C+"]) "),n+="; if (!"+f+") break; } ",d&&(n+="  }  "),n+="  if (!"+f+") {   ",(M=M||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;n=M.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var P=h;if(P)for(var C=-1,k=P.length-1;C<k;){O=P[C+=1],C&&(n+=" || "),n+=" ( ( "+(A=l+(R=e.util.getProperty(O)))+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(O)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:R)+") ) "}n+=") {  ";var M;S="' + "+(D="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,D,!0):w+" + "+D),(M=M||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";E=n;n=M.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(_){d||(n+=" var "+p+" = validate.schema"+s+"; ");var D;S="' + "+(D="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,D,e.opts.jsonPointers)),d&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+C+" = 0; "+C+" < "+p+".length; "+C+"++) { if ("+l+"["+p+"["+C+"]] === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+C+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(n+="  }  ")}else{var T=h;if(T)for(var O,I=-1,L=T.length-1;I<L;){O=T[I+=1];var R=e.util.getProperty(O),A=(S=e.util.escapeQuotes(O),l+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,O,e.opts.jsonPointers)),n+=" if ( "+A+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(O)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else c&&(n+=" if (true) {");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+d+"; if ("+n+" === false || "+n+" === undefined) "+d+" = true; else if (typeof "+n+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+f+".length , "+d+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,v=Array.isArray(h);if(!h||"object"==h||"array"==h||v&&(h.indexOf("object")>=0||h.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var m="checkDataType"+(v?"s":"");i+=" if ("+e.util[m](h,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},function(e,t,r){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,a=t[r].split("/"),o=e;for(i=1;i<a.length;i++)o=o[a[i]];for(i=0;i<n.length;i++){var s=n[i],u=o[s];u&&(o[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,r){"use strict";var n=r(34).MissingRef;e.exports=function e(t,r,i){var a=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var o=s(t).then((function(){var e=a._addSchema(t,void 0,r);return e.validate||function e(t){try{return a._compile(t)}catch(o){if(o instanceof n)return i(o);throw o}function i(n){var i=n.missingSchema;if(c(i))throw new Error("Schema "+i+" is loaded but "+n.missingRef+" cannot be resolved");var o=a._loadingSchemas[i];return o||(o=a._loadingSchemas[i]=a._opts.loadSchema(i)).then(u,u),o.then((function(e){if(!c(i))return s(e).then((function(){c(i)||a.addSchema(e,i,void 0,r)}))})).then((function(){return e(t)}));function u(){delete a._loadingSchemas[i]}function c(e){return a._refs[e]||a._schemas[e]}}}(e)}));i&&o.then((function(e){i(null,e)}),i);return o;function s(t){var r=t.$schema;return r&&!a.getSchema(r)?e.call(a,{$ref:r},!0):Promise.resolve()}}},function(e,t,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r(180),a=r(181);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var a=t.type;if(Array.isArray(a))for(var o=0;o<a.length;o++)u(e,a[o],t);else u(e,a,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,n){for(var a,o=0;o<r.length;o++){var s=r[o];if(s.type==t){a=s;break}}a||(a={type:t,rules:[]},r.push(a));var u={keyword:e,definition:n,custom:!0,code:i,implements:n.implements};a.rules.push(u),r.custom[e]=u}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,h="errs__"+o,v=e.opts.$data&&u&&u.$data;v?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var m,g,y,b,w,_="definition"+o,x=this.definition,S="";if(v&&x.$data){w="keywordValidate"+o;var E=x.validateSchema;a+=" var "+_+" = RULES.custom['"+t+"'].definition; var "+w+" = "+_+".validate;"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;i="validate.schema"+c,w=b.code,m=x.compile,g=x.inline,y=x.macro}var P=w+".errors",C="i"+o,k="ruleErr"+o,M=x.async;if(M&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(a+=P+" = null;"),a+="var "+h+" = errors;var "+p+";",v&&x.$data&&(S+="}",a+=" if ("+i+" === undefined) { "+p+" = true; } else { ",E&&(S+="}",a+=" "+p+" = "+_+".validateSchema("+i+"); if ("+p+") { ")),g)x.statements?a+=" "+b.validate+" ":a+=" "+p+" = "+b.validate+"; ";else if(y){var D=e.util.copy(e);S="";D.level++;var T="valid"+D.level;D.schema=b.validate,D.schemaPath="";var O=e.compositeRule;e.compositeRule=D.compositeRule=!0;var I=e.validate(D).replace(/validate\.schema/g,w);e.compositeRule=D.compositeRule=O,a+=" "+I}else{(F=F||[]).push(a),a="",a+="  "+w+".call( ",e.opts.passContext?a+="this":a+="self",m||!1===x.schema?a+=" , "+d+" ":a+=" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var L=s?"data"+(s-1||""):"parentData",R=s?e.dataPathArr[s]:"parentDataProperty",A=a+=" , "+L+" , "+R+" , rootData )  ";a=F.pop(),!1===x.errors?(a+=" "+p+" = ",M&&(a+="await "),a+=A+"; "):a+=M?" var "+(P="customErrors"+o)+" = null; try { "+p+" = await "+A+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } ":" "+P+" = null; "+p+" = "+A+"; "}if(x.modifying&&(a+=" if ("+L+") "+d+" = "+L+"["+R+"];"),a+=""+S,x.valid)f&&(a+=" if (true) { ");else{var F;a+=" if ( ",void 0===x.valid?(a+=" !",a+=y?""+T:""+p):a+=" "+!x.valid+" ",a+=") { ",n=this.keyword,(F=F||[]).push(a),a="",(F=F||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var N=a;a=F.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=a;a=F.pop(),g?x.errors?"full"!=x.errors&&(a+="  for (var "+C+"="+h+"; "+C+"<errors; "+C+"++) { var "+k+" = vErrors["+C+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+k+".schema = "+i+"; "+k+".data = "+d+"; "),a+=" } "):!1===x.errors?a+=" "+j+" ":(a+=" if ("+h+" == errors) { "+j+" } else {  for (var "+C+"="+h+"; "+C+"<errors; "+C+"++) { var "+k+" = vErrors["+C+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+k+".schema = "+i+"; "+k+".data = "+d+"; "),a+=" } } "):y?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===x.errors?a+=" "+j+" ":(a+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+C+"="+h+"; "+C+"<errors; "+C+"++) { var "+k+" = vErrors["+C+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+";  "+k+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(a+=" "+k+".schema = "+i+"; "+k+".data = "+d+"; "),a+=" } } else { "+j+" } "),a+=" } ",f&&(a+=" else { ")}return a}},function(e,t,r){"use strict";var n=r(87);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","title":"Buttplug Message Schema","version":1,"description":"The JSON Protocol format for the Buttplug Protocol.","components":{"Id":{"description":"User-set id for the message. 0 denotes system message and is reserved.","type":"integer","minimum":0,"maximum":4294967295},"SystemId":{"description":"Used for non-direct-reply messages that can only be sent from server to client, using the reserved system message Id of 0.","type":"integer","minimum":0,"maximum":0},"DeviceName":{"description":"Name of the device","type":"string"},"DeviceIndex":{"description":"Index used for referencing the device in device messages.","type":"integer","minimum":0},"IdMessage":{"properties":{"Id":{"$ref":"#/components/Id"}},"additionalProperties":false,"minProperties":1,"maxProperties":1,"required":["Id"]},"DeviceMessages":{"description":"A list of the messages a device will accept on this server implementation.","type":"array","items":{"type":"string","minItems":1}},"DeviceMessagesEx":{"description":"A list of the messages a device will accept on this server implementation.","type":"object","items":{"description":"A list of the messages attributes.","type":"object","properties":{"FeatureCount":{"$ref":"#/components/FeatureCount"}},"additionalProperties":true,"minItems":1}},"SystemIdMessage":{"description":"Message sent by the server that is not in direct reply to a message send from the client, and always uses system Id.","properties":{"Id":{"$ref":"#/components/SystemId"}},"additionalProperties":false,"minProperties":1,"maxProperties":1,"required":["Id"]},"DeviceIndexMessage":{"properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"}},"additionalProperties":false,"minProperties":2,"maxProperties":2,"required":["Id","DeviceIndex"]},"FeatureCount":{"description":"Number of features on device.","type":"integer","minimum":0}},"messages":{"Ok":{"type":"object","description":"Signifies successful processing of the message indicated by the id.","anyOf":[{"$ref":"#/components/IdMessage"}]},"Ping":{"type":"object","description":"Connection keep-alive message.","anyOf":[{"$ref":"#/components/IdMessage"}]},"Error":{"type":"object","description":"Signifies the server encountered an error while processing the message indicated by the id.","properties":{"Id":{"$ref":"#/components/Id"},"ErrorMessage":{"type":"string"},"ErrorCode":{"type":"number","minimum":0,"maximum":4}},"additionalProperties":false,"minProperties":3,"maxProperties":3,"required":["Id","ErrorMessage","ErrorCode"]},"Test":{"type":"object","description":"Used for connection/application testing. Causes server to echo back the string sent. Sending string of \'Error\' will result in a server error. ","properties":{"Id":{"$ref":"#/components/Id"},"TestString":{"description":"String to be echo\'d back from server. Setting this to \'Error\' will cause an error to be thrown.","type":"string"}},"minProperties":2,"maxProperties":2,"additionalProperties":false,"required":["Id","TestString"]},"DeviceList":{"type":"object","description":"List of all available devices known to the system.","properties":{"Id":{"$ref":"#/components/Id"},"Devices":{"description":"Array of device ids and names.","type":"array","items":{"type":"object","properties":{"DeviceName":{"$ref":"#/components/DeviceName"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"DeviceMessages":{"oneOf":[{"$ref":"#/components/DeviceMessages"},{"$ref":"#/components/DeviceMessagesEx"}]}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["DeviceName","DeviceIndex","DeviceMessages"]},"minItems":0}},"minProperties":2,"maxProperties":2,"additionalProperties":false,"required":["Id","Devices"]},"DeviceAdded":{"type":"object","description":"Notifies client that a device of a certain type has been added to the server.","properties":{"Id":{"$ref":"#/components/SystemId"},"DeviceName":{"$ref":"#/components/DeviceName"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"DeviceMessages":{"oneOf":[{"$ref":"#/components/DeviceMessages"},{"$ref":"#/components/DeviceMessagesEx"}]}},"minProperties":4,"maxProperties":4,"additionalProperties":false,"required":["Id","DeviceName","DeviceIndex","DeviceMessages"]},"DeviceRemoved":{"type":"object","description":"Notifies client that a device of a certain type has been removed from the server.","anyOf":[{"$ref":"#/components/DeviceIndexMessage"}]},"RequestDeviceList":{"type":"object","description":"Request for the server to send a list of devices to the client.","anyOf":[{"$ref":"#/components/IdMessage"}]},"StartScanning":{"type":"object","description":"Request for the server to start scanning for new devices.","anyOf":[{"$ref":"#/components/IdMessage"}]},"StopScanning":{"type":"object","description":"Request for the server to stop scanning for new devices.","anyOf":[{"$ref":"#/components/IdMessage"}]},"ScanningFinished":{"type":"object","description":"Server notification to client that scanning has ended.","anyOf":[{"$ref":"#/components/SystemIdMessage"}]},"RequestLog":{"type":"object","description":"Request for server to stream log messages of a certain level to client.","properties":{"Id":{"$ref":"#/components/Id"},"LogLevel":{"description":"Maximum level of log message to receive.","enum":["Off","Fatal","Error","Warn","Info","Debug","Trace"]}},"minProperties":2,"maxProperties":2,"additionalProperties":false,"required":["Id","LogLevel"]},"Log":{"type":"object","description":"Log message from the server.","properties":{"Id":{"$ref":"#/components/SystemId"},"LogLevel":{"description":"Log level of message.","enum":["Off","Fatal","Error","Warn","Info","Debug","Trace"]},"LogMessage":{"description":"Log message from server.","type":"string"}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","LogLevel","LogMessage"]},"RequestServerInfo":{"type":"object","description":"Request server version, and relay client name.","properties":{"Id":{"$ref":"#/components/Id"},"ClientName":{"description":"Name of the client software.","type":"string"},"MessageVersion":{"description":"Message template version of the client software.","type":"integer","minimum":0}},"minProperties":2,"maxProperties":3,"additionalProperties":false,"required":["Id","ClientName"]},"ServerInfo":{"type":"object","description":"Server version information, in Major.Minor.Build format.","properties":{"Id":{"$ref":"#/components/Id"},"ServerName":{"description":"Name of the server. Can be 0-length.","type":"string"},"MessageVersion":{"description":"Message template version of the server software.","type":"integer","minimum":0},"MajorVersion":{"description":"Major version of server.","type":"integer","minimum":0},"MinorVersion":{"description":"Minor version of server.","type":"integer","minimum":0},"BuildVersion":{"description":"Build version of server.","type":"integer","minimum":0},"MaxPingTime":{"description":"Maximum time (in milliseconds) the server will wait between ping messages from client before shutting down.","type":"integer","minimum":0}},"minProperties":7,"maxProperties":7,"additionalProperties":false,"required":["Id","MajorVersion","MinorVersion","BuildVersion","MessageVersion","MaxPingTime","ServerName"]},"FleshlightLaunchFW12Cmd":{"type":"object","description":"Sends speed and position command to the Fleshlight Launch Device denoted by the device index.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Speed":{"description":"Speed at which to move to designated position.","type":"integer","minimum":0,"maximum":99},"Position":{"description":"Position to which to move Fleshlight.","type":"integer","minimum":0,"maximum":99}},"minProperties":4,"maxProperties":4,"additionalProperties":false,"required":["Id","DeviceIndex","Speed","Position"]},"LovenseCmd":{"type":"object","description":"Sends a command string to a Lovense device. Command string will be verified by sender.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Command":{"description":"Command to send to Lovense device.","type":"string"}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Command"]},"SingleMotorVibrateCmd":{"type":"object","description":"Sends a vibrate command to a device that supports vibration.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Speed":{"description":"Device vibration speed (floating point, 0 < x < 1), stepping will be device specific.","type":"number","minimum":0,"maximum":1}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Speed"]},"RawCmd":{"type":"object","description":"Sends a raw byte array to a device. Should only be used for testing/development.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Command":{"description":"Raw byte string to send to device.","type":"array","items":{"type":"integer","minimum":0,"maximum":255,"minItems":1}}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Command"]},"KiirooCmd":{"type":"object","description":"Sends a raw byte string to a Kiiroo Onyx/Pearl device.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Command":{"description":"Command to send to Kiiroo device.","type":"string"}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Command"]},"VorzeA10CycloneCmd":{"type":"object","description":"Sends a raw byte string to a Kiiroo Onyx/Pearl device.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Speed":{"description":"Rotation speed command for the Cyclone.","type":"integer","minimum":0,"maximum":100},"Clockwise":{"description":"True for clockwise rotation (in relation to device facing user), false for Counter-clockwise","type":"boolean"}},"minProperties":4,"maxProperties":4,"additionalProperties":false,"required":["Id","DeviceIndex","Speed","Clockwise"]},"StopDeviceCmd":{"type":"object","description":"Stops the all actions currently being taken by a device.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"}},"minProperties":2,"maxProperties":2,"additionalProperties":false,"required":["Id","DeviceIndex"]},"StopAllDevices":{"type":"object","description":"Stops all actions currently being taken by all connected devices.","anyOf":[{"$ref":"#/components/IdMessage"}]},"VibrateCmd":{"type":"object","description":"Sends a vibrate command to a device that supports vibration.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Speeds":{"description":"Device vibration speeds (floating point, 0 < x < 1) keyed on vibrator number, stepping will be device specific.","type":"array","items":{"type":"object","properties":{"Index":{"description":"Vibrator number.","type":"integer","minimum":0},"Speed":{"description":"Vibration speed (floating point, 0 < x < 1), stepping will be device specific.","type":"number","minimum":0,"maximum":1}},"minProperties":2,"maxProperties":2,"additionalProperties":false,"required":["Index","Speed"]},"minItems":1}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Speeds"]},"RotateCmd":{"type":"object","description":"Sends a rotate command to a device that supports rotation.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Rotations":{"description":"Device rotation speeds (floating point, 0 < x < 1) keyed on rotator number, stepping will be device specific.","type":"array","items":{"type":"object","properties":{"Index":{"description":"Rotator number.","type":"integer","minimum":0},"Speed":{"description":"Rotation speed (floating point, 0 < x < 1), stepping will be device specific.","type":"number","minimum":0,"maximum":1},"Clockwise":{"description":"Rotation direction (boolean). Not all devices have a concept of actual clockwise.","type":"boolean"}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Index","Speed","Clockwise"]},"minItems":1}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Rotations"]},"LinearCmd":{"type":"object","description":"Sends a linear movement command to a device that supports linear movements.","properties":{"Id":{"$ref":"#/components/Id"},"DeviceIndex":{"$ref":"#/components/DeviceIndex"},"Vectors":{"description":"Device linear movement times (milliseconds) and positions (floating point, 0 < x < 1) keyed on linear actuator number, stepping will be device specific.","type":"array","items":{"type":"object","properties":{"Index":{"description":"Linear actuator number.","type":"integer","minimum":0},"Duration":{"description":"Linear movement time in milliseconds.","type":"number","minimum":0},"Position":{"description":"Linear movement position (floating point, 0 < x < 1), stepping will be device specific.","type":"number","minimum":0,"maximum":1}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Index","Duration","Position"]}}},"minProperties":3,"maxProperties":3,"additionalProperties":false,"required":["Id","DeviceIndex","Vectors"]}},"type":"array","items":{"title":"Messages","description":"One or more messages validated by the Buttplug Message schema list.","properties":{"Ok":{"$ref":"#/messages/Ok"},"Error":{"$ref":"#/messages/Error"},"Ping":{"$ref":"#/messages/Ping"},"Test":{"$ref":"#/messages/Test"},"DeviceList":{"$ref":"#/messages/DeviceList"},"DeviceAdded":{"$ref":"#/messages/DeviceAdded"},"DeviceRemoved":{"$ref":"#/messages/DeviceRemoved"},"RequestDeviceList":{"$ref":"#/messages/RequestDeviceList"},"StopDeviceCmd":{"$ref":"#/messages/StopDeviceCmd"},"StopAllDevices":{"$ref":"#/messages/StopAllDevices"},"StartScanning":{"$ref":"#/messages/StartScanning"},"StopScanning":{"$ref":"#/messages/StopScanning"},"ScanningFinished":{"$ref":"#/messages/ScanningFinished"},"RequestLog":{"$ref":"#/messages/RequestLog"},"Log":{"$ref":"#/messages/Log"},"RequestServerInfo":{"$ref":"#/messages/RequestServerInfo"},"ServerInfo":{"$ref":"#/messages/ServerInfo"},"FleshlightLaunchFW12Cmd":{"$ref":"#/messages/FleshlightLaunchFW12Cmd"},"LovenseCmd":{"$ref":"#/messages/LovenseCmd"},"SingleMotorVibrateCmd":{"$ref":"#/messages/SingleMotorVibrateCmd"},"KiirooCmd":{"$ref":"#/messages/KiirooCmd"},"RawCmd":{"$ref":"#/messages/RawCmd"},"VorzeA10CycloneCmd":{"$ref":"#/messages/VorzeA10CycloneCmd"},"VibrateCmd":{"$ref":"#/messages/VibrateCmd"},"RotateCmd":{"$ref":"#/messages/RotateCmd"},"LinearCmd":{"$ref":"#/messages/LinearCmd"}},"additionalProperties":false,"minProperties":1,"maxProperties":1},"minItems":1,"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugBrowserWebsocketClientConnector=void 0;var l=r(20),f=r(36),d=function(e){s(r,e);var t=u(r);function r(e){var a;return i(this,r),(a=t.call(this,e))._sorter=new f.ButtplugMessageSorter(!0),a.Send=function(e){return c(o(a),void 0,void 0,n.mark((function t(){var r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Connected){t.next=2;break}throw new Error("ButtplugClient not connected");case 2:return r=this._sorter.PrepareOutgoingMessage(e),this.SendMessage(e),t.next=6,r;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))},a.ParseIncomingMessage=function(e){if("string"===typeof e.data){var t=l.FromJSON(e.data),r=a._sorter.ParseIncomingMessages(t);a.emit("message",r)}else if(e.data instanceof Blob){var n=new FileReader;n.addEventListener("load",(function(e){a.OnReaderLoad(e)})),n.readAsText(e.data)}},a}return a(r,[{key:"OnReaderLoad",value:function(e){var t=l.FromJSON(e.target.result),r=this._sorter.ParseIncomingMessages(t);this.emit("message",r)}},{key:"Connected",get:function(){return void 0!==this._ws}}]),r}(r(88).ButtplugBrowserWebsocketConnector);t.ButtplugBrowserWebsocketClientConnector=d},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugEmbeddedClientConnector=void 0;var l=r(13),f=r(89),d=r(35),p=function(e){s(r,e);var t=u(r);function r(){var e;return i(this,r),(e=t.apply(this,arguments))._connected=!1,e._server=null,e.Connect=function(){return c(o(e),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._connected=!0,null===this._server&&(this._server=new f.ButtplugServer),this._server.addListener("message",this.OnMessageReceived);case 3:case"end":return e.stop()}}),e,this)})))},e.Disconnect=function(){return c(o(e),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._server.Shutdown();case 5:return e.prev=5,this._connected=!1,this._server=null,this.emit("disconnect"),e.finish(5);case 10:case"end":return e.stop()}}),e,this,[[2,,5,10]])})))},e.Send=function(t){return c(o(e),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new d.ButtplugClientConnectorException("Client not connected.");case 2:return e.next=4,this._server.SendMessage(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))},e.OnMessageReceived=function(t){e.emit("message",[t])},e}return a(r,[{key:"Initialize",value:function(){return c(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))}},{key:"Server",set:function(e){this._server=e},get:function(){return this._server}},{key:"Connected",get:function(){return this._connected}}]),r}(l.EventEmitter);t.ButtplugEmbeddedClientConnector=p},function(e,t,r){"use strict";var n=r(16),i=r(0),a=r(9),o=r(1),s=r(2),u=r(6),c=r(4),l=r(5),f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return d(t,e),t},h=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceManager=void 0;var v=p(r(8)),m=r(191),g=r(209),y=r(13),b=r(14),w=r(7),_=r(37),x=function(e){c(r,e);var t=l(r);function r(e){var s;o(this,r),(s=t.call(this))._subtypeManagers=[],s._devices=new Map,s._deviceCounter=0,s._logger=b.ButtplugLogger.Logger,s.Shutdown=function(){return h(u(s),void 0,void 0,i.mark((function e(){var t,r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this._devices.values()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n.Disconnect();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})))},s.ClearDeviceManagers=function(){s._logger.Info("DeviceManager: Clearing device subtype managers"),s._subtypeManagers=[]},s.AddDeviceManager=function(e){s._logger.Info("DeviceManager: Adding Device Manager ".concat(e.constructor.name)),e.SetLogger(s._logger),s._subtypeManagers.push(e),e.addListener("deviceadded",s.OnDeviceAdded),e.addListener("deviceremoved",s.OnDeviceRemoved),e.addListener("scanningfinished",s.OnScanningFinished)},s.SendMessage=function(e){return h(u(s),void 0,void 0,i.mark((function t(){var r,n,o,s,u,c,l,f,d,p,m,g,y,b=this;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.Id,t.t0=e.Type,t.next=t.t0===v.StartScanning?4:t.t0===v.StopScanning?34:t.t0===v.StopAllDevices?38:t.t0===v.RequestDeviceList?41:45;break;case 4:if(this._logger.Debug("DeviceManager: Starting scan"),0!==this._subtypeManagers.length){t.next=7;break}throw w.ButtplugException.LogAndError(w.ButtplugDeviceException,this._logger,"No device managers available, cannot scan.",r);case 7:n=a(this._subtypeManagers),t.prev=8,n.s();case 10:if((o=n.n()).done){t.next=25;break}if((s=o.value).IsScanning){t.next=23;break}return t.prev=13,t.next=16,s.StartScanning();case 16:t.next=23;break;case 18:t.prev=18,t.t1=t.catch(13),u=a(this._subtypeManagers);try{for(u.s();!(c=u.n()).done;)(l=c.value).IsScanning&&l.StopScanning()}catch(_){u.e(_)}finally{u.f()}throw t.t1;case 23:t.next=10;break;case 25:t.next=30;break;case 27:t.prev=27,t.t2=t.catch(8),n.e(t.t2);case 30:return t.prev=30,n.f(),t.finish(30);case 33:return t.abrupt("return",new v.Ok(r));case 34:this._logger.Debug("DeviceManager: Stopping scan"),f=a(this._subtypeManagers);try{for(f.s();!(d=f.n()).done;)(p=d.value).IsScanning&&p.StopScanning()}catch(_){f.e(_)}finally{f.f()}return t.abrupt("return",new v.Ok(r));case 38:return this._logger.Debug("DeviceManager: Stopping all devices"),this._devices.forEach((function(e,t){return h(b,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ParseMessage(new v.StopDeviceCmd);case 2:case"end":return t.stop()}}),t)})))})),t.abrupt("return",new v.Ok(r));case 41:return this._logger.Debug("DeviceManager: Sending device list"),m=[],this._devices.forEach((function(e,t){m.push(new v.DeviceInfoWithSpecifications(t,e.Name,e.MessageSpecifications))})),t.abrupt("return",new v.DeviceList(m,r));case 45:if(void 0!==(g=e).DeviceIndex){t.next=48;break}throw w.ButtplugException.LogAndError(w.ButtplugMessageException,this._logger,"Message Type ".concat(e.Type," unhandled by this server."),r);case 48:if(this._devices.has(g.DeviceIndex)){t.next=50;break}throw w.ButtplugException.LogAndError(w.ButtplugDeviceException,this._logger,"Device Index ".concat(g.DeviceIndex," does not exist"),r);case 50:return y=this._devices.get(g.DeviceIndex),this._logger.Trace("DeviceManager: Sending ".concat(g.Type," to ").concat(y.Name," (").concat(g.Id,")")),t.next=54,y.ParseMessage(g);case 54:return t.abrupt("return",t.sent);case 55:case"end":return t.stop()}}),t,this,[[8,27,30,33],[13,18]])})))},s.OnDeviceAdded=function(e){var t,r=a(s._devices.values());try{for(r.s();!(t=r.n()).done;){if(t.value.Id===e.Id)return void s._logger.Info("DeviceManager: Device ".concat(e.Name," (id: ").concat(e.Id,") already added, ignoring."))}}catch(i){r.e(i)}finally{r.f()}var n=s._deviceCounter;s._deviceCounter+=1,s._devices.set(n,e),s._logger.Info("DeviceManager: Device Added: ".concat(e.Name," (").concat(n,")")),e.addListener("deviceremoved",s.OnDeviceRemoved),s._msgClosure(new v.DeviceAdded(n,e.Name,e.MessageSpecifications))},s.OnDeviceRemoved=function(e){for(var t=null,r=0,i=Array.from(s._devices.entries());r<i.length;r++){var a=n(i[r],2),o=a[0];if(a[1]===e){t=o;break}}null!==t&&(e.removeAllListeners("deviceremoved"),s._devices.delete(t),s._logger.Info("DeviceManager: Device Removed: ".concat(e.Name," (").concat(t,")")),s._msgClosure(new v.DeviceRemoved(t)))},s.OnScanningFinished=function(){s._logger.Debug("DeviceManager: Scanning Finished.");var e,t=a(s._subtypeManagers);try{for(t.s();!(e=t.n()).done;){if(e.value.IsScanning)return}}catch(r){t.e(r)}finally{t.f()}s._msgClosure(new v.ScanningFinished)},s._logger.Debug("DeviceManager: Starting Device Manager");try{_.DeviceConfigurationManager.Manager}catch(c){_.DeviceConfigurationManager.LoadFromInternalConfig()}return"undefined"!==typeof window&&"undefined"!==typeof window.navigator&&navigator.bluetooth?(s.AddDeviceManager(new m.WebBluetoothDeviceManager(s._logger)),s.AddDeviceManager(new g.WebGamepadDeviceManager(s._logger))):s._logger.Info("DeviceManager: Not adding WebBluetooth Manager, no WebBluetooth capabilities found."),s._msgClosure=e,s}return s(r,[{key:"DeviceManagers",get:function(){return this._subtypeManagers}}]),r}(y.EventEmitter);t.DeviceManager=x},function(e,t,r){"use strict";var n=r(90),i=r(9),a=r(0),o=r(16),s=r(1),u=r(2),c=r(6),l=r(4),f=r(5),d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WebBluetoothDeviceManager=void 0;var p=r(14),h=r(7),v=r(13),m=r(37),g=r(38),y=r(208),b=r(22),w=function(e){l(r,e);var t=f(r);function r(e){var n;return s(this,r),(n=t.call(this)).OpenDevice=function(e){return d(c(n),void 0,void 0,a.mark((function t(){var r,n,i,s,u,c,l,f,d;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return");case 2:if(r=m.DeviceConfigurationManager.Manager,n=new g.BluetoothLEProtocolConfiguration([e.name]),void 0!==(i=r.Find(n))){t.next=7;break}return t.abrupt("return");case 7:return s=o(i,2),u=s[0],c=s[1],l=new y.WebBluetoothDevice(u,e),t.next=11,l.Connect();case 11:return f=new c(l),d=new b.ButtplugDevice(f,l),t.next=15,d.Initialize();case 15:this.emit("deviceadded",d);case 16:case"end":return t.stop()}}),t,this)})))},n.SetLogger(void 0!==e?e:p.ButtplugLogger.Logger),n}return u(r,[{key:"SetLogger",value:function(e){this._logger=e}},{key:"StartScanning",value:function(){return d(this,void 0,void 0,a.mark((function e(){var t,r,o,s,u,c,l,f,d,p,v,y;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=navigator.userAgent.toLowerCase(),r=t.indexOf("android")>-1,o=r?{acceptAllDevices:!0,optionalServices:new Array}:{filters:new Array,optionalServices:new Array},s=m.DeviceConfigurationManager.Manager,u=s.GetAllConfigsOfType(g.BluetoothLEProtocolConfiguration),c=i(u);try{for(c.s();!(l=c.n()).done;){if(f=l.value,!r){d=i(f.Names);try{for(d.s();!(p=d.n()).done;){v=p.value;try{v.endsWith("*")&&o.filters.push({namePrefix:v.substr(0,v.length-1)}),o.filters.push({name:v})}catch(a){console.log(a),console.log(f)}}}catch(b){d.e(b)}finally{d.f()}}o.optionalServices=[].concat(n(o.optionalServices),n(f.Services.keys()))}}catch(b){c.e(b)}finally{c.f()}return this._logger.Trace("Bluetooth filter set: "+JSON.stringify(o)),e.prev=8,e.next=11,navigator.bluetooth.requestDevice(o);case 11:y=e.sent,e.next=20;break;case 14:if(e.prev=14,e.t0=e.catch(8),this.emit("scanningfinished"),-1===e.t0.message.indexOf("User cancelled")){e.next=19;break}return e.abrupt("return");case 19:throw h.ButtplugException.LogAndError(h.ButtplugDeviceException,this._logger,"Bluetooth scanning interrupted. Either user cancelled out of dialog, or bluetooth radio is not available. Exception: "+e.t0);case 20:return e.prev=20,e.next=23,this.OpenDevice(y);case 23:e.next=29;break;case 25:throw e.prev=25,e.t1=e.catch(20),this.emit("scanningfinished"),h.ButtplugException.LogAndError(h.ButtplugDeviceException,this._logger,"Cannot open device ".concat(y.name,": ").concat(e.t1));case 29:this.emit("scanningfinished");case 30:case"end":return e.stop()}}),e,this,[[8,14],[20,25]])})))}},{key:"StopScanning",value:function(){}},{key:"IsScanning",get:function(){return!1}}]),r}(v.EventEmitter);t.WebBluetoothDeviceManager=w},function(e,t,r){var n=r(71);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(9),i=r(16),a=r(0),o=r(1),s=r(2),u=r(6),c=r(4),l=r(5),f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return d(t,e),t},h=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Lovense=void 0;var v=p(r(8)),m=r(7),g=function(e){c(r,e);var t=l(r);function r(e){var s;return o(this,r),(s=t.call(this,"Lovense ".concat(e.Name),e))._initPromise=new Promise((function(e){s._initResolve=e})),s._isClockwise=!1,s._specs={VibrateCmd:{FeatureCount:1},SingleMotorVibrateCmd:{},StopDeviceCmd:{}},s.Initialize=function(){return h(u(s),void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._device.addListener("updateReceived",this.OnValueChanged),e.next=3,this._device.SubscribeToUpdates();case 3:return this._logger.Debug("Device ".concat(this._device.Name," waiting for initialization return")),e.next=6,this._device.WriteString("DeviceType;");case 6:return e.next=8,this._initPromise;case 8:case"end":return e.stop()}}),e,this)})))},s.OnValueChanged=function(e){var t=i(e,2),r=(t[0],t[1]);return h(u(s),void 0,void 0,a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this._initResolve){e.next=7;break}return t=r.toString("utf-8"),this._logger.Debug("Lovense Device ".concat(this._device.Name," got initialization return ").concat(t)),this.ParseDeviceType(t),this._initResolve(),this._initResolve=void 0,e.abrupt("return");case 7:case"end":return e.stop()}}),e,this)})))},s.HandleStopDeviceCmd=function(e){return h(u(s),void 0,void 0,a.mark((function t(){return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new v.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:if(!this._specs.hasOwnProperty("RotateCmd")){t.next=5;break}return t.next=5,this.HandleRotateCmd(new v.RotateCmd([new v.RotateSubcommand(0,0,this._isClockwise)],0,e.Id));case 5:return t.abrupt("return",new v.Ok(e.Id));case 6:case"end":return t.stop()}}),t,this)})))},s.HandleSingleMotorVibrateCmd=function(e){return h(u(s),void 0,void 0,a.mark((function t(){var r,n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],n=0;n<this._specs.VibrateCmd.FeatureCount;n++)r.push(new v.SpeedSubcommand(n,e.Speed));return t.next=4,this.HandleVibrateCmd(new v.VibrateCmd(r,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},s.HandleVibrateCmd=function(e){return h(u(s),void 0,void 0,a.mark((function t(){var r,i,o,s,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.Speeds.length>this._specs.VibrateCmd.FeatureCount)){t.next=2;break}throw new m.ButtplugDeviceException("Lovense devices require VibrateCmd to have at most "+"".concat(this._specs.VibrateCmd.FeatureCount," speed commands, ")+"".concat(e.Speeds.length," sent."),e.Id);case 2:r=n(e.Speeds),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=13;break}return o=i.value,s=this._specs.VibrateCmd.FeatureCount>1?(o.Index+1).toString(10):"",u=Math.floor(20*o.Speed),t.next=11,this._device.WriteString("Vibrate".concat(s,":").concat(u,";"));case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:return t.abrupt("return",new v.Ok(e.Id));case 22:case"end":return t.stop()}}),t,this,[[3,15,18,21]])})))},s.HandleRotateCmd=function(e){return h(u(s),void 0,void 0,a.mark((function t(){var r,n;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Rotations.length){t.next=2;break}throw new m.ButtplugDeviceException("Lovense devices require RotateCmd to have 1 rotate command, "+"".concat(e.Rotations.length," sent."),e.Id);case 2:if(0===(r=e.Rotations[0]).Index){t.next=5;break}throw new m.ButtplugDeviceException("Rotation command sent for invalid index.");case 5:if(r.Clockwise===this._isClockwise){t.next=8;break}return t.next=8,this._device.WriteString("RotateChange;");case 8:return n=Math.floor(20*r.Speed),t.next=11,this._device.WriteString("Rotate:".concat(n,";"));case 11:return t.abrupt("return",new v.Ok(e.Id));case 12:case"end":return t.stop()}}),t,this)})))},s}return s(r,[{key:"ParseDeviceType",value:function(e){var t=e.split(":"),n=i(t,2),a=n[0],o=n[1];r._deviceNames.hasOwnProperty(a)||(a="0"),this._name="Lovense ".concat(r._deviceNames[a]," v").concat(o),this.MsgFuncs.set(v.StopDeviceCmd,this.HandleStopDeviceCmd),this.MsgFuncs.set(v.VibrateCmd,this.HandleVibrateCmd),this.MsgFuncs.set(v.SingleMotorVibrateCmd,this.HandleSingleMotorVibrateCmd),"P"===a?this._specs.VibrateCmd={FeatureCount:2}:"A"!==a&&"C"!==a||(this._specs.RotateCmd={FeatureCount:1},this.MsgFuncs.set(v.RotateCmd,this.HandleRotateCmd))}},{key:"MessageSpecifications",get:function(){return this._specs}}]),r}(r(11).ButtplugDeviceProtocol);t.Lovense=g,g._deviceNames={A:"Nora",B:"Max",C:"Nora",L:"Ambi",O:"Osci",P:"Edge",S:"Lush",W:"Domi",Z:"Hush",0:"Unknown"}},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(9),a=r(1),o=r(2),s=r(6),u=r(4),c=r(5),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WeVibe=void 0;var h=d(r(8)),v=r(7),m=function(t){u(l,t);var r=c(l);function l(t){var o;return a(this,l),(o=r.call(this,"WeVibe ".concat(t.Name),t))._vibratorCount=1,o._eightBitSpeed=!1,o._hasRunCommand=!1,o._vibratorSpeed=[0,0],o._max8bit=12,o.HandleVibrateCmd=function(t){return p(s(o),void 0,void 0,n.mark((function r(){var a,o,s,u,c,l,f;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.Speeds.length<1||t.Speeds.length>this._vibratorCount)){r.next=2;break}throw new v.ButtplugDeviceException("WeVibe devices require VibrateCmd at least "+"".concat(this._vibratorCount," speed commands, ").concat(t.Speeds.length," sent."),t.Id);case 2:a=!1,o=i(t.Speeds),r.prev=4,o.s();case 6:if((s=o.n()).done){r.next=14;break}if(u=s.value,Math.abs(u.Speed-this._vibratorSpeed[u.Index])>.001){r.next=10;break}return r.abrupt("continue",12);case 10:a=!0,this._vibratorSpeed[u.Index]=u.Speed;case 12:r.next=6;break;case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),o.e(r.t0);case 19:return r.prev=19,o.f(),r.finish(19);case 22:if(a||!this._hasRunCommand){r.next=24;break}return r.abrupt("return",new h.Ok(t.Id));case 24:return this._hasRunCommand=!0,c=e.from([15,3,0,0,0,3,0,0]),l=0,f=0,this._eightBitSpeed?(l=Math.round(this._vibratorSpeed[0]*this._max8bit),f=Math.round(this._vibratorSpeed[this._vibratorCount-1]*this._max8bit),c[3]=f+3,c[4]=l+3,c[5]=0===l?0:1,c[5]|=0===f?0:2):(l=Math.round(15*this._vibratorSpeed[0]),f=Math.round(15*this._vibratorSpeed[this._vibratorCount-1]),c[3]=f,c[3]|=l<<4),0===l&&0===f&&(c[1]=0,c[3]=0,c[4]=0,c[5]=0),0===l&&0===f&&(c[1]=0,c[5]=0),r.next=33,this._device.WriteValue(c);case 33:return r.abrupt("return",new h.Ok(t.Id));case 34:case"end":return r.stop()}}),r,this,[[4,16,19,22]])})))},o.HandleStopDeviceCmd=function(e){return p(s(o),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},o.HandleSingleMotorVibrateCmd=function(e){return p(s(o),void 0,void 0,n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],i=0;i<this._vibratorCount;i++)r.push(new h.SpeedSubcommand(i,e.Speed));return t.next=4,this.HandleVibrateCmd(new h.VibrateCmd(r,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},o._vibratorCount=l.DualVibes.find((function(e){return e===t.Name}))?2:1,l.NameMap.hasOwnProperty(t.Name)&&(o._name=l.NameMap[t.Name]),"Melt"===t.Name&&(o._max8bit=22),o._eightBitSpeed=!!l.EightBitSpeed.find((function(e){return e===t.Name})),o.MsgFuncs.set(h.StopDeviceCmd,o.HandleStopDeviceCmd),o.MsgFuncs.set(h.SingleMotorVibrateCmd,o.HandleSingleMotorVibrateCmd),o.MsgFuncs.set(h.VibrateCmd,o.HandleVibrateCmd),o}return o(l,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:this._vibratorCount},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),l}(r(11).ButtplugDeviceProtocol);t.WeVibe=m,m.DualVibes=["Cougar","4 Plus","4plus","classic","Classic","Gala","Nova","NOVAV2","Sync","Vector"],m.NameMap={Cougar:"4 Plus","4plus":"4 Plus",classic:"Classic",NOVAV2:"Nova"},m.EightBitSpeed=["Melt","Moxie","Vector"]}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(2),a=r(6),o=r(4),s=r(5),u=r(1),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VorzeA10Cyclone=void 0;var p,h=f(r(8)),v=r(7),m=r(11);!function(e){e[e.Rotate=1]="Rotate",e[e.Vibrate=3]="Vibrate"}(p||(p={}));var g=function e(){u(this,e),this.Name="Vorze A10 Cyclone SA",this.CommandType=p.Rotate,this.DeviceType=1},y=function(t){o(c,t);var r=s(c);function c(t){var i;u(this,c),(i=r.call(this,"Vorze",t))._devInfo=new g,i._clockwise=!0,i._speed=0,i.HandleRotateCmd=function(e){return d(a(i),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Rotations.length){t.next=2;break}throw new v.ButtplugDeviceException("Vorze A10 Cyclone devices require RotateCmd to have 1 rotation command,"+" ".concat(e.Rotations.length," sent."),e.Id);case 2:return t.next=4,this.HandleVorzeA10CycloneCmd(new h.VorzeA10CycloneCmd(100*e.Rotations[0].Speed,e.Rotations[0].Clockwise,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},i.HandleStopDeviceCmd=function(e){return d(a(i),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._devInfo.CommandType!==p.Vibrate){t.next=4;break}return t.next=3,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 3:return t.abrupt("return",t.sent);case 4:return t.next=6,this.HandleVorzeA10CycloneCmd(new h.VorzeA10CycloneCmd(0,!1,e.DeviceIndex,e.Id));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))},i.HandleVorzeA10CycloneCmd=function(t){return d(a(i),void 0,void 0,n.mark((function r(){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=255&((t.Clockwise?1:0)<<7|t.Speed),r.next=3,this._device.WriteValue(e.from([this._devInfo.DeviceType,this._devInfo.CommandType,i]));case 3:return r.abrupt("return",new h.Ok(t.Id));case 4:case"end":return r.stop()}}),r,this)})))},i.HandleVibrateCmd=function(e){return d(a(i),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Speeds.length){t.next=2;break}throw new v.ButtplugDeviceException("Vorze devices require VibrateCmd to have 1 speed commands, "+"".concat(e.Speeds.length," sent."),e.Id);case 2:return t.next=4,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(e.Speeds[0].Speed,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},i.HandleSingleMotorVibrateCmd=function(t){return d(a(i),void 0,void 0,n.mark((function r(){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((i=Math.round(100*t.Speed))===this._speed){r.next=4;break}return r.next=4,this._device.WriteValue(e.from([this._devInfo.DeviceType,this._devInfo.CommandType,i]));case 4:return r.abrupt("return",new h.Ok(t.Id));case 5:case"end":return r.stop()}}),r,this)})))};var o=c.DevInfos.get(t.Name);return void 0!==o&&(i._devInfo=o,i._name=i._devInfo.Name),i.MsgFuncs.set(h.StopDeviceCmd,i.HandleStopDeviceCmd),i._devInfo.CommandType===p.Rotate&&(i.MsgFuncs.set(h.VorzeA10CycloneCmd,i.HandleVorzeA10CycloneCmd),i.MsgFuncs.set(h.RotateCmd,i.HandleRotateCmd)),i._devInfo.CommandType===p.Vibrate&&(i.MsgFuncs.set(h.SingleMotorVibrateCmd,i.HandleSingleMotorVibrateCmd),i.MsgFuncs.set(h.VibrateCmd,i.HandleVibrateCmd)),i}return i(c,[{key:"MessageSpecifications",get:function(){return this._devInfo.CommandType===p.Vibrate?{VibrateCmd:{FeatureCount:1},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}:{RotateCmd:{FeatureCount:1},VorzeA10CycloneCmd:{},StopDeviceCmd:{}}}}]),c}(m.ButtplugDeviceProtocol);t.VorzeA10Cyclone=y,y.DevInfos=new Map([["CycSA",Object.assign(new g,{Name:"Vorze A10 Cyclone SA",CommandType:p.Rotate,DeviceType:1})],["UFOSA",Object.assign(new g,{Name:"Vorze UFO SA",CommandType:p.Rotate,DeviceType:2})],["Bach smart",Object.assign(new g,{Name:"Vorze Bach",CommandType:p.Vibrate,DeviceType:6})]])}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(9),a=r(2),o=r(6),s=r(4),u=r(5),c=r(1),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MagicMotion=void 0;var h=d(r(8)),v=r(7),m=r(11),g=function e(){c(this,e),this.Brand="MagicMotion",this.Name="Smart Mini Vibe",this.VibeCount=1,this.Protocol=1,this.MaxSpeed=100},y=function(t){s(l,t);var r=u(l);function l(t){var a;c(this,l),(a=r.call(this,"MagicMotion",t))._devInfo=new g,a._hasRunCommand=!1,a._vibratorSpeed=[0,0],a.HandleVibrateCmd=function(t){return p(o(a),void 0,void 0,n.mark((function r(){var a,o,s,u,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.Speeds.length<1||t.Speeds.length>this._devInfo.VibeCount)){r.next=2;break}throw new v.ButtplugDeviceException("MagicMotionn devices require VibrateCmd at most "+"".concat(this._devInfo.VibeCount," speed commands, ").concat(t.Speeds.length," sent."),t.Id);case 2:a=!1,o=i(t.Speeds),r.prev=4,o.s();case 6:if((s=o.n()).done){r.next=14;break}if(u=s.value,Math.abs(u.Speed-this._vibratorSpeed[u.Index])>.001){r.next=10;break}return r.abrupt("continue",12);case 10:a=!0,this._vibratorSpeed[u.Index]=u.Speed;case 12:r.next=6;break;case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),o.e(r.t0);case 19:return r.prev=19,o.f(),r.finish(19);case 22:if(a||!this._hasRunCommand){r.next=24;break}return r.abrupt("return",new h.Ok(t.Id));case 24:r.t1=this._devInfo.Protocol,r.next=1===r.t1?27:2===r.t1?30:3===r.t1?34:37;break;case 27:return(c=e.from([11,255,4,10,50,50,0,4,8,0,100,0]))[9]=Math.round(this._vibratorSpeed[0]*this._devInfo.MaxSpeed),r.abrupt("break",38);case 30:return(c=e.from([16,255,4,10,50,10,0,4,8,0,100,0,4,8,0,100,1]))[9]=Math.round(this._vibratorSpeed[0]*this._devInfo.MaxSpeed),this._devInfo.VibeCount>=2&&(c[14]=Math.round(this._vibratorSpeed[1]*this._devInfo.MaxSpeed)),r.abrupt("break",38);case 34:return(c=e.from([11,255,4,10,70,70,0,4,8,0,100,0]))[9]=Math.round(this._vibratorSpeed[0]*this._devInfo.MaxSpeed),r.abrupt("break",38);case 37:throw new v.ButtplugDeviceException("Unknown communication protocol.");case 38:return this._hasRunCommand=!0,r.next=41,this._device.WriteValue(c);case 41:return r.abrupt("return",new h.Ok(t.Id));case 42:case"end":return r.stop()}}),r,this,[[4,16,19,22]])})))},a.HandleStopDeviceCmd=function(e){return p(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleSingleMotorVibrateCmd=function(e){return p(o(a),void 0,void 0,n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],i=0;i<this._devInfo.VibeCount;i++)r.push(new h.SpeedSubcommand(i,e.Speed));return t.next=4,this.HandleVibrateCmd(new h.VibrateCmd(r,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))};var s=l.DevInfos.get(t.Name);return void 0!==s&&(a._devInfo=s,a._name="".concat(a._devInfo.Brand," ").concat(a._devInfo.Name)),a.MsgFuncs.set(h.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(h.SingleMotorVibrateCmd,a.HandleSingleMotorVibrateCmd),a.MsgFuncs.set(h.VibrateCmd,a.HandleVibrateCmd),a}return a(l,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:this._devInfo.VibeCount},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),l}(m.ButtplugDeviceProtocol);t.MagicMotion=y,y.DevInfos=new Map([["Smart Mini Vibe",Object.assign(new g,{Brand:"MagicMotion",Name:"Smart Mini Vibe",VibeCount:1,Protocol:1,MaxSpeed:100})],["Flamingo",Object.assign(new g,{Brand:"MagicMotion",Name:"Flamingo",VibeCount:1,Protocol:1,MaxSpeed:100})],["Magic Cell",Object.assign(new g,{Brand:"MagicMotion",Name:"Dante/Candy",VibeCount:1,Protocol:1,MaxSpeed:100})],["Eidolon",Object.assign(new g,{Brand:"MagicMotion",Name:"Eidolon",VibeCount:2,Protocol:2,MaxSpeed:100})],["Smart Bean",Object.assign(new g,{Brand:"MagicMotion",Name:"Kegel",VibeCount:1,Protocol:1,MaxSpeed:100})],["Magic Wand",Object.assign(new g,{Brand:"MagicMotion",Name:"Wand",VibeCount:1,Protocol:1,MaxSpeed:100})],["Krush",Object.assign(new g,{Brand:"LoveLife",Name:"Krush",VibeCount:1,Protocol:3,MaxSpeed:77})],["Smart Mini Vibe3",Object.assign(new g,{Brand:"MagicMotion",Name:"Vini",VibeCount:1,Protocol:1,MaxSpeed:100})],["Fugu",Object.assign(new g,{Brand:"MagicMotion",Name:"Fugu",VibeCount:1,Protocol:1,MaxSpeed:100})],["Lipstick",Object.assign(new g,{Brand:"MagicMotion",Name:"Awaken",VibeCount:1,Protocol:2,MaxSpeed:100})],["Sword",Object.assign(new g,{Brand:"MagicMotion",Name:"Equinox",VibeCoun:1,Protocol:2,MaxSpeed:100})],["Curve",Object.assign(new g,{Brand:"MagicMotion",Name:"Solstice",VibeCount:1,Protocol:2,MaxSpeed:100})]])}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(9),a=r(2),o=r(6),s=r(4),u=r(5),c=r(1),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LiBo=void 0;var h=d(r(8)),v=r(7),m=r(11),g=r(15),y=r(24),b=function e(){c(this,e),this.Name="Lottie",this.VibeCount=1,this.VibeOrder=[0,1]},w=function(t){s(l,t);var r=u(l);function l(t){var a;c(this,l),(a=r.call(this,"LiBo",t))._devInfo=new b,a._hasRunCommand=!1,a._vibratorSpeed=[0,0],a.HandleVibrateCmd=function(t){return p(o(a),void 0,void 0,n.mark((function r(){var a,o,s,u,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.Speeds.length<1||t.Speeds.length>this._devInfo.VibeCount)){r.next=2;break}throw new v.ButtplugDeviceException("Libo devices require VibrateCmd to have at most "+"".concat(this._devInfo.VibeCount," speed commands, ").concat(t.Speeds.length," sent."),t.Id);case 2:a=[!1,!1],o=i(t.Speeds),r.prev=4,o.s();case 6:if((s=o.n()).done){r.next=14;break}if(u=s.value,Math.abs(u.Speed-this._vibratorSpeed[u.Index])>.001){r.next=10;break}return r.abrupt("continue",12);case 10:a[u.Index]=!0,this._vibratorSpeed[u.Index]=u.Speed;case 12:r.next=6;break;case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),o.e(r.t0);case 19:return r.prev=19,o.f(),r.finish(19);case 22:if(!a[this._devInfo.VibeOrder[0]]&&this._hasRunCommand){r.next=27;break}return c=g.Endpoints.Tx,1===this._devInfo.VibeCount&&0===Math.ceil(100*this._vibratorSpeed[this._devInfo.VibeOrder[0]])&&(c=g.Endpoints.TxMode),r.next=27,this._device.WriteValue(e.from([Math.ceil(100*this._vibratorSpeed[this._devInfo.VibeOrder[0]])]),new y.ButtplugDeviceWriteOptions({Endpoint:c}));case 27:if(!(this._devInfo.VibeCount<2||!a[this._devInfo.VibeOrder[1]]&&this._hasRunCommand)){r.next=30;break}return this._devInfo.VibeCount<2&&(this._hasRunCommand=!0),r.abrupt("return",new h.Ok(t.Id));case 30:return this._hasRunCommand=!0,r.next=33,this._device.WriteValue(e.from([Math.ceil(3*this._vibratorSpeed[this._devInfo.VibeOrder[1]])]),new y.ButtplugDeviceWriteOptions({Endpoint:g.Endpoints.TxMode}));case 33:return r.abrupt("return",new h.Ok(t.Id));case 34:case"end":return r.stop()}}),r,this,[[4,16,19,22]])})))},a.HandleStopDeviceCmd=function(e){return p(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleSingleMotorVibrateCmd=function(e){return p(o(a),void 0,void 0,n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],i=0;i<this._devInfo.VibeCount;i++)r.push(new h.SpeedSubcommand(i,e.Speed));return t.next=4,this.HandleVibrateCmd(new h.VibrateCmd(r,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))};var s=l.DevInfos.get(t.Name);return void 0!==s&&(a._devInfo=s,a._name="LiBo ".concat(a._devInfo.Name)),a.MsgFuncs.set(h.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(h.SingleMotorVibrateCmd,a.HandleSingleMotorVibrateCmd),a.MsgFuncs.set(h.VibrateCmd,a.HandleVibrateCmd),a}return a(l,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:this._devInfo.VibeCount},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),l}(m.ButtplugDeviceProtocol);t.LiBo=w,w.DevInfos=new Map([["PiPiJing",Object.assign(new b,{Name:"Elle",VibeCount:2,VibeOrder:[1,0]})],["XiaoLu",Object.assign(new b,{Name:"Lottie",VibeCount:1})],["SuoYinQiu",Object.assign(new b,{Name:"Karen",VibeCount:0})],["BaiHu",Object.assign(new b,{Name:"LaLa",VibeCount:2})],["LuXiaoHan",Object.assign(new b,{Name:"LuLu",VibeCount:1})],["MonsterPub",Object.assign(new b,{Name:"MonsterPub",VibeCount:1})]])}).call(this,r(12).Buffer)},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Youcups=void 0;var p=f(r(8)),h=r(7),v=function(e){s(r,e);var t=u(r);function r(e){var a;return i(this,r),(a=t.call(this,"Youou ".concat(e.Name),e))._speed=0,a._sentVibration=!1,a.HandleVibrateCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Speeds.length){t.next=2;break}throw new h.ButtplugDeviceException("Youcups devices require VibrateCmd to have 1 speed commands, "+"".concat(e.Speeds.length," sent."),e.Id);case 2:return t.next=4,this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(e.Speeds[0].Speed,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},a.HandleStopDeviceCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleSingleMotorVibrateCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){var r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Math.round(8*e.Speed))===this._speed&&this._sentVibration){t.next=6;break}return this._sentVibration=!0,this._speed=r,t.next=6,this._device.WriteString("$SYS,".concat(r,"?"));case 6:return t.abrupt("return",new p.Ok(e.Id));case 7:case"end":return t.stop()}}),t,this)})))},a.MsgFuncs.set(p.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(p.SingleMotorVibrateCmd,a.HandleSingleMotorVibrateCmd),a.MsgFuncs.set(p.VibrateCmd,a.HandleVibrateCmd),a}return a(r,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:1},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),r}(r(11).ButtplugDeviceProtocol);t.Youcups=v},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Maxpro=void 0;var p=f(r(8)),h=r(7),v=function(t){s(c,t);var r=u(c);function c(t){var a;return i(this,c),(a=r.call(this,"Maxpro ".concat(t.Name),t)).HandleVibrateCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Speeds.length){t.next=2;break}throw new h.ButtplugDeviceException("Maxpro devices require VibrateCmd to have 1 speed command, "+"".concat(e.Speeds.length," sent."),e.Id);case 2:return t.next=4,this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(e.Speeds[0].Speed,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},a.HandleStopDeviceCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleSingleMotorVibrateCmd=function(t){return d(o(a),void 0,void 0,n.mark((function r(){var i,a,o;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Math.floor(100*t.Speed),a=e.from([85,4,7,255,255,63,i,95,i,0]),o=255&a.reduce((function(e,t){return e+t})),a[9]=o,r.next=6,this._device.WriteValue(a);case 6:return r.abrupt("return",new p.Ok(t.Id));case 7:case"end":return r.stop()}}),r,this)})))},a.MsgFuncs.set(p.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(p.SingleMotorVibrateCmd,a.HandleSingleMotorVibrateCmd),a.MsgFuncs.set(p.VibrateCmd,a.HandleVibrateCmd),a}return a(c,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:1},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),c}(r(11).ButtplugDeviceProtocol);t.Maxpro=v}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FleshlightLaunch=void 0;var p=f(r(8)),h=r(7),v=r(11),m=r(15),g=r(24),y=function(t){s(c,t);var r=u(c);function c(t){var a;return i(this,c),(a=r.call(this,"Fleshlight Launch",t))._lastPosition=0,a.Initialize=function(){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._logger.Debug("Calling Fleshlight Launch initialize on ".concat(this._device.Name)),t.next=3,this._device.WriteValue(e.from([0]),new g.ButtplugDeviceWriteOptions({Endpoint:m.Endpoints.Firmware,WriteWithResponse:!0}));case 3:case"end":return t.stop()}}),t,this)})))},a.HandleStopDeviceCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleFleshlightLaunchFW12Cmd(new p.FleshlightLaunchFW12Cmd(0,0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleFleshlightLaunchFW12Cmd=function(t){return d(o(a),void 0,void 0,n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._lastPosition=t.Position,r.next=3,this._device.WriteValue(e.from([t.Position,t.Speed]));case 3:return r.abrupt("return",new p.Ok(t.Id));case 4:case"end":return r.stop()}}),r,this)})))},a.HandleLinearCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){var r,i,a,o,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Vectors.length){t.next=2;break}throw new h.ButtplugDeviceException("LinearCmd requires 1 vector for this device.",e.Id);case 2:return 90,r=e.Vectors[0],i=100*r.Position,a=Math.abs(i-this._lastPosition),o=Math.floor(25e3*Math.pow(90*r.Duration/a,-1.05)),o=Math.min(Math.max(o,0),95),s=Math.floor(i/99*90+4.5),t.next=11,this.HandleFleshlightLaunchFW12Cmd(new p.FleshlightLaunchFW12Cmd(o,s,e.DeviceIndex,e.Id));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)})))},a.MsgFuncs.set(p.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(p.FleshlightLaunchFW12Cmd,a.HandleFleshlightLaunchFW12Cmd),a.MsgFuncs.set(p.LinearCmd,a.HandleLinearCmd),a}return a(c,[{key:"MessageSpecifications",get:function(){return{FleshlightLaunchFW12Cmd:{},StopDeviceCmd:{},LinearCmd:{FeatureCount:1}}}}]),c}(v.ButtplugDeviceProtocol);t.FleshlightLaunch=y}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(9),a=r(2),o=r(6),s=r(4),u=r(5),c=r(1),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KiirooGen2Vibe=void 0;var h=d(r(8)),v=r(7),m=r(11),g=function e(){c(this,e),this.Brand="MagicMotion",this.Name="Smart Mini Vibe",this.VibeCount=1,this.VibeOrder=[0,1,2]},y=function(t){s(l,t);var r=u(l);function l(t){var a;c(this,l),(a=r.call(this,"Kiiroo ".concat(t.Name),t))._devInfo=new g,a._hasRunCommand=!1,a._vibratorSpeed=[0,0,0],a.HandleVibrateCmd=function(t){return p(o(a),void 0,void 0,n.mark((function r(){var a,o,s,u,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.Speeds.length<1||t.Speeds.length>this._devInfo.VibeCount)){r.next=2;break}throw new v.ButtplugDeviceException("Kiiroo Gen 2 Vibrator devices require VibrateCmd at most "+"".concat(this._devInfo.VibeCount," speed commands, ").concat(t.Speeds.length," sent."),t.Id);case 2:a=!1,o=i(t.Speeds),r.prev=4,o.s();case 6:if((s=o.n()).done){r.next=14;break}if(u=s.value,Math.abs(u.Speed-this._vibratorSpeed[u.Index])>.001){r.next=10;break}return r.abrupt("continue",12);case 10:a=!0,this._vibratorSpeed[u.Index]=u.Speed;case 12:r.next=6;break;case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),o.e(r.t0);case 19:return r.prev=19,o.f(),r.finish(19);case 22:if(a||!this._hasRunCommand){r.next=24;break}return r.abrupt("return",new h.Ok(t.Id));case 24:return c=e.from([100*this._vibratorSpeed[this._devInfo.VibeOrder[0]],100*this._vibratorSpeed[this._devInfo.VibeOrder[0]],100*this._vibratorSpeed[this._devInfo.VibeOrder[0]]]),this._hasRunCommand=!0,r.next=28,this._device.WriteValue(c);case 28:return r.abrupt("return",new h.Ok(t.Id));case 29:case"end":return r.stop()}}),r,this,[[4,16,19,22]])})))},a.HandleStopDeviceCmd=function(e){return p(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleSingleMotorVibrateCmd=function(e){return p(o(a),void 0,void 0,n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],i=0;i<this._devInfo.VibeCount;i++)r.push(new h.SpeedSubcommand(i,e.Speed));return t.next=4,this.HandleVibrateCmd(new h.VibrateCmd(r,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))};var s=l.DevInfos.get(t.Name);return void 0!==s&&(a._devInfo=s,a._name="".concat(a._devInfo.Brand," ").concat(t.Name)),a.MsgFuncs.set(h.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(h.SingleMotorVibrateCmd,a.HandleSingleMotorVibrateCmd),a.MsgFuncs.set(h.VibrateCmd,a.HandleVibrateCmd),a}return a(l,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:this._devInfo.VibeCount},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),l}(m.ButtplugDeviceProtocol);t.KiirooGen2Vibe=y,y.DevInfos=new Map([["Pearl2",Object.assign(new g,{Brand:"Kiiroo",VibeCount:1,VibeOrder:[0,1,2]})],["Fuse",Object.assign(new g,{Brand:"OhMiBod",VibeCount:2,VibeOrder:[1,0,2]})],["Virtual Blowbot",Object.assign(new g,{Brand:"PornHub",VibeCount:3,VibeOrder:[0,1,2]})],["Titan",Object.assign(new g,{Brand:"Kiiroo",VibeCount:3,VibeOrder:[0,1,2]})]])}).call(this,r(12).Buffer)},function(e){e.exports=JSON.parse('{"connection-info-types":["btle","serial","usb","hid"],"protocols":{"lovense":{"btle":{"names":["LVS-*"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff2-0000-1000-8000-00805f9b34fb","rx":"0000fff1-0000-1000-8000-00805f9b34fb"},"6e400001-b5a3-f393-e0a9-e50e24dcca9e":{"tx":"6e400002-b5a3-f393-e0a9-e50e24dcca9e","rx":"6e400003-b5a3-f393-e0a9-e50e24dcca9e"},"50300001-0024-4bd4-bbd5-a6920e4c5653":{"tx":"50300002-0024-4bd4-bbd5-a6920e4c5653","rx":"50300003-0024-4bd4-bbd5-a6920e4c5653"},"57300001-0023-4bd4-bbd5-a6920e4c5653":{"tx":"57300002-0023-4bd4-bbd5-a6920e4c5653","rx":"57300003-0023-4bd4-bbd5-a6920e4c5653"},"5a300001-0024-4bd4-bbd5-a6920e4c5653":{"tx":"5a300002-0024-4bd4-bbd5-a6920e4c5653","rx":"5a300003-0024-4bd4-bbd5-a6920e4c5653"},"50300001-0023-4bd4-bbd5-a6920e4c5653":{"tx":"50300002-0023-4bd4-bbd5-a6920e4c5653","rx":"50300003-0023-4bd4-bbd5-a6920e4c5653"},"53300001-0023-4bd4-bbd5-a6920e4c5653":{"tx":"53300002-0023-4bd4-bbd5-a6920e4c5653","rx":"53300003-0023-4bd4-bbd5-a6920e4c5653"},"5a300001-0023-4bd4-bbd5-a6920e4c5653":{"tx":"5a300002-0023-4bd4-bbd5-a6920e4c5653","rx":"5a300003-0023-4bd4-bbd5-a6920e4c5653"},"4f300001-0023-4bd4-bbd5-a6920e4c5653":{"tx":"4f300002-0023-4bd4-bbd5-a6920e4c5653","rx":"4f300003-0023-4bd4-bbd5-a6920e4c5653"},"42300001-0023-4bd4-bbd5-a6920e4c5653":{"tx":"42300002-0023-4bd4-bbd5-a6920e4c5653","rx":"42300003-0023-4bd4-bbd5-a6920e4c5653"}}}},"xinput":null,"libo":{"btle":{"names":["PiPiJing","XiaoLu","LuXiaoHan","SuoYinQiu","BaiHu","MonsterPub","Gugudai","ShaYu","Yuyi","LuWuShuang","LiBo","QingTing","Shuidi","Huohu"],"services":{"00006000-0000-1000-8000-00805f9b34fb":{"tx":"00006001-0000-1000-8000-00805f9b34fb","txmode":"00006002-0000-1000-8000-00805f9b34fb"}}}},"magic-motion":{"btle":{"names":["Smart Mini Vibe*","Flamingo","Eidolon","Smart Bean","Magic Cell","Magic Wand","Fugu","Krush","Lipstick","Sword","Curve"],"services":{"78667579-7b48-43db-b8c5-7928a6b0a335":{"tx":"78667579-a914-49a4-8333-aa3c0cd8fedc"}}}},"mysteryvibe":{"btle":{"names":["MV Crescendo","MV Tenuto*"],"services":{"f0006900-110c-478b-b74b-6f403b364a9c":{"txmode":"f0006901-110c-478b-b74b-6f403b364a9c","txvibrate":"f0006903-110c-478b-b74b-6f403b364a9c"}}}},"picobong":{"btle":{"names":["Blow hole","Picobong Male Toy","Diver","Picobong Egg","Life guard","Picobong Ring","Surfer","Picobong Butt Plug","Egg driver","Surfer_plug"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff1-0000-1000-8000-00805f9b34fb"}}}},"vibratissimo":{"btle":{"names":["Vibratissimo"],"services":{"00001523-1212-efde-1523-785feabcd123":{"txmode":"00001524-1212-efde-1523-785feabcd123","txvibrate":"00001526-1212-efde-1523-785feabcd123","rx":"00001527-1212-efde-1523-785feabcd123"}}}},"wevibe":{"btle":{"names":["Cougar","4 Plus","4_Plus","4plus","Bloom","classic","Classic","Ditto","Gala","Jive","Melt","Moxie","Nova","NOVAV2","Pivot","Rey","We-Vibe Rocketman","Rave","Reina","imassager","Interactive Massager","03","Sync","Vector","Verge","Wish"],"services":{"f000bb03-0451-4000-b000-000000000000":{"tx":"f000c000-0451-4000-b000-000000000000","rx":"f000b000-0451-4000-b000-000000000000"}}}},"youcups":{"btle":{"names":["Youcups"],"services":{"0000fee9-0000-1000-8000-00805f9b34fb":{"tx":"d44bc439-abfd-45a2-b575-925416129600"}}}},"cueme":{"btle":{"names":["FUNCODE_*"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff1-0000-1000-8000-00805f9b34fb"}}}},"kiiroo-v2-vibrator":{"btle":{"names":["Pearl2","Fuse","Virtual Blowbot","Titan"],"services":{"88f82580-0000-01e6-aace-0002a5d5c51b":{"tx":"88f82581-0000-01e6-aace-0002a5d5c51b","rxtouch":"88f82582-0000-01e6-aace-0002a5d5c51b","rxaccel":"88f82584-0000-01e6-aace-0002a5d5c51b"}}}},"kiiroo-v21":{"btle":{"names":["Onyx2.1","Titan1.1"],"services":{"00001900-0000-1000-8000-00805f9b34fb":{"whitelist":"00001901-0000-1000-8000-00805f9b34fb","tx":"00001902-0000-1000-8000-00805f9b34fb","rx":"00001903-0000-1000-8000-00805f9b34fb"}}}},"kiiroo-v21-vibrator":{"btle":{"names":["Cliona"],"services":{"00001900-0000-1000-8000-00805f9b34fb":{"whitelist":"00001901-0000-1000-8000-00805f9b34fb","tx":"00001902-0000-1000-8000-00805f9b34fb","rx":"00001903-0000-1000-8000-00805f9b34fb"}}}},"kiiroo-v2":{"btle":{"names":["Launch","Onyx2"],"services":{"88f80580-0000-01e6-aace-0002a5d5c51b":{"tx":"88f80581-0000-01e6-aace-0002a5d5c51b","rx":"88f80582-0000-01e6-aace-0002a5d5c51b","firmware":"88f80583-0000-01e6-aace-0002a5d5c51b"},"f60402a6-0293-4bdb-9f20-6758133f7090":{"tx":"02962ac9-e86f-4094-989d-231d69995fc2","rx":"d44d0393-0731-43b3-a373-8fc70b1f3323","firmware":"c7b7a04b-2cc4-40ff-8b10-5d531d1161db"}}}},"erostek-et312":{"serial":{"baud-rate":19200,"data-bits":8,"parity":"N","stop-bits":1}},"vorze-cyclone-x":{"hid":{"vendor-id":1155,"product-id":22352}},"rez-trancevibrator":{"usb":{"vendor-id":2889,"product-id":1615}},"kiiroo-v1":{"btle":{"names":["ONYX","PEARL"],"services":{"49535343-fe7d-4ae5-8fa9-9fafd205e455":{"rx":"49535343-1e4d-4bd9-ba61-23c647249616","tx":"49535343-8841-43f4-a8d4-ecbe34729bb3","command":"49535343-aca3-481c-91ec-d85e28a60318","cmd2":"49535343-6daa-4d02-abf6-19569aca69fe"}}}},"vorze-sa":{"btle":{"names":["CycSA","Bach smart","UFOSA"],"services":{"40ee1111-63ec-4b7f-8ce7-712efd55b90e":{"tx":"40ee2222-63ec-4b7f-8ce7-712efd55b90e"}}}},"youou":{"btle":{"names":["VX001_*"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff6-0000-1000-8000-00805f9b34fb"}}}},"realtouch":{"hid":{"vendor-id":8020,"product-id":1}},"prettylove":{"btle":{"names":["Aogu BLE *"],"services":{"0000ffe5-0000-1000-8000-00805f9b34fb":{"tx":"0000ffe9-0000-1000-8000-00805f9b34fb","rx":"0000ffe2-0000-1000-8000-00805f9b34fb"}}}},"svakom":{"btle":{"names":["Aogu SCB"],"services":{"0000ffe0-0000-1000-8000-00805f9b34fb":{"tx":"0000ffe1-0000-1000-8000-00805f9b34fb","rx":"0000ffe2-0000-1000-8000-00805f9b34fb"}}}},"realov":{"btle":{"names":["REALOV_VIBE"],"services":{"0000ffe0-0000-1000-8000-00805f9b34fb":{"tx":"0000ffe1-0000-1000-8000-00805f9b34fb"}}}},"motorbunny":{"btle":{"names":["MB Controller"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff6-0000-1000-8000-00805f9b34fb"}}}},"zalo":{"btle":{"names":["ZALO-Queen"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff1-0000-1000-8000-00805f9b34fb"}}}},"sayberx":{"btle":{"names":["SayberX"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff6-0000-1000-8000-00805f9b34fb"}}}},"muse":{"btle":{"names":["WB-ZDB-WST","WB-TDD"],"services":{"0000aaa0-0000-1000-8000-00805f9b34fb":{"tx":"0000aaa1-0000-1000-8000-00805f9b34fb"}}}},"lelo-f1s":{"btle":{"names":["F1s"],"services":{"0000fff0-0000-1000-8000-00805f9b34fb":{"tx":"0000fff1-0000-1000-8000-00805f9b34fb"}}}},"aneros":{"btle":{"names":["Massage Demo"],"services":{"0000ff00-0000-1000-8000-00805f9b34fb":{"tx":"0000ff01-0000-1000-8000-00805f9b34fb"}}}},"lovehoney-desire":{"btle":{"names":["PROSTATE VIBE","KNICKER VIBE"],"services":{"0000ff00-0000-1000-8000-00805f9b34fb":{"tx":"0000ff01-0000-1000-8000-00805f9b34fb"}}}},"twerkingbutt":{"btle":{"names":["BODIKANG","Twerking Butt","TwerkingButt"],"services":{"00000a60-0000-1000-8000-00805f9b34fb":{"tx":"00000a66-0000-1000-8000-00805f9b34fb","rx":"00000a67-0000-1000-8000-00805f9b34fb"}}}}}}')},function(e,t,r){"use strict";(function(e){var n=r(9),i=r(0),a=r(1),o=r(2),s=r(6),u=r(4),c=r(5),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Youou=void 0;var h=d(r(8)),v=r(7),m=r(11),g=r(25),y=r(15),b=function(t){u(l,t);var r=c(l);function l(t){var o;return a(this,l),(o=r.call(this,"Youou ".concat(t.Name),t))._packetId=0,o.Initialize=function(){return p(s(o),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("Calling Youou initialize on ".concat(this._device.Name)),e.next=3,this._device.ReadValue(new g.ButtplugDeviceReadOptions({Endpoint:y.Endpoints.Tx}));case 3:case"end":return e.stop()}}),e,this)})))},o.HandleVibrateCmd=function(e){return p(s(o),void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Speeds.length){t.next=2;break}throw new v.ButtplugDeviceException("Youou devices require VibrateCmd to have 1 speed commands, "+"".concat(e.Speeds.length," sent."),e.Id);case 2:return t.next=4,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(e.Speeds[0].Speed,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},o.HandleStopDeviceCmd=function(e){return p(s(o),void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},o.HandleSingleMotorVibrateCmd=function(t){return p(s(o),void 0,void 0,i.mark((function r(){var a,o,s,u,c,l,f,d;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:247,a=247*t.Speed,o=t.Speed>0?1:0,s=e.from([170,85,this._packetId,2,3,1,a,o]),u=0,c=n(s);try{for(c.s();!(l=c.n()).done;)f=l.value,u^=f}catch(i){c.e(i)}finally{c.f()}return d=e.concat([s,e.from([u,255,0,0,0,0,0,0,0])]),this._packetId+=1,this._packetId>255&&(this._packetId=0),r.next=12,this._device.WriteValue(d);case 12:return r.abrupt("return",new h.Ok(t.Id));case 13:case"end":return r.stop()}}),r,this)})))},o.MsgFuncs.set(h.StopDeviceCmd,o.HandleStopDeviceCmd),o.MsgFuncs.set(h.SingleMotorVibrateCmd,o.HandleSingleMotorVibrateCmd),o.MsgFuncs.set(h.VibrateCmd,o.HandleVibrateCmd),o}return o(l,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:1},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),l}(m.ButtplugDeviceProtocol);t.Youou=b}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KiirooGen21=void 0;var p=f(r(8)),h=r(7),v=function(t){s(c,t);var r=u(c);function c(t){var a;return i(this,c),(a=r.call(this,"Kiiroo Onyx 2.1",t))._lastPosition=0,a.HandleStopDeviceCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleFleshlightLaunchFW12Cmd(new p.FleshlightLaunchFW12Cmd(0,0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleFleshlightLaunchFW12Cmd=function(t){return d(o(a),void 0,void 0,n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._lastPosition=t.Position,r.next=3,this._device.WriteValue(e.from([3,0,t.Speed,t.Position]));case 3:return r.abrupt("return",new p.Ok(t.Id));case 4:case"end":return r.stop()}}),r,this)})))},a.HandleLinearCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){var r,i,a,o,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Vectors.length){t.next=2;break}throw new h.ButtplugDeviceException("LinearCmd requires 1 vector for this device.",e.Id);case 2:return 99,r=e.Vectors[0],i=100*r.Position,a=Math.abs(i-this._lastPosition),o=Math.floor(25e3*Math.pow(90*r.Duration/a,-1.05)),o=Math.min(Math.max(o,0),95),s=Math.floor(i/99*99+0),t.next=11,this.HandleFleshlightLaunchFW12Cmd(new p.FleshlightLaunchFW12Cmd(o,s,e.DeviceIndex,e.Id));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)})))},a.MsgFuncs.set(p.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(p.FleshlightLaunchFW12Cmd,a.HandleFleshlightLaunchFW12Cmd),a.MsgFuncs.set(p.LinearCmd,a.HandleLinearCmd),a}return a(c,[{key:"MessageSpecifications",get:function(){return{FleshlightLaunchFW12Cmd:{},StopDeviceCmd:{},LinearCmd:{FeatureCount:1}}}}]),c}(r(11).ButtplugDeviceProtocol);t.KiirooGen21=v}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return l(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Motorbunny=void 0;var p=f(r(8)),h=r(7),v=function(t){s(c,t);var r=u(c);function c(t){var a;return i(this,c),(a=r.call(this,"Motorbunny",t)).HandleVibrateCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.Speeds.length){t.next=2;break}throw new h.ButtplugDeviceException("Motorbunny devices require VibrateCmd to have 1 speed command, "+"".concat(e.Speeds.length," sent."),e.Id);case 2:return t.next=4,this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(e.Speeds[0].Speed,e.DeviceIndex,e.Id));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))},a.HandleRotateCmd=function(t){return d(o(a),void 0,void 0,n.mark((function r(){var i,a,o,s,u;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1===t.Rotations.length){r.next=2;break}throw new h.ButtplugDeviceException("Motorbunny devices require RotateCmd to have 1 speed command, "+"".concat(t.Rotations.length," sent."),t.Id);case 2:if(!((i=Math.floor(255*t.Rotations[0].Speed))<5)){r.next=8;break}return a=e.from([160,0,0,0,0,236]),r.next=7,this._device.WriteValue(a);case 7:return r.abrupt("return",new p.Ok(t.Id));case 8:for(o=[],s=0;s<7;++s)o=o.concat([t.Rotations[0].Clockwise?42:41,i]);return u=255&o.reduce((function(e,t){return e+t})),o=[175].concat(o).concat([u,236]),r.next=14,this._device.WriteValue(e.from(o));case 14:return r.abrupt("return",new p.Ok(t.Id));case 15:case"end":return r.stop()}}),r,this)})))},a.HandleStopDeviceCmd=function(e){return d(o(a),void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new p.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},a.HandleSingleMotorVibrateCmd=function(t){return d(o(a),void 0,void 0,n.mark((function r(){var i,a,o,s,u;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((i=Math.floor(255*t.Speed))<5)){r.next=6;break}return a=e.from([240,0,0,0,0,236]),r.next=5,this._device.WriteValue(a);case 5:return r.abrupt("return",new p.Ok(t.Id));case 6:for(o=[],s=0;s<7;++s)o=o.concat([i,20]);return u=255&o.reduce((function(e,t){return e+t})),o=[255].concat(o).concat([u,236]),r.next=12,this._device.WriteValue(e.from(o));case 12:return r.abrupt("return",new p.Ok(t.Id));case 13:case"end":return r.stop()}}),r,this)})))},a.MsgFuncs.set(p.StopDeviceCmd,a.HandleStopDeviceCmd),a.MsgFuncs.set(p.SingleMotorVibrateCmd,a.HandleSingleMotorVibrateCmd),a.MsgFuncs.set(p.VibrateCmd,a.HandleVibrateCmd),a.MsgFuncs.set(p.RotateCmd,a.HandleRotateCmd),a}return a(c,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:1},RotateCmd:{FeatureCount:1},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),c}(r(11).ButtplugDeviceProtocol);t.Motorbunny=v}).call(this,r(12).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(16),a=r(9),o=r(1),s=r(2),u=r(6),c=r(4),l=r(5),f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WebBluetoothDevice=void 0;var d=r(7),p=r(21),h=r(15),v=r(25),m=function(t){c(p,t);var r=l(p);function p(t,s){var c;return o(this,p),(c=r.call(this,s.name,s.id))._deviceConfig=t,c._device=s,c._notificationHandlers=new Map,c._characteristics=new Map,c.Connect=function(){return f(u(c),void 0,void 0,n.mark((function e(){var t,r,o,s,u,c,l,f,p,v,m,g,y,b,w,_;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.Debug("WebBluetoothDevice: ".concat(this.constructor.name," connecting")),this._device.addEventListener("gattserverdisconnected",this.OnDisconnect),e.next=4,this._device.gatt.connect();case 4:this._server=e.sent,t=a(this._deviceConfig.Services),e.prev=6,t.s();case 8:if((r=t.n()).done){e.next=66;break}if(o=i(r.value,2),s=o[0],u=o[1],c=void 0,e.prev=11,e.prev=12,this._device.hasService(s)){e.next=15;break}return e.abrupt("continue",64);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(12);case 19:return e.next=21,this._server.getPrimaryService(s);case 21:c=e.sent,e.next=28;break;case 24:return e.prev=24,e.t1=e.catch(11),this._logger.Debug("Cannot find service ".concat(s," on ").concat(this._device.name,", continuing search: ").concat(e.t1)),e.abrupt("continue",64);case 28:if(0!==u.size){e.next=43;break}return l=[],e.prev=30,e.next=33,c.getCharacteristics();case 33:l=e.sent,e.next=40;break;case 36:throw e.prev=36,e.t2=e.catch(30),f="getCharacteristics not implemented on this platform, cannot connect to ".concat(this._device.name),d.ButtplugException.LogAndError(d.ButtplugDeviceException,this._logger,f);case 40:p=a(l);try{for(p.s();!(v=p.n()).done;)(m=v.value).properties.write||m.properties.writeWithoutResponse||m.properties.reliableWrite?this.SetNewCharacteristic(h.Endpoints.Tx,m):(m.properties.read||m.properties.broadcast||m.properties.notify||m.properties.indicate)&&this.SetNewCharacteristic(h.Endpoints.Rx,m)}catch(n){p.e(n)}finally{p.f()}return e.abrupt("continue",64);case 43:g=a(u),e.prev=44,g.s();case 46:if((y=g.n()).done){e.next=56;break}return b=i(y.value,2),w=b[0],_=b[1],e.t3=this,e.t4=h.GetEndpoint(w),e.next=52,c.getCharacteristic(_);case 52:e.t5=e.sent,e.t3.SetNewCharacteristic.call(e.t3,e.t4,e.t5);case 54:e.next=46;break;case 56:e.next=61;break;case 58:e.prev=58,e.t6=e.catch(44),g.e(e.t6);case 61:return e.prev=61,g.f(),e.finish(61);case 64:e.next=8;break;case 66:e.next=71;break;case 68:e.prev=68,e.t7=e.catch(6),t.e(e.t7);case 71:return e.prev=71,t.f(),e.finish(71);case 74:if(0!==this._characteristics.size){e.next=76;break}throw new d.ButtplugDeviceException("No usable characteristics found for ".concat(this._device.name));case 76:case"end":return e.stop()}}),e,this,[[6,68,71,74],[11,24],[12,17],[30,36],[44,58,61,64]])})))},c.Disconnect=function(){return f(u(c),void 0,void 0,n.mark((function e(){var t,r,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this._notificationHandlers.keys()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return i=r.value,e.next=7,this.Unsubscribe(new v.ButtplugDeviceReadOptions({Endpoint:i}));case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this._server.disconnect();case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})))},c.OnDisconnect=function(){c._logger.Debug("WebBluetoothDevice: ".concat(c.constructor.name," disconnecting")),c._device.removeEventListener("gattserverdisconnected",c.OnDisconnect),c.emit("deviceremoved")},c.WriteValueInternal=function(e,t){return f(u(c),void 0,void 0,n.mark((function r(){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.CheckForCharacteristic(t.Endpoint),i=this._characteristics.get(t.Endpoint),r.next=4,i.writeValue(e);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r,this)})))},c.ReadValueInternal=function(t){return f(u(c),void 0,void 0,n.mark((function r(){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.CheckForCharacteristic(t.Endpoint),i=this._characteristics.get(t.Endpoint),r.t0=e,r.next=5,i.readValue();case 5:return r.t1=r.sent.buffer,r.abrupt("return",r.t0.from.call(r.t0,r.t1));case 7:case"end":return r.stop()}}),r,this)})))},c.SubscribeToUpdatesInternal=function(e){return f(u(c),void 0,void 0,n.mark((function t(){var r,i,a=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CheckForCharacteristic(e.Endpoint),!this._notificationHandlers.has(e.Endpoint)){t.next=4;break}throw r="".concat(this._device.name," already subscribed to updates on characteristic ").concat(e.Endpoint),d.ButtplugException.LogAndError(d.ButtplugDeviceException,this._logger,r);case 4:return i=this._characteristics.get(e.Endpoint),this._logger.Trace("WebBluetoothDevice: ".concat(this.constructor.name," subscribing to updates from ").concat(i.uuid)),t.next=8,i.startNotifications();case 8:this._notificationHandlers.set(e.Endpoint,(function(t){a.CharacteristicValueChanged(t,e.Endpoint)})),i.addEventListener("characteristicvaluechanged",this._notificationHandlers.get(e.Endpoint));case 10:case"end":return t.stop()}}),t,this)})))},c.Unsubscribe=function(e){return f(u(c),void 0,void 0,n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CheckForCharacteristic(e.Endpoint),this._notificationHandlers.has(e.Endpoint)){t.next=4;break}throw r="".concat(this._device.name," not subscribed to updates on characteristic ").concat(e.Endpoint),d.ButtplugException.LogAndError(d.ButtplugDeviceException,this._logger,r);case 4:return i=this._characteristics.get(e.Endpoint),this._logger.Trace("WebBluetoothDevice: ".concat(this.constructor.name," unsubscribing to updates from ").concat(i.uuid)),i.removeEventListener("characteristicvaluechanged",this._notificationHandlers.get(e.Endpoint)),this._notificationHandlers.delete(e.Endpoint),t.next=10,i.stopNotifications();case 10:case"end":return t.stop()}}),t,this)})))},c.CharacteristicValueChanged=function(t,r){var n=t.target.value,i=n.buffer,a=e.from(i,n.byteOffset,n.byteLength);c.UpdateReceived(r,a)},c}return s(p,[{key:"CheckForCharacteristic",value:function(e){if(!this._characteristics.has(e)){var t="Characteristic ".concat(e," does not exist on device ").concat(this._device.name,".");throw d.ButtplugException.LogAndError(d.ButtplugDeviceException,this._logger,t)}}},{key:"SetNewCharacteristic",value:function(e,t){if(this._characteristics.has(e))throw new d.ButtplugDeviceException("Endpoint ".concat(e," already defined on ").concat(this._device.name));this._characteristics.set(e,t)}},{key:"Connected",get:function(){return this._server.connected}}]),p}(p.ButtplugDeviceImpl);t.WebBluetoothDevice=m}).call(this,r(12).Buffer)},function(e,t,r){"use strict";var n=r(0),i=r(9),a=r(1),o=r(2),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGamepadDeviceManager=void 0;var l=r(14),f=r(13),d=r(210),p=r(211),h=r(22),v=function(e){s(r,e);var t=u(r);function r(e){var n;return a(this,r),(n=t.call(this))._connectedGamepads=[],n.SetLogger(void 0!==e?e:l.ButtplugLogger.Logger),window.addEventListener("gamepadconnected",(function(e){console.log("Gamepad connected"),console.log(e.gamepad),n._connectedGamepads.push(e.gamepad)})),window.addEventListener("gamepaddisconnected",(function(e){console.log("Gamepad disconnected ".concat(e.gamepad)),n._connectedGamepads.includes(e.gamepad)&&n._connectedGamepads.splice(n._connectedGamepads.indexOf(e.gamepad),1)})),n}return o(r,[{key:"SetLogger",value:function(e){this._logger=e}},{key:"StartScanning",value:function(){return c(this,void 0,void 0,n.mark((function e(){var t,r,a,o,s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this._connectedGamepads);try{for(t.s();!(r=t.n()).done;)a=r.value,o=new d.WebGamepadDevice(a),s=new p.WebGamepadProtocol(o),u=new h.ButtplugDevice(s,o),this.emit("deviceadded",u)}catch(n){t.e(n)}finally{t.f()}this._connectedGamepads=[],this.emit("scanningfinished");case 4:case"end":return e.stop()}}),e,this)})))}},{key:"StopScanning",value:function(){}},{key:"IsScanning",get:function(){return!1}}]),r}(f.EventEmitter);t.WebGamepadDeviceManager=v},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGamepadDevice=void 0;var l=function(e){s(r,e);var t=u(r);function r(e){var a;return i(this,r),(a=t.call(this,e.id,e.index.toString()))._device=e,a.Connect=function(){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))},a.Disconnect=function(){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},a.OnDisconnect=function(){a._logger.Debug("WebBluetoothDevice: ".concat(a.constructor.name," disconnecting")),a.emit("deviceremoved")},a.WriteValueInternal=function(e,t){return c(o(a),void 0,void 0,n.mark((function t(){var r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.readFloatLE(0),i=e.readFloatLE(4),this._gamepad.vibrationActuator.playEffect("dual-rumble",{duration:1e3,startDelay:0,weakMagnitude:r,strongMagnitude:i}),t.abrupt("return",Promise.resolve());case 4:case"end":return t.stop()}}),t,this)})))},a.ReadValueInternal=function(e){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},a.SubscribeToUpdatesInternal=function(e){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},a.Unsubscribe=function(e){return c(o(a),void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("This should never be called"));case 1:case"end":return e.stop()}}),e)})))},a._gamepad=e,window.addEventListener("gamepaddisconnected",(function(e){e.gamepad.index===a._gamepad.index&&a.OnDisconnect()})),a}return a(r,[{key:"Connected",get:function(){return this._gamepad.connected}}]),r}(r(21).ButtplugDeviceImpl);t.WebGamepadDevice=l},function(e,t,r){"use strict";(function(e){var n=r(9),i=r(0),a=r(1),o=r(2),s=r(6),u=r(4),c=r(5),l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGamepadProtocol=void 0;var h=d(r(8)),v=r(7),m=function(t){u(l,t);var r=c(l);function l(t){var o;return a(this,l),(o=r.call(this,"WebGamepad ".concat(t.Name),t))._currentCommands=[0,0],o.Initialize=function(){return p(s(o),void 0,void 0,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))},o.runVibration=function(){return p(s(o),void 0,void 0,i.mark((function t(){var r,n=this;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e.alloc(8)).writeFloatLE(this._currentCommands[0],0),r.writeFloatLE(this._currentCommands[1],4),t.next=5,this._device.WriteValue(r);case 5:if(!(this._currentCommands[0]<.001&&this._currentCommands[1]<.001)){t.next=7;break}return t.abrupt("return");case 7:setTimeout((function(){return n.runVibration()}),100);case 8:case"end":return t.stop()}}),t,this)})))},o.HandleVibrateCmd=function(e){return p(s(o),void 0,void 0,i.mark((function t(){var r,a,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.Speeds.length<=0||e.Speeds.length>2)){t.next=2;break}throw new v.ButtplugDeviceException("WebGamepad devices require VibrateCmd to have 1 or 2 speed commands, "+"".concat(e.Speeds.length," sent."),e.Id);case 2:r=n(e.Speeds);try{for(r.s();!(a=r.n()).done;)o=a.value,this._currentCommands[o.Index]=o.Speed}catch(i){r.e(i)}finally{r.f()}return t.next=6,this.runVibration();case 6:return t.abrupt("return",new h.Ok(e.Id));case 7:case"end":return t.stop()}}),t,this)})))},o.HandleStopDeviceCmd=function(e){return p(s(o),void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HandleSingleMotorVibrateCmd(new h.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},o.HandleSingleMotorVibrateCmd=function(e){return p(s(o),void 0,void 0,i.mark((function t(){var r;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=[]).push(new h.SpeedSubcommand(0,e.Speed)),r.push(new h.SpeedSubcommand(1,e.Speed)),t.next=5,this.HandleVibrateCmd(new h.VibrateCmd(r,e.DeviceIndex,e.Id));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))},o.MsgFuncs.set(h.StopDeviceCmd,o.HandleStopDeviceCmd),o.MsgFuncs.set(h.SingleMotorVibrateCmd,o.HandleSingleMotorVibrateCmd),o.MsgFuncs.set(h.VibrateCmd,o.HandleVibrateCmd),o}return o(l,[{key:"MessageSpecifications",get:function(){return{VibrateCmd:{FeatureCount:2},SingleMotorVibrateCmd:{},StopDeviceCmd:{}}}}]),l}(r(11).ButtplugDeviceProtocol);t.WebGamepadProtocol=m}).call(this,r(12).Buffer)},function(e,t,r){"use strict";var n=r(16),i=r(90),a=r(9),o=r(0),s=r(1),u=r(2),c=r(4),l=r(5),f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtplugClientForwarder=t.ButtplugClientForwarderBrowserWebsocketConnector=void 0;var d=r(8),p=r(7),h=r(93),v=function(e){c(r,e);var t=l(r);function r(e){return s(this,r),t.call(this,e)}return u(r,[{key:"SendForwardedMessage",value:function(e){return f(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.SendMessage(e),t.abrupt("return",Promise.resolve());case 2:case"end":return t.stop()}}),t,this)})))}}]),r}(r(88).ButtplugBrowserWebsocketConnector);t.ButtplugClientForwarderBrowserWebsocketConnector=v;var m=function(){function e(t,r){var n=this;s(this,e),this._devices=new Map,this.Connect=function(){return f(n,void 0,void 0,o.mark((function e(){var t=this;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connector.Connect();case 2:this._connector.addListener("message",(function(e){return f(t,void 0,void 0,o.mark((function t(){var r,n,i;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(e),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=n.value,t.next=7,this.ReceiveDeviceCommand(i);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])})))}));case 3:case"end":return e.stop()}}),e,this)})))},this.Disconnect=function(){return f(n,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connector.Disconnect();case 2:case"end":return e.stop()}}),e,this)})))},this.AddDevice=function(e){return f(n,void 0,void 0,o.mark((function t(){var r,n=this;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.CreateDeviceAdded(e),e.addListener("deviceremoved",(function(){return n.RemoveDevice(e)})),t.next=4,this._connector.SendForwardedMessage(r);case 4:case"end":return t.stop()}}),t,this)})))},this.RemoveDevice=function(e){return f(n,void 0,void 0,o.mark((function t(){var r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.CreateDeviceRemoved(e),t.next=3,this._connector.SendForwardedMessage(r);case 3:case"end":return t.stop()}}),t,this)})))},this.ReceiveDeviceCommand=function(e){return f(n,void 0,void 0,o.mark((function t(){var r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this._devices.get(e.DeviceIndex))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,null===r||void 0===r?void 0:r.SendMessageAsync(e);case 5:return t.next=7,this._connector.SendForwardedMessage(new d.Ok(e.Id));case 7:case"end":return t.stop()}}),t,this)})))},this._clientName=t,this._connector=r}return u(e,[{key:"CreateDeviceAdded",value:function(e){if(i(this._devices.entries()).filter((function(t){return t[1].Index===e.Index})).map((function(e){return n(e,1)[0]})).length>0)throw new p.ButtplugDeviceException("Device already shared with server!");for(var t=h.getRandomInt(34);this._devices.has(t);)t=h.getRandomInt(34);return this._devices.set(t,e),new d.DeviceAdded(t,"".concat(this._clientName," - ").concat(e.Name),e.AllowedMessagesObject)}},{key:"CreateDeviceRemoved",value:function(e){var t=i(this._devices.entries()).filter((function(t){return t[1].Index===e.Index})).map((function(e){return n(e,1)[0]}));if(1===t.length){var r=t.pop();return this._devices.delete(r),new d.DeviceRemoved(r)}throw 0===t.length?new p.ButtplugDeviceException("Device not currently shared with server!"):new p.ButtplugDeviceException("Device shared with server multiple times!")}}]),e}();t.ButtplugClientForwarder=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";var n=r(0),i=r(1),a=r(2),o=r(6),s=r(4),u=r(5),c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardedDeviceManager=void 0;var l=r(14),f=r(13),d=r(22),p=r(8),h=r(94),v=r(36),m=r(93),g=r(95),y=function(e){s(r,e);var t=u(r);function r(e,a){var s;return i(this,r),(s=t.call(this))._devices=new Map,s._sorter=new v.ButtplugMessageSorter(!1),s.SendMessage=function(e){return c(o(s),void 0,void 0,n.mark((function t(){var r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._sorter.PrepareOutgoingMessage(e),t.next=3,this._connector.SendMessage(e);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})))},s.ParseConnectorMessage=function(e){switch(s._logger.Info("Got connector message."),e.constructor){case p.Ok:case p.Error:s._logger.Trace("Got remote ok/error"),s._sorter.ParseIncomingMessages([e]);break;case p.DeviceAdded:var t=e;s._logger.Info("Got device added for ".concat(t.DeviceName));var r=new h.ForwardedDevice(t.DeviceName,m.getRandomInt(34).toString()),n=new g.ForwardedDeviceProtocol(r,t.DeviceIndex,t.DeviceMessages,(function(e){return s.SendMessage(e)})),i=new d.ButtplugDevice(n,r);s._devices.set(t.DeviceIndex,i),s.emit("deviceadded",i);break;case p.DeviceRemoved:var a=e;if(!s._devices.has(a.DeviceIndex)){s._logger.Error("Cannot find remote device to remove!");break}var o=s._devices.get(a.DeviceIndex);s._devices.delete(a.DeviceIndex),s._logger.Info("Got device removed for ".concat(o.Name)),o.Disconnect();break;default:s._logger.Error("Unknown message: ".concat(e))}},s.SetLogger(void 0!==e?e:l.ButtplugLogger.Logger),s._connector=a,s._connector.addListener("message",(function(e){s.ParseConnectorMessage(e)})),s}return a(r,[{key:"SetLogger",value:function(e){this._logger=e}},{key:"StartScanning",value:function(){return c(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("scanningfinished");case 1:case"end":return e.stop()}}),e,this)})))}},{key:"StopScanning",value:function(){}},{key:"IsScanning",get:function(){return!1}}]),r}(f.EventEmitter);t.ForwardedDeviceManager=y},function(e,t,r){"use strict";var n=r(0),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateTestClient=void 0;var a=r(17),o=r(97);t.CreateTestClient=function(){return i(this,void 0,void 0,n.mark((function e(){var t,r,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new a.ButtplugClient("Test Client"),(r=new a.ButtplugServer("Test Server")).ClearDeviceManagers(),r.AddDeviceManager(new o.TestDeviceSubtypeManager),(i=new a.ButtplugEmbeddedClientConnector).Server=r,e.next=8,t.Connect(i);case 8:return e.abrupt("return",Promise.resolve(t));case 9:case"end":return e.stop()}}),e)})))}}]]);
//# sourceMappingURL=2.638b8498.chunk.js.map